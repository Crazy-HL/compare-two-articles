{"ast":null,"code":"export default {\n  data() {\n    return {\n      selectionStartX: 0,\n      selectionStartY: 0,\n      isSelecting: false,\n      overlayStyle: {\n        display: \"none\",\n        left: \"0px\",\n        top: \"0px\",\n        width: \"0px\",\n        height: \"0px\"\n      }\n    };\n  },\n  methods: {\n    startSelection(event) {\n      const iframe = document.getElementById(event.target.id === \"frameLeft\" ? \"frameLeft\" : \"frameRight\");\n      const iframeRect = iframe.getBoundingClientRect();\n      this.selectionStartX = event.clientX - iframeRect.left;\n      this.selectionStartY = event.clientY - iframeRect.top;\n      this.isSelecting = true;\n      this.overlayStyle.display = \"block\";\n      this.overlayStyle.left = `${this.selectionStartX}px`;\n      this.overlayStyle.top = `${this.selectionStartY}px`;\n    },\n    updateSelection(event) {\n      if (!this.isSelecting) return;\n      const iframe = document.getElementById(event.target.id === \"frameLeft\" ? \"frameLeft\" : \"frameRight\");\n      const iframeRect = iframe.getBoundingClientRect();\n      const currentX = event.clientX - iframeRect.left;\n      const currentY = event.clientY - iframeRect.top;\n      const width = currentX - this.selectionStartX;\n      const height = currentY - this.selectionStartY;\n      this.overlayStyle.width = `${Math.abs(width)}px`;\n      this.overlayStyle.height = `${Math.abs(height)}px`;\n      if (width < 0) this.overlayStyle.left = `${currentX}px`;\n      if (height < 0) this.overlayStyle.top = `${currentY}px`;\n    },\n    endSelection() {\n      this.isSelecting = false;\n      // 在此处可以实现从 iframe 中提取选中文本的功能\n      this.overlayStyle.display = \"none\";\n      alert(\"文本选择结束\");\n    }\n  },\n  mounted() {\n    // 注册鼠标移动和松开事件\n    document.addEventListener(\"mousemove\", this.updateSelection);\n    document.addEventListener(\"mouseup\", this.endSelection);\n  },\n  beforeDestroy() {\n    document.removeEventListener(\"mousemove\", this.updateSelection);\n    document.removeEventListener(\"mouseup\", this.endSelection);\n  }\n};","map":{"version":3,"names":["data","selectionStartX","selectionStartY","isSelecting","overlayStyle","display","left","top","width","height","methods","startSelection","event","iframe","document","getElementById","target","id","iframeRect","getBoundingClientRect","clientX","clientY","updateSelection","currentX","currentY","Math","abs","endSelection","alert","mounted","addEventListener","beforeDestroy","removeEventListener"],"sources":["D:\\vue_frame\\vue_frame\\wikitable-vue\\client\\src\\components\\news2.vue"],"sourcesContent":["<template>\r\n\t<div id=\"root\">\r\n\t\t<div class=\"div0\" id=\"div1\">\r\n\t\t\t<!-- 使用代理服务器转发请求 -->\r\n\t\t\t<iframe\r\n\t\t\t\tid=\"frameLeft\"\r\n\t\t\t\tsrc=\"http://localhost:3000/proxy/wiki/France\"\r\n\t\t\t\ttitle=\"页面1\"></iframe>\r\n\t\t\t<div id=\"overlay\" class=\"overlay\" @mousedown=\"startSelection\"></div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"div0\" id=\"div2\">\r\n\t\t\t<div class=\"VisContainer\">\r\n\t\t\t\t<div class=\"topContainer\"></div>\r\n\t\t\t\t<div class=\"botContainer\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"div0\" id=\"div3\">\r\n\t\t\t<!-- 使用代理服务器转发请求 -->\r\n\t\t\t<iframe\r\n\t\t\t\tid=\"frameRight\"\r\n\t\t\t\tsrc=\"http://localhost:3000/proxy/wiki/China\"\r\n\t\t\t\ttitle=\"页面2\"></iframe>\r\n\t\t\t<div id=\"overlay\" class=\"overlay\" @mousedown=\"startSelection\"></div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tselectionStartX: 0,\r\n\t\t\t\tselectionStartY: 0,\r\n\t\t\t\tisSelecting: false,\r\n\t\t\t\toverlayStyle: {\r\n\t\t\t\t\tdisplay: \"none\",\r\n\t\t\t\t\tleft: \"0px\",\r\n\t\t\t\t\ttop: \"0px\",\r\n\t\t\t\t\twidth: \"0px\",\r\n\t\t\t\t\theight: \"0px\"\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tstartSelection(event) {\r\n\t\t\t\tconst iframe = document.getElementById(\r\n\t\t\t\t\tevent.target.id === \"frameLeft\" ? \"frameLeft\" : \"frameRight\"\r\n\t\t\t\t);\r\n\t\t\t\tconst iframeRect = iframe.getBoundingClientRect();\r\n\r\n\t\t\t\tthis.selectionStartX = event.clientX - iframeRect.left;\r\n\t\t\t\tthis.selectionStartY = event.clientY - iframeRect.top;\r\n\t\t\t\tthis.isSelecting = true;\r\n\r\n\t\t\t\tthis.overlayStyle.display = \"block\";\r\n\t\t\t\tthis.overlayStyle.left = `${this.selectionStartX}px`;\r\n\t\t\t\tthis.overlayStyle.top = `${this.selectionStartY}px`;\r\n\t\t\t},\r\n\r\n\t\t\tupdateSelection(event) {\r\n\t\t\t\tif (!this.isSelecting) return;\r\n\t\t\t\tconst iframe = document.getElementById(\r\n\t\t\t\t\tevent.target.id === \"frameLeft\" ? \"frameLeft\" : \"frameRight\"\r\n\t\t\t\t);\r\n\t\t\t\tconst iframeRect = iframe.getBoundingClientRect();\r\n\r\n\t\t\t\tconst currentX = event.clientX - iframeRect.left;\r\n\t\t\t\tconst currentY = event.clientY - iframeRect.top;\r\n\r\n\t\t\t\tconst width = currentX - this.selectionStartX;\r\n\t\t\t\tconst height = currentY - this.selectionStartY;\r\n\r\n\t\t\t\tthis.overlayStyle.width = `${Math.abs(width)}px`;\r\n\t\t\t\tthis.overlayStyle.height = `${Math.abs(height)}px`;\r\n\t\t\t\tif (width < 0) this.overlayStyle.left = `${currentX}px`;\r\n\t\t\t\tif (height < 0) this.overlayStyle.top = `${currentY}px`;\r\n\t\t\t},\r\n\r\n\t\t\tendSelection() {\r\n\t\t\t\tthis.isSelecting = false;\r\n\t\t\t\t// 在此处可以实现从 iframe 中提取选中文本的功能\r\n\t\t\t\tthis.overlayStyle.display = \"none\";\r\n\t\t\t\talert(\"文本选择结束\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// 注册鼠标移动和松开事件\r\n\t\t\tdocument.addEventListener(\"mousemove\", this.updateSelection);\r\n\t\t\tdocument.addEventListener(\"mouseup\", this.endSelection);\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tdocument.removeEventListener(\"mousemove\", this.updateSelection);\r\n\t\t\tdocument.removeEventListener(\"mouseup\", this.endSelection);\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t#root {\r\n\t\tdisplay: flex;\r\n\t\t/* 使用 Flexbox 布局 */\r\n\t\tjustify-content: space-around;\r\n\t\t/* 在主轴上均匀分配空间 */\r\n\t\talign-items: flex-start;\r\n\t\t/* 在交叉轴上靠上对齐 */\r\n\t\theight: 100vh;\r\n\t\t/* 设定页面高度为视口高度 */\r\n\t\tmargin: 0;\r\n\t\t/* 去掉默认的 margin */\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.div0 {\r\n\t\tposition: absolute;\r\n\t\theight: 100vh;\r\n\t}\r\n\t#div1 {\r\n\t\tleft: 0;\r\n\t\twidth: 30%;\r\n\t}\r\n\t#div2 {\r\n\t\twidth: 40%;\r\n\t}\r\n\t#div3 {\r\n\t\twidth: 30%;\r\n\t\tright: 0;\r\n\t}\r\n\r\n\tiframe {\r\n\t\twidth: 100%;\r\n\t\theight: 100%; /* 确保 iframe 的内容充满容器 */\r\n\t\tborder: 1px solid #ccc;\r\n\t\toverflow: auto; /* 允许滚动 */\r\n\t}\r\n\r\n\t.overlay {\r\n\t\tposition: absolute;\r\n\t\tbackground-color: rgba(0, 0, 255, 0.2);\r\n\t\tpointer-events: none;\r\n\t\tz-index: 10;\r\n\t}\r\n</style>\r\n"],"mappings":"AA8BC,eAAe;EACdA,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,eAAe,EAAE,CAAC;MAClBC,eAAe,EAAE,CAAC;MAClBC,WAAW,EAAE,KAAK;MAClBC,YAAY,EAAE;QACbC,OAAO,EAAE,MAAM;QACfC,IAAI,EAAE,KAAK;QACXC,GAAG,EAAE,KAAK;QACVC,KAAK,EAAE,KAAK;QACZC,MAAM,EAAE;MACT;IACD,CAAC;EACF,CAAC;EACDC,OAAO,EAAE;IACRC,cAAcA,CAACC,KAAK,EAAE;MACrB,MAAMC,MAAK,GAAIC,QAAQ,CAACC,cAAc,CACrCH,KAAK,CAACI,MAAM,CAACC,EAAC,KAAM,WAAU,GAAI,WAAU,GAAI,YACjD,CAAC;MACD,MAAMC,UAAS,GAAIL,MAAM,CAACM,qBAAqB,CAAC,CAAC;MAEjD,IAAI,CAAClB,eAAc,GAAIW,KAAK,CAACQ,OAAM,GAAIF,UAAU,CAACZ,IAAI;MACtD,IAAI,CAACJ,eAAc,GAAIU,KAAK,CAACS,OAAM,GAAIH,UAAU,CAACX,GAAG;MACrD,IAAI,CAACJ,WAAU,GAAI,IAAI;MAEvB,IAAI,CAACC,YAAY,CAACC,OAAM,GAAI,OAAO;MACnC,IAAI,CAACD,YAAY,CAACE,IAAG,GAAI,GAAG,IAAI,CAACL,eAAe,IAAI;MACpD,IAAI,CAACG,YAAY,CAACG,GAAE,GAAI,GAAG,IAAI,CAACL,eAAe,IAAI;IACpD,CAAC;IAEDoB,eAAeA,CAACV,KAAK,EAAE;MACtB,IAAI,CAAC,IAAI,CAACT,WAAW,EAAE;MACvB,MAAMU,MAAK,GAAIC,QAAQ,CAACC,cAAc,CACrCH,KAAK,CAACI,MAAM,CAACC,EAAC,KAAM,WAAU,GAAI,WAAU,GAAI,YACjD,CAAC;MACD,MAAMC,UAAS,GAAIL,MAAM,CAACM,qBAAqB,CAAC,CAAC;MAEjD,MAAMI,QAAO,GAAIX,KAAK,CAACQ,OAAM,GAAIF,UAAU,CAACZ,IAAI;MAChD,MAAMkB,QAAO,GAAIZ,KAAK,CAACS,OAAM,GAAIH,UAAU,CAACX,GAAG;MAE/C,MAAMC,KAAI,GAAIe,QAAO,GAAI,IAAI,CAACtB,eAAe;MAC7C,MAAMQ,MAAK,GAAIe,QAAO,GAAI,IAAI,CAACtB,eAAe;MAE9C,IAAI,CAACE,YAAY,CAACI,KAAI,GAAI,GAAGiB,IAAI,CAACC,GAAG,CAAClB,KAAK,CAAC,IAAI;MAChD,IAAI,CAACJ,YAAY,CAACK,MAAK,GAAI,GAAGgB,IAAI,CAACC,GAAG,CAACjB,MAAM,CAAC,IAAI;MAClD,IAAID,KAAI,GAAI,CAAC,EAAE,IAAI,CAACJ,YAAY,CAACE,IAAG,GAAI,GAAGiB,QAAQ,IAAI;MACvD,IAAId,MAAK,GAAI,CAAC,EAAE,IAAI,CAACL,YAAY,CAACG,GAAE,GAAI,GAAGiB,QAAQ,IAAI;IACxD,CAAC;IAEDG,YAAYA,CAAA,EAAG;MACd,IAAI,CAACxB,WAAU,GAAI,KAAK;MACxB;MACA,IAAI,CAACC,YAAY,CAACC,OAAM,GAAI,MAAM;MAClCuB,KAAK,CAAC,QAAQ,CAAC;IAChB;EACD,CAAC;EACDC,OAAOA,CAAA,EAAG;IACT;IACAf,QAAQ,CAACgB,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACR,eAAe,CAAC;IAC5DR,QAAQ,CAACgB,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACH,YAAY,CAAC;EACxD,CAAC;EACDI,aAAaA,CAAA,EAAG;IACfjB,QAAQ,CAACkB,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAACV,eAAe,CAAC;IAC/DR,QAAQ,CAACkB,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAACL,YAAY,CAAC;EAC3D;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}