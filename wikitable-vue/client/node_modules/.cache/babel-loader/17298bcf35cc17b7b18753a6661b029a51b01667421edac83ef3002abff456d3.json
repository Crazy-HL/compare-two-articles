{"ast":null,"code":"import { computed } from \"vue\";\nexport default {\n  __name: 'InfoboxField',\n  props: {\n    value: {\n      type: [Object, Array, String, Number],\n      default: null\n    }\n  },\n  setup(__props, _ref) {\n    let {\n      expose: __expose\n    } = _ref;\n    __expose();\n    const props = __props;\n\n    // 计算属性\n    const hasContent = computed(() => {\n      if (props.value === null || props.value === undefined) return false;\n      if (Array.isArray(props.value)) return props.value.length > 0;\n      if (typeof props.value === \"object\") return Object.keys(props.value).length > 0;\n      return String(props.value).trim().length > 0;\n    });\n    const isSimpleValue = computed(() => {\n      return typeof props.value === \"string\" || typeof props.value === \"number\";\n    });\n    const isListValue = computed(() => {\n      return Array.isArray(props.value);\n    });\n    const isObjectValue = computed(() => {\n      return typeof props.value === \"object\" && !Array.isArray(props.value);\n    });\n    const displayValue = computed(() => {\n      if (!props.value) return \"\";\n      if (isSimpleValue.value) return props.value;\n      if (isListValue.value) return props.value;\n      return props.value;\n    });\n    const unit = computed(() => {\n      if (isObjectValue.value && props.value.unit) return props.value.unit;\n      return null;\n    });\n    const __returned__ = {\n      props,\n      hasContent,\n      isSimpleValue,\n      isListValue,\n      isObjectValue,\n      displayValue,\n      unit,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","props","__props","hasContent","value","undefined","Array","isArray","length","Object","keys","String","trim","isSimpleValue","isListValue","isObjectValue","displayValue","unit"],"sources":["D:/vue_frame/vue_frame/wikitable-vue/client/src/components/compoents_base/InfoboxField.vue"],"sourcesContent":["<template>\r\n\t<div class=\"infobox-field\">\r\n\t\t<template v-if=\"hasContent\">\r\n\t\t\t<!-- 简单值显示 -->\r\n\t\t\t<div v-if=\"isSimpleValue\" class=\"simple-value\">\r\n\t\t\t\t{{ displayValue }}\r\n\t\t\t\t<span v-if=\"unit\" class=\"unit\">{{ unit }}</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- 列表值显示 -->\r\n\t\t\t<div v-else-if=\"isListValue\" class=\"list-value\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tv-for=\"(item, index) in displayValue\"\r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\tclass=\"list-item\">\r\n\t\t\t\t\t{{ item }}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- 对象值显示 -->\r\n\t\t\t<div v-else-if=\"isObjectValue\" class=\"object-value\">\r\n\t\t\t\t<div v-if=\"displayValue.value !== undefined\">\r\n\t\t\t\t\t<span class=\"value\">{{ displayValue.value }}</span>\r\n\t\t\t\t\t<span v-if=\"displayValue.unit\" class=\"unit\">{{\r\n\t\t\t\t\t\tdisplayValue.unit\r\n\t\t\t\t\t}}</span>\r\n\t\t\t\t\t<div v-if=\"displayValue.year\" class=\"year\">\r\n\t\t\t\t\t\t({{ displayValue.year }})\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-else>\r\n\t\t\t\t\t{{ displayValue.text || displayValue }}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</template>\r\n\t\t<div v-else class=\"empty-content\">-</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport { computed } from \"vue\";\r\n\r\n\tconst props = defineProps({\r\n\t\tvalue: {\r\n\t\t\ttype: [Object, Array, String, Number],\r\n\t\t\tdefault: null\r\n\t\t}\r\n\t});\r\n\r\n\t// 计算属性\r\n\tconst hasContent = computed(() => {\r\n\t\tif (props.value === null || props.value === undefined) return false;\r\n\t\tif (Array.isArray(props.value)) return props.value.length > 0;\r\n\t\tif (typeof props.value === \"object\")\r\n\t\t\treturn Object.keys(props.value).length > 0;\r\n\t\treturn String(props.value).trim().length > 0;\r\n\t});\r\n\r\n\tconst isSimpleValue = computed(() => {\r\n\t\treturn typeof props.value === \"string\" || typeof props.value === \"number\";\r\n\t});\r\n\r\n\tconst isListValue = computed(() => {\r\n\t\treturn Array.isArray(props.value);\r\n\t});\r\n\r\n\tconst isObjectValue = computed(() => {\r\n\t\treturn typeof props.value === \"object\" && !Array.isArray(props.value);\r\n\t});\r\n\r\n\tconst displayValue = computed(() => {\r\n\t\tif (!props.value) return \"\";\r\n\t\tif (isSimpleValue.value) return props.value;\r\n\t\tif (isListValue.value) return props.value;\r\n\t\treturn props.value;\r\n\t});\r\n\r\n\tconst unit = computed(() => {\r\n\t\tif (isObjectValue.value && props.value.unit) return props.value.unit;\r\n\t\treturn null;\r\n\t});\r\n</script>\r\n\r\n<style scoped>\r\n\t.infobox-field {\r\n\t\twidth: 100%;\r\n\t\tmin-height: 40px;\r\n\t\tword-break: break-word;\r\n\t}\r\n\r\n\t.simple-value {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 4px;\r\n\t}\r\n\r\n\t.unit {\r\n\t\tfont-size: 0.8em;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.list-value {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 4px;\r\n\t}\r\n\r\n\t.list-item {\r\n\t\tpadding: 2px 0;\r\n\t\tborder-bottom: 1px dashed #eee;\r\n\t}\r\n\r\n\t.object-value {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 2px;\r\n\t}\r\n\r\n\t.object-value .value {\r\n\t\tfont-weight: 500;\r\n\t}\r\n\r\n\t.object-value .year {\r\n\t\tfont-size: 0.8em;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.empty-content {\r\n\t\tcolor: #999;\r\n\t\tfont-style: italic;\r\n\t}\r\n</style>\r\n"],"mappings":"AAwCC,SAASA,QAAQ,QAAQ,KAAK;;;;;;;;;;;;;;IAE9B,MAAMC,KAAK,GAAGC,OAKZ;;IAEF;IACA,MAAMC,UAAU,GAAGH,QAAQ,CAAC,MAAM;MACjC,IAAIC,KAAK,CAACG,KAAK,KAAK,IAAI,IAAIH,KAAK,CAACG,KAAK,KAAKC,SAAS,EAAE,OAAO,KAAK;MACnE,IAAIC,KAAK,CAACC,OAAO,CAACN,KAAK,CAACG,KAAK,CAAC,EAAE,OAAOH,KAAK,CAACG,KAAK,CAACI,MAAM,GAAG,CAAC;MAC7D,IAAI,OAAOP,KAAK,CAACG,KAAK,KAAK,QAAQ,EAClC,OAAOK,MAAM,CAACC,IAAI,CAACT,KAAK,CAACG,KAAK,CAAC,CAACI,MAAM,GAAG,CAAC;MAC3C,OAAOG,MAAM,CAACV,KAAK,CAACG,KAAK,CAAC,CAACQ,IAAI,CAAC,CAAC,CAACJ,MAAM,GAAG,CAAC;IAC7C,CAAC,CAAC;IAEF,MAAMK,aAAa,GAAGb,QAAQ,CAAC,MAAM;MACpC,OAAO,OAAOC,KAAK,CAACG,KAAK,KAAK,QAAQ,IAAI,OAAOH,KAAK,CAACG,KAAK,KAAK,QAAQ;IAC1E,CAAC,CAAC;IAEF,MAAMU,WAAW,GAAGd,QAAQ,CAAC,MAAM;MAClC,OAAOM,KAAK,CAACC,OAAO,CAACN,KAAK,CAACG,KAAK,CAAC;IAClC,CAAC,CAAC;IAEF,MAAMW,aAAa,GAAGf,QAAQ,CAAC,MAAM;MACpC,OAAO,OAAOC,KAAK,CAACG,KAAK,KAAK,QAAQ,IAAI,CAACE,KAAK,CAACC,OAAO,CAACN,KAAK,CAACG,KAAK,CAAC;IACtE,CAAC,CAAC;IAEF,MAAMY,YAAY,GAAGhB,QAAQ,CAAC,MAAM;MACnC,IAAI,CAACC,KAAK,CAACG,KAAK,EAAE,OAAO,EAAE;MAC3B,IAAIS,aAAa,CAACT,KAAK,EAAE,OAAOH,KAAK,CAACG,KAAK;MAC3C,IAAIU,WAAW,CAACV,KAAK,EAAE,OAAOH,KAAK,CAACG,KAAK;MACzC,OAAOH,KAAK,CAACG,KAAK;IACnB,CAAC,CAAC;IAEF,MAAMa,IAAI,GAAGjB,QAAQ,CAAC,MAAM;MAC3B,IAAIe,aAAa,CAACX,KAAK,IAAIH,KAAK,CAACG,KAAK,CAACa,IAAI,EAAE,OAAOhB,KAAK,CAACG,KAAK,CAACa,IAAI;MACpE,OAAO,IAAI;IACZ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}