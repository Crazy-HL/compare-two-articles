{"ast":null,"code":"export default {\n  props: {\n    width: {\n      type: String,\n      default: \"80%\" // 默认宽度为 80%\n    },\n    height: {\n      type: [String, Number],\n      default: \"300px\" // 默认最大高度为 300px\n    },\n    placeholder: {\n      type: String,\n      default: \"请输入文本\" // 默认 placeholder 文本\n    }\n  },\n  data() {\n    return {\n      inputText: \"\" // 绑定文本框的值\n    };\n  },\n  computed: {\n    // 动态设置样式，包括宽度和最大高度\n    textareaStyles() {\n      return {\n        width: this.width,\n        // 根据传递的宽度设置\n        maxHeight: this.height // 根据传递的最大高度设置\n      };\n    }\n  },\n  methods: {\n    // 自动调整文本框的高度\n    adjustTextareaHeight() {\n      const textarea = this.$refs.textarea;\n\n      // 重置高度以重新计算\n      textarea.style.height = \"auto\";\n\n      // 设置文本框的高度为内容的高度，确保不会超过最大高度\n      const scrollHeight = textarea.scrollHeight;\n      textarea.style.height = Math.min(scrollHeight, parseInt(this.height)) + \"px\"; // 最大高度限制\n    }\n  },\n  mounted() {\n    // 初始调整高度\n    this.adjustTextareaHeight();\n  }\n};","map":{"version":3,"names":["props","width","type","String","default","height","Number","placeholder","data","inputText","computed","textareaStyles","maxHeight","methods","adjustTextareaHeight","textarea","$refs","style","scrollHeight","Math","min","parseInt","mounted"],"sources":["D:\\vue_frame\\vue_frame\\wikitable-vue\\client\\src\\components\\input_output.vue"],"sourcesContent":["<template>\r\n\t<div class=\"textarea-container\">\r\n\t\t<textarea\r\n\t\t\tv-model=\"inputText\"\r\n\t\t\tref=\"textarea\"\r\n\t\t\t:placeholder=\"placeholder\"\r\n\t\t\t@input=\"adjustTextareaHeight\"\r\n\t\t\t:style=\"textareaStyles\"></textarea>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\twidth: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"80%\" // 默认宽度为 80%\r\n\t\t\t},\r\n\t\t\theight: {\r\n\t\t\t\ttype: [String, Number],\r\n\t\t\t\tdefault: \"300px\" // 默认最大高度为 300px\r\n\t\t\t},\r\n\t\t\tplaceholder: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"请输入文本\" // 默认 placeholder 文本\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tinputText: \"\" // 绑定文本框的值\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 动态设置样式，包括宽度和最大高度\r\n\t\t\ttextareaStyles() {\r\n\t\t\t\treturn {\r\n\t\t\t\t\twidth: this.width, // 根据传递的宽度设置\r\n\t\t\t\t\tmaxHeight: this.height // 根据传递的最大高度设置\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 自动调整文本框的高度\r\n\t\t\tadjustTextareaHeight() {\r\n\t\t\t\tconst textarea = this.$refs.textarea;\r\n\r\n\t\t\t\t// 重置高度以重新计算\r\n\t\t\t\ttextarea.style.height = \"auto\";\r\n\r\n\t\t\t\t// 设置文本框的高度为内容的高度，确保不会超过最大高度\r\n\t\t\t\tconst scrollHeight = textarea.scrollHeight;\r\n\t\t\t\ttextarea.style.height =\r\n\t\t\t\t\tMath.min(scrollHeight, parseInt(this.height)) + \"px\"; // 最大高度限制\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// 初始调整高度\r\n\t\t\tthis.adjustTextareaHeight();\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.textarea-container {\r\n\t\twidth: 100%;\r\n\t\tmax-width: 500px; /* 最大宽度 */\r\n\t\tmargin: 10px auto;\r\n\t}\r\n\r\n\ttextarea {\r\n\t\twidth: 100%;\r\n\t\tmin-height: 50px; /* 最小高度 */\r\n\t\tpadding: 10px;\r\n\t\tfont-size: 16px;\r\n\t\tline-height: 1.5;\r\n\t\tborder: 1px solid #ccc;\r\n\t\tborder-radius: 4px;\r\n\t\tresize: none; /* 禁用手动调整大小 */\r\n\t}\r\n</style>\r\n"],"mappings":"AAYC,eAAe;EACdA,KAAK,EAAE;IACNC,KAAK,EAAE;MACNC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE,KAAI,CAAE;IAChB,CAAC;IACDC,MAAM,EAAE;MACPH,IAAI,EAAE,CAACC,MAAM,EAAEG,MAAM,CAAC;MACtBF,OAAO,EAAE,OAAM,CAAE;IAClB,CAAC;IACDG,WAAW,EAAE;MACZL,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE,OAAM,CAAE;IAClB;EACD,CAAC;EACDI,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,SAAS,EAAE,EAAC,CAAE;IACf,CAAC;EACF,CAAC;EACDC,QAAQ,EAAE;IACT;IACAC,cAAcA,CAAA,EAAG;MAChB,OAAO;QACNV,KAAK,EAAE,IAAI,CAACA,KAAK;QAAE;QACnBW,SAAS,EAAE,IAAI,CAACP,MAAK,CAAE;MACxB,CAAC;IACF;EACD,CAAC;EACDQ,OAAO,EAAE;IACR;IACAC,oBAAoBA,CAAA,EAAG;MACtB,MAAMC,QAAO,GAAI,IAAI,CAACC,KAAK,CAACD,QAAQ;;MAEpC;MACAA,QAAQ,CAACE,KAAK,CAACZ,MAAK,GAAI,MAAM;;MAE9B;MACA,MAAMa,YAAW,GAAIH,QAAQ,CAACG,YAAY;MAC1CH,QAAQ,CAACE,KAAK,CAACZ,MAAK,GACnBc,IAAI,CAACC,GAAG,CAACF,YAAY,EAAEG,QAAQ,CAAC,IAAI,CAAChB,MAAM,CAAC,IAAI,IAAI,EAAE;IACxD;EACD,CAAC;EACDiB,OAAOA,CAAA,EAAG;IACT;IACA,IAAI,CAACR,oBAAoB,CAAC,CAAC;EAC5B;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}