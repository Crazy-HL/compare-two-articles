{"ast":null,"code":"import { vModelText as _vModelText, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-213dc7b4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"textarea-container\"\n};\nconst _hoisted_2 = [\"placeholder\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.inputText = $event),\n    ref: \"textarea\",\n    placeholder: $props.placeholder,\n    onInput: $setup.adjustTextareaHeight,\n    style: _normalizeStyle($setup.textareaStyles)\n  }, null, 44 /* STYLE, PROPS, NEED_HYDRATION */, _hoisted_2), [[_vModelText, $setup.inputText]])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_cache","$event","$setup","inputText","ref","placeholder","$props","onInput","adjustTextareaHeight","style","_normalizeStyle","textareaStyles","_hoisted_2"],"sources":["D:\\vue_frame\\vue_frame\\wikitable-vue\\client\\src\\components\\input_output.vue"],"sourcesContent":["<template>\r\n\t<div class=\"textarea-container\">\r\n\t\t<textarea\r\n\t\t\tv-model=\"inputText\"\r\n\t\t\tref=\"textarea\"\r\n\t\t\t:placeholder=\"placeholder\"\r\n\t\t\t@input=\"adjustTextareaHeight\"\r\n\t\t\t:style=\"textareaStyles\"></textarea>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport { ref, computed, onMounted } from \"vue\";\r\n\r\n\t// 接收父组件传递的 props\r\n\tconst props = defineProps({\r\n\t\twidth: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"10%\" // 默认宽度为 10%\r\n\t\t},\r\n\t\theight: {\r\n\t\t\ttype: [String, Number],\r\n\t\t\tdefault: \"300px\" // 默认最大高度为 300px\r\n\t\t},\r\n\t\tplaceholder: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"请输入文本\" // 默认 placeholder 文本\r\n\t\t}\r\n\t});\r\n\r\n\t// 创建响应式变量\r\n\tconst inputText = ref(\"\"); // 绑定文本框的值\r\n\tconst textarea = ref(null); // 获取textarea的引用\r\n\r\n\t// 计算样式对象，支持传入的宽度和最大高度\r\n\tconst textareaStyles = computed(() => ({\r\n\t\twidth: props.width, // 根据传入的宽度设置\r\n\t\tmaxHeight: props.height // 根据传入的最大高度设置\r\n\t}));\r\n\tconsole.log(\"2=>\", props.width.value);\r\n\t// 自动调整文本框的高度\r\n\tconst adjustTextareaHeight = () => {\r\n\t\tconst textareaElement = textarea.value;\r\n\t\ttextareaElement.style.height = \"auto\"; // 重置高度以重新计算\r\n\r\n\t\t// 获取滚动区域高度，并设置为新的高度，最大值为传入的最大高度\r\n\t\tconst scrollHeight = textareaElement.scrollHeight;\r\n\r\n\t\t// 如果 height 是带单位的字符串，处理它\r\n\t\tlet maxHeight = props.height;\r\n\t\tif (typeof maxHeight === \"string\" && maxHeight.endsWith(\"px\")) {\r\n\t\t\tmaxHeight = parseInt(maxHeight); // 仅当包含 'px' 时进行解析\r\n\t\t}\r\n\r\n\t\ttextareaElement.style.height = Math.min(scrollHeight, maxHeight) + \"px\"; // 最大高度限制\r\n\t};\r\n\r\n\t// 在组件挂载后执行一次高度调整\r\n\tonMounted(() => {\r\n\t\tadjustTextareaHeight();\r\n\t});\r\n</script>\r\n\r\n<style scoped>\r\n\t.textarea-container {\r\n\t\twidth: 100%;\r\n\t\tmax-width: 500px; /* 最大宽度 */\r\n\t}\r\n\r\n\ttextarea {\r\n\t\twidth: 100%;\r\n\t\tmin-height: 50px; /* 最小高度 */\r\n\t\tpadding: 10px;\r\n\t\tfont-size: 16px;\r\n\t\tline-height: 1.5;\r\n\t\tborder: 1px solid #ccc;\r\n\t\tborder-radius: 4px;\r\n\t\tresize: none; /* 禁用手动调整大小 */\r\n\t}\r\n</style>\r\n"],"mappings":";;;EACMA,KAAK,EAAC;AAAoB;mBADhC;;uBACCC,mBAAA,CAOM,OAPNC,UAOM,G,gBANLC,mBAAA,CAKoC;IAPtC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAGYC,MAAA,CAAAC,SAAS,GAAAF,MAAA;IAClBG,GAAG,EAAC,UAAU;IACbC,WAAW,EAAEC,MAAA,CAAAD,WAAW;IACxBE,OAAK,EAAEL,MAAA,CAAAM,oBAAoB;IAC3BC,KAAK,EAPTC,eAAA,CAOWR,MAAA,CAAAS,cAAc;kDAPzBC,UAAA,I,cAGYV,MAAA,CAAAC,SAAS,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}