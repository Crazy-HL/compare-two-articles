{"ast":null,"code":"import { computed } from \"vue\";\nexport default {\n  __name: 'InfoboxField',\n  props: {\n    value: [Object, String]\n  },\n  setup(__props, _ref) {\n    let {\n      expose: __expose\n    } = _ref;\n    __expose();\n    const props = __props;\n    const displayText = computed(() => {\n      if (!props.value) return null;\n      if (typeof props.value === \"string\") return props.value;\n      if (props.value.text) return props.value.text;\n      if (props.value.html) {\n        try {\n          const div = document.createElement(\"div\");\n          div.innerHTML = props.value.html;\n          return div.textContent || null;\n        } catch {\n          return null;\n        }\n      }\n      return null;\n    });\n    const links = computed(() => {\n      if (!props.value || typeof props.value === \"string\") return [];\n      return props.value.links || [];\n    });\n    const imageData = computed(() => {\n      if (!props.value || typeof props.value === \"string\") return null;\n      return props.value.image || null;\n    });\n    const __returned__ = {\n      props,\n      displayText,\n      links,\n      imageData,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","props","__props","displayText","value","text","html","div","document","createElement","innerHTML","textContent","links","imageData","image"],"sources":["D:/vue_frame/vue_frame/wikitable-vue/client/src/components/compoents_base/InfoboxField.vue"],"sourcesContent":["<template>\r\n\t<div class=\"infobox-field\">\r\n\t\t<template v-if=\"!value\">\r\n\t\t\t<span class=\"empty-value\">-</span>\r\n\t\t</template>\r\n\t\t<template v-else>\r\n\t\t\t<div v-if=\"displayText\" class=\"text-value\">{{ displayText }}</div>\r\n\r\n\t\t\t<div v-if=\"links.length\" class=\"links\">\r\n\t\t\t\t<div v-for=\"(link, index) in links\" :key=\"index\" class=\"link-item\">\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tv-if=\"link.isWikiLink\"\r\n\t\t\t\t\t\t:href=\"link.href\"\r\n\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\tclass=\"wiki-link\">\r\n\t\t\t\t\t\t{{ link.text }}\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<span v-else>{{ link.text }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div v-if=\"imageData\" class=\"image-container\">\r\n\t\t\t\t<img :src=\"imageData.src\" :alt=\"imageData.alt\" class=\"infobox-image\" />\r\n\t\t\t\t<div v-if=\"imageData.caption\" class=\"image-caption\">\r\n\t\t\t\t\t{{ imageData.caption }}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport { computed } from \"vue\";\r\n\r\n\tconst props = defineProps({\r\n\t\tvalue: [Object, String]\r\n\t});\r\n\r\n\tconst displayText = computed(() => {\r\n\t\tif (!props.value) return null;\r\n\t\tif (typeof props.value === \"string\") return props.value;\r\n\t\tif (props.value.text) return props.value.text;\r\n\t\tif (props.value.html) {\r\n\t\t\ttry {\r\n\t\t\t\tconst div = document.createElement(\"div\");\r\n\t\t\t\tdiv.innerHTML = props.value.html;\r\n\t\t\t\treturn div.textContent || null;\r\n\t\t\t} catch {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t});\r\n\r\n\tconst links = computed(() => {\r\n\t\tif (!props.value || typeof props.value === \"string\") return [];\r\n\t\treturn props.value.links || [];\r\n\t});\r\n\r\n\tconst imageData = computed(() => {\r\n\t\tif (!props.value || typeof props.value === \"string\") return null;\r\n\t\treturn props.value.image || null;\r\n\t});\r\n</script>\r\n\r\n<style scoped>\r\n\t.infobox-field {\r\n\t\twidth: 100%;\r\n\t\tline-height: 1.5;\r\n\t}\r\n\r\n\t.empty-value {\r\n\t\tcolor: #999;\r\n\t\tfont-style: italic;\r\n\t}\r\n\r\n\t.text-value {\r\n\t\tmargin-bottom: 6px;\r\n\t\tword-break: break-word;\r\n\t}\r\n\r\n\t.links {\r\n\t\tfont-size: 0.85em;\r\n\t\tcolor: #666;\r\n\t\tmargin-top: 4px;\r\n\t}\r\n\r\n\t.link-item {\r\n\t\tmargin-bottom: 3px;\r\n\t}\r\n\r\n\t.wiki-link {\r\n\t\tcolor: #06c;\r\n\t\ttext-decoration: none;\r\n\t}\r\n\r\n\t.wiki-link:hover {\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\r\n\t.image-container {\r\n\t\tmargin-top: 8px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.infobox-image {\r\n\t\tmax-width: 100%;\r\n\t\tmax-height: 100px;\r\n\t\tborder-radius: 4px;\r\n\t\tborder: 1px solid #eee;\r\n\t}\r\n\r\n\t.image-caption {\r\n\t\tfont-size: 0.8em;\r\n\t\tcolor: #666;\r\n\t\tmargin-top: 4px;\r\n\t\tline-height: 1.3;\r\n\t}\r\n</style>\r\n"],"mappings":"AAgCC,SAASA,QAAQ,QAAQ,KAAK;;;;;;;;;;;IAE9B,MAAMC,KAAK,GAAGC,OAEZ;IAEF,MAAMC,WAAW,GAAGH,QAAQ,CAAC,MAAM;MAClC,IAAI,CAACC,KAAK,CAACG,KAAK,EAAE,OAAO,IAAI;MAC7B,IAAI,OAAOH,KAAK,CAACG,KAAK,KAAK,QAAQ,EAAE,OAAOH,KAAK,CAACG,KAAK;MACvD,IAAIH,KAAK,CAACG,KAAK,CAACC,IAAI,EAAE,OAAOJ,KAAK,CAACG,KAAK,CAACC,IAAI;MAC7C,IAAIJ,KAAK,CAACG,KAAK,CAACE,IAAI,EAAE;QACrB,IAAI;UACH,MAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;UACzCF,GAAG,CAACG,SAAS,GAAGT,KAAK,CAACG,KAAK,CAACE,IAAI;UAChC,OAAOC,GAAG,CAACI,WAAW,IAAI,IAAI;QAC/B,CAAC,CAAC,MAAM;UACP,OAAO,IAAI;QACZ;MACD;MACA,OAAO,IAAI;IACZ,CAAC,CAAC;IAEF,MAAMC,KAAK,GAAGZ,QAAQ,CAAC,MAAM;MAC5B,IAAI,CAACC,KAAK,CAACG,KAAK,IAAI,OAAOH,KAAK,CAACG,KAAK,KAAK,QAAQ,EAAE,OAAO,EAAE;MAC9D,OAAOH,KAAK,CAACG,KAAK,CAACQ,KAAK,IAAI,EAAE;IAC/B,CAAC,CAAC;IAEF,MAAMC,SAAS,GAAGb,QAAQ,CAAC,MAAM;MAChC,IAAI,CAACC,KAAK,CAACG,KAAK,IAAI,OAAOH,KAAK,CAACG,KAAK,KAAK,QAAQ,EAAE,OAAO,IAAI;MAChE,OAAOH,KAAK,CAACG,KAAK,CAACU,KAAK,IAAI,IAAI;IACjC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}