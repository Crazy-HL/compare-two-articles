{"ast":null,"code":"import bus from \"@/js/eventBus.js\";\nexport default {\n  __name: 'CausalFlowChart',\n  props: {\n    chains: {\n      type: Array,\n      required: true,\n      default: () => []\n    }\n  },\n  setup(__props, _ref) {\n    let {\n      expose: __expose\n    } = _ref;\n    __expose();\n    const props = __props;\n\n    // Helper: map chain.country to infobox side\n    const sideFromCountry = country => {\n      // ÂÅáËÆæ 'korea' Ê∏≤ÊüìÂú®Â∑¶‰æß(div1)Ôºå'japan' Ê∏≤ÊüìÂú®Âè≥‰æß(div3)\n      return country === \"korea\" ? \"left\" : \"right\";\n    };\n\n    /**\r\n     * Èº†Ê†áÁßªÂÖ•Êüê‰∏™Âõ†ÊûúÊ≠•È™§ÔºåËß¶ÂèëÂØπÂ∫î‰æß infobox È´ò‰∫Æ\r\n     * @param {string} country - 'korea' Êàñ 'japan'\r\n     * @param {object} step - ÂåÖÂê´ text Â≠óÊÆµÁöÑÊ≠•È™§ÂØπË±°\r\n     */\n    const handleStepHover = (country, step) => {\n      const side = sideFromCountry(country);\n      // ‰ªé step.text ‰∏≠ÊèêÂèñÂ±ûÊÄßÂêçÔºöÂèñ‚ÄúXXXÔºà...Ôºâ‚ÄùÊàñ‚ÄúXXX(...)\" ÂâçÂçäÈÉ®ÂàÜ\n      const fieldKey = step.text.split(/Ôºà|\\(/)[0].trim();\n      bus.emit(`hover-${side}-infobox`, {\n        fieldKey\n      });\n    };\n\n    /**\r\n     * Èº†Ê†áÁßªÂá∫Ê≠•È™§ÔºåËß¶ÂèëÂØπÂ∫î‰æß infobox Ê∏ÖÈô§È´ò‰∫Æ\r\n     * @param {string} country\r\n     */\n    const handleStepUnhover = country => {\n      const side = sideFromCountry(country);\n      bus.emit(`unhover-${side}-infobox`);\n    };\n\n    // Áé∞ÊúâËæÖÂä©ÂáΩÊï∞Ôºö\n    const getCountryName = code => code === \"korea\" ? \"Èü©ÂõΩ\" : \"Êó•Êú¨\";\n    const getCountryFlag = code => code === \"korea\" ? \"üá∞üá∑\" : \"üáØüáµ\";\n    const __returned__ = {\n      props,\n      sideFromCountry,\n      handleStepHover,\n      handleStepUnhover,\n      getCountryName,\n      getCountryFlag,\n      get bus() {\n        return bus;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["bus","props","__props","sideFromCountry","country","handleStepHover","step","side","fieldKey","text","split","trim","emit","handleStepUnhover","getCountryName","code","getCountryFlag"],"sources":["D:/vue_frame/vue_frame/wikitable-vue/client/src/components/compoents_base/CausalFlowChart.vue"],"sourcesContent":["<template>\r\n\t<div class=\"dual-chains-container\">\r\n\t\t<div\r\n\t\t\tv-for=\"chain in chains\"\r\n\t\t\t:key=\"chain.country\"\r\n\t\t\tclass=\"country-chain\"\r\n\t\t\t:class=\"chain.country\">\r\n\t\t\t<div class=\"chain-header\">\r\n\t\t\t\t<span class=\"country-flag\">{{ getCountryFlag(chain.country) }}</span>\r\n\t\t\t\t<h3>{{ getCountryName(chain.country) }}</h3>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"vertical-chain\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tv-for=\"(step, index) in chain.steps\"\r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\tclass=\"chain-step\"\r\n\t\t\t\t\t@mouseover=\"handleStepHover(chain.country, step)\"\r\n\t\t\t\t\t@mouseout=\"handleStepUnhover(chain.country)\">\r\n\t\t\t\t\t<div class=\"step-content\">\r\n\t\t\t\t\t\t<div class=\"step-text\">{{ step.text }}</div>\r\n\t\t\t\t\t\t<div v-if=\"step.evidence\" class=\"step-evidence\">\r\n\t\t\t\t\t\t\t<div class=\"evidence-value\">{{ step.evidence }}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div v-if=\"index < chain.steps.length - 1\" class=\"step-connector\">\r\n\t\t\t\t\t\t<div class=\"connector-line\"></div>\r\n\t\t\t\t\t\t<div class=\"connector-arrow\">‚Üì</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport bus from \"@/js/eventBus.js\";\r\n\r\n\tconst props = defineProps({\r\n\t\tchains: {\r\n\t\t\ttype: Array,\r\n\t\t\trequired: true,\r\n\t\t\tdefault: () => []\r\n\t\t}\r\n\t});\r\n\r\n\t// Helper: map chain.country to infobox side\r\n\tconst sideFromCountry = country => {\r\n\t\t// ÂÅáËÆæ 'korea' Ê∏≤ÊüìÂú®Â∑¶‰æß(div1)Ôºå'japan' Ê∏≤ÊüìÂú®Âè≥‰æß(div3)\r\n\t\treturn country === \"korea\" ? \"left\" : \"right\";\r\n\t};\r\n\r\n\t/**\r\n\t * Èº†Ê†áÁßªÂÖ•Êüê‰∏™Âõ†ÊûúÊ≠•È™§ÔºåËß¶ÂèëÂØπÂ∫î‰æß infobox È´ò‰∫Æ\r\n\t * @param {string} country - 'korea' Êàñ 'japan'\r\n\t * @param {object} step - ÂåÖÂê´ text Â≠óÊÆµÁöÑÊ≠•È™§ÂØπË±°\r\n\t */\r\n\tconst handleStepHover = (country, step) => {\r\n\t\tconst side = sideFromCountry(country);\r\n\t\t// ‰ªé step.text ‰∏≠ÊèêÂèñÂ±ûÊÄßÂêçÔºöÂèñ‚ÄúXXXÔºà...Ôºâ‚ÄùÊàñ‚ÄúXXX(...)\" ÂâçÂçäÈÉ®ÂàÜ\r\n\t\tconst fieldKey = step.text.split(/Ôºà|\\(/)[0].trim();\r\n\t\tbus.emit(`hover-${side}-infobox`, { fieldKey });\r\n\t};\r\n\r\n\t/**\r\n\t * Èº†Ê†áÁßªÂá∫Ê≠•È™§ÔºåËß¶ÂèëÂØπÂ∫î‰æß infobox Ê∏ÖÈô§È´ò‰∫Æ\r\n\t * @param {string} country\r\n\t */\r\n\tconst handleStepUnhover = country => {\r\n\t\tconst side = sideFromCountry(country);\r\n\t\tbus.emit(`unhover-${side}-infobox`);\r\n\t};\r\n\r\n\t// Áé∞ÊúâËæÖÂä©ÂáΩÊï∞Ôºö\r\n\tconst getCountryName = code => (code === \"korea\" ? \"Èü©ÂõΩ\" : \"Êó•Êú¨\");\r\n\tconst getCountryFlag = code => (code === \"korea\" ? \"üá∞üá∑\" : \"üáØüáµ\");\r\n</script>\r\n\r\n<style scoped>\r\n\t.dual-chains-container {\r\n\t\tdisplay: flex;\r\n\t\tgap: 15px;\r\n\t\twidth: 100%;\r\n\t\tmargin: 15px 0;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.country-chain {\r\n\t\tflex: 1;\r\n\t\tmin-width: 0;\r\n\t\tmax-width: calc(50% - 8px);\r\n\t\tbackground: #f8f9fa;\r\n\t\tborder-radius: 10px;\r\n\t\tpadding: 12px;\r\n\t\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n\t}\r\n\r\n\t.chain-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 15px;\r\n\t\tpadding-bottom: 8px;\r\n\t\tborder-bottom: 1px solid #eee;\r\n\t}\r\n\r\n\t.country-flag {\r\n\t\tfont-size: 24px;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\r\n\t.chain-header h3 {\r\n\t\tmargin: 0;\r\n\t\tfont-size: 16px;\r\n\t\tfont-weight: 600;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\r\n\t.vertical-chain {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 12px;\r\n\t}\r\n\r\n\t.chain-step {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.step-content {\r\n\t\twidth: 100%;\r\n\t\tpadding: 10px 12px;\r\n\t\tborder-radius: 8px;\r\n\t\tbackground: white;\r\n\t\tbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.step-text {\r\n\t\tfont-size: 14px;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #333;\r\n\t\tline-height: 1.4;\r\n\t\tword-break: break-word;\r\n\t}\r\n\r\n\t.step-evidence {\r\n\t\tmargin-top: 8px;\r\n\t\tpadding: 6px 8px;\r\n\t\tborder-radius: 6px;\r\n\t\tfont-size: 12px;\r\n\t\tdisplay: inline-block;\r\n\t\twidth: fit-content;\r\n\t}\r\n\r\n\t.step-connector {\r\n\t\twidth: 100%;\r\n\t\theight: 16px;\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.connector-line {\r\n\t\twidth: 2px;\r\n\t\theight: 100%;\r\n\t\tbackground: #ddd;\r\n\t\tposition: absolute;\r\n\t}\r\n\r\n\t.connector-arrow {\r\n\t\tposition: absolute;\r\n\t\ttop: 100%;\r\n\t\tcolor: #999;\r\n\t\tfont-size: 14px;\r\n\t\tline-height: 0;\r\n\t\ttransform: translateY(-50%);\r\n\t}\r\n\r\n\t/* Èü©ÂõΩÊ†∑Âºè */\r\n\t.country-chain.korea .chain-header h3 {\r\n\t\tcolor: #1a73e8;\r\n\t}\r\n\r\n\t.country-chain.korea .step-content {\r\n\t\tborder-left: 3px solid #1a73e8;\r\n\t}\r\n\r\n\t.country-chain.korea .step-evidence {\r\n\t\tbackground: #e8f0fe;\r\n\t\tcolor: #1a73e8;\r\n\t\tborder-left: 2px solid #1a73e8;\r\n\t}\r\n\r\n\t/* Êó•Êú¨Ê†∑Âºè */\r\n\t.country-chain.japan .chain-header h3 {\r\n\t\tcolor: #9c27b0;\r\n\t}\r\n\r\n\t.country-chain.japan .step-content {\r\n\t\tborder-left: 3px solid #9c27b0;\r\n\t}\r\n\r\n\t.country-chain.japan .step-evidence {\r\n\t\tbackground: #f3e5f5;\r\n\t\tcolor: #9c27b0;\r\n\t\tborder-left: 2px solid #9c27b0;\r\n\t}\r\n\r\n\t@media (max-width: 768px) {\r\n\t\t.dual-chains-container {\r\n\t\t\tflex-direction: column;\r\n\t\t\tgap: 15px;\r\n\t\t}\r\n\r\n\t\t.country-chain {\r\n\t\t\tmax-width: 100%;\r\n\t\t}\r\n\r\n\t\t.step-content {\r\n\t\t\tpadding: 10px 12px;\r\n\t\t}\r\n\r\n\t\t.step-text {\r\n\t\t\tfont-size: 13px;\r\n\t\t}\r\n\r\n\t\t.connector-arrow {\r\n\t\t\tfont-size: 12px;\r\n\t\t}\r\n\t}\r\n</style>\r\n"],"mappings":"AAqCC,OAAOA,GAAG,MAAM,kBAAkB;;;;;;;;;;;;;;;IAElC,MAAMC,KAAK,GAAGC,OAMZ;;IAEF;IACA,MAAMC,eAAe,GAAGC,OAAO,IAAI;MAClC;MACA,OAAOA,OAAO,KAAK,OAAO,GAAG,MAAM,GAAG,OAAO;IAC9C,CAAC;;IAED;AACD;AACA;AACA;AACA;IACC,MAAMC,eAAe,GAAGA,CAACD,OAAO,EAAEE,IAAI,KAAK;MAC1C,MAAMC,IAAI,GAAGJ,eAAe,CAACC,OAAO,CAAC;MACrC;MACA,MAAMI,QAAQ,GAAGF,IAAI,CAACG,IAAI,CAACC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;MAClDX,GAAG,CAACY,IAAI,CAAC,SAASL,IAAI,UAAU,EAAE;QAAEC;MAAS,CAAC,CAAC;IAChD,CAAC;;IAED;AACD;AACA;AACA;IACC,MAAMK,iBAAiB,GAAGT,OAAO,IAAI;MACpC,MAAMG,IAAI,GAAGJ,eAAe,CAACC,OAAO,CAAC;MACrCJ,GAAG,CAACY,IAAI,CAAC,WAAWL,IAAI,UAAU,CAAC;IACpC,CAAC;;IAED;IACA,MAAMO,cAAc,GAAGC,IAAI,IAAKA,IAAI,KAAK,OAAO,GAAG,IAAI,GAAG,IAAK;IAC/D,MAAMC,cAAc,GAAGD,IAAI,IAAKA,IAAI,KAAK,OAAO,GAAG,MAAM,GAAG,MAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}