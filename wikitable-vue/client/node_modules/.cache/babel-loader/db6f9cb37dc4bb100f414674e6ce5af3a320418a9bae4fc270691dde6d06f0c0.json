{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      wikiContent: \"\",\n      // 存储维基百科页面的内容\n      extractedText: \"\" // 提取的文本\n    };\n  },\n  created() {\n    // 获取维基百科页面内容\n    this.fetchWikiPage(\"Main_Page\"); // 默认获取维基百科首页\n  },\n  methods: {\n    // 从后端获取维基百科页面内容\n    async fetchWikiPage(page) {\n      try {\n        const response = await axios.get(`http://localhost:5000/wiki`, {\n          params: {\n            page\n          }\n        });\n        this.wikiContent = response.data.content;\n      } catch (error) {\n        console.error(\"Error fetching Wikipedia page:\", error);\n      }\n    },\n    // 高亮选中的文本\n    highlightText() {\n      const selectedText = window.getSelection().toString();\n      if (selectedText) {\n        let highlightedText = `<span style=\"background-color: yellow;\">${selectedText}</span>`;\n        this.wikiContent = this.wikiContent.replace(selectedText, highlightedText);\n      } else {\n        alert(\"请选中一些文本！\");\n      }\n    },\n    // 提取选中的文本\n    extractText() {\n      const selectedText = window.getSelection().toString();\n      if (selectedText) {\n        this.extractedText = selectedText;\n      } else {\n        alert(\"请选中一些文本！\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","wikiContent","extractedText","created","fetchWikiPage","methods","page","response","get","params","content","error","console","highlightText","selectedText","window","getSelection","toString","highlightedText","replace","alert","extractText"],"sources":["D:\\vue_frame\\vue_frame\\wikitable-vue\\client\\src\\components\\test.vue"],"sourcesContent":["<template>\r\n\t<div class=\"wiki-container\">\r\n\t\t<!-- 显示从维基百科获取的内容 -->\r\n\t\t<div v-html=\"wikiContent\" class=\"wiki-content\"></div>\r\n\r\n\t\t<!-- 提供高亮选择文本的功能 -->\r\n\t\t<div class=\"controls\">\r\n\t\t\t<button @click=\"highlightText\">高亮选中文本</button>\r\n\t\t\t<button @click=\"extractText\">提取选中文本</button>\r\n\t\t</div>\r\n\r\n\t\t<!-- 显示提取的文本 -->\r\n\t\t<div v-if=\"extractedText\" class=\"extracted-text\">\r\n\t\t\t<h3>提取的文本：</h3>\r\n\t\t\t<p>{{ extractedText }}</p>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from \"axios\";\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\twikiContent: \"\", // 存储维基百科页面的内容\r\n\t\t\t\textractedText: \"\" // 提取的文本\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// 获取维基百科页面内容\r\n\t\t\tthis.fetchWikiPage(\"Main_Page\"); // 默认获取维基百科首页\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 从后端获取维基百科页面内容\r\n\t\t\tasync fetchWikiPage(page) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await axios.get(`http://localhost:5000/wiki`, {\r\n\t\t\t\t\t\tparams: { page }\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.wikiContent = response.data.content;\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error(\"Error fetching Wikipedia page:\", error);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 高亮选中的文本\r\n\t\t\thighlightText() {\r\n\t\t\t\tconst selectedText = window.getSelection().toString();\r\n\t\t\t\tif (selectedText) {\r\n\t\t\t\t\tlet highlightedText = `<span style=\"background-color: yellow;\">${selectedText}</span>`;\r\n\t\t\t\t\tthis.wikiContent = this.wikiContent.replace(\r\n\t\t\t\t\t\tselectedText,\r\n\t\t\t\t\t\thighlightedText\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"请选中一些文本！\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 提取选中的文本\r\n\t\t\textractText() {\r\n\t\t\t\tconst selectedText = window.getSelection().toString();\r\n\t\t\t\tif (selectedText) {\r\n\t\t\t\t\tthis.extractedText = selectedText;\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"请选中一些文本！\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.wiki-container {\r\n\t\tpadding: 20px;\r\n\t}\r\n\r\n\t.wiki-content {\r\n\t\tmax-width: 800px;\r\n\t\tmargin: 0 auto;\r\n\t\tfont-size: 16px;\r\n\t\tline-height: 1.6;\r\n\t}\r\n\r\n\t.controls {\r\n\t\tmargin-top: 20px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.controls button {\r\n\t\tpadding: 10px;\r\n\t\tmargin: 5px;\r\n\t\tbackground-color: #4caf50;\r\n\t\tcolor: white;\r\n\t\tborder: none;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.controls button:hover {\r\n\t\tbackground-color: #45a049;\r\n\t}\r\n\r\n\t.extracted-text {\r\n\t\tmargin-top: 20px;\r\n\t\tpadding: 10px;\r\n\t\tbackground-color: #f1f1f1;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n</style>\r\n"],"mappings":"AAoBC,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACdC,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,WAAW,EAAE,EAAE;MAAE;MACjBC,aAAa,EAAE,EAAC,CAAE;IACnB,CAAC;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACT;IACA,IAAI,CAACC,aAAa,CAAC,WAAW,CAAC,EAAE;EAClC,CAAC;EACDC,OAAO,EAAE;IACR;IACA,MAAMD,aAAaA,CAACE,IAAI,EAAE;MACzB,IAAI;QACH,MAAMC,QAAO,GAAI,MAAMR,KAAK,CAACS,GAAG,CAAC,4BAA4B,EAAE;UAC9DC,MAAM,EAAE;YAAEH;UAAK;QAChB,CAAC,CAAC;QACF,IAAI,CAACL,WAAU,GAAIM,QAAQ,CAACP,IAAI,CAACU,OAAO;MACzC,EAAE,OAAOC,KAAK,EAAE;QACfC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACvD;IACD,CAAC;IAED;IACAE,aAAaA,CAAA,EAAG;MACf,MAAMC,YAAW,GAAIC,MAAM,CAACC,YAAY,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;MACrD,IAAIH,YAAY,EAAE;QACjB,IAAII,eAAc,GAAI,2CAA2CJ,YAAY,SAAS;QACtF,IAAI,CAACb,WAAU,GAAI,IAAI,CAACA,WAAW,CAACkB,OAAO,CAC1CL,YAAY,EACZI,eACD,CAAC;MACF,OAAO;QACNE,KAAK,CAAC,UAAU,CAAC;MAClB;IACD,CAAC;IAED;IACAC,WAAWA,CAAA,EAAG;MACb,MAAMP,YAAW,GAAIC,MAAM,CAACC,YAAY,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;MACrD,IAAIH,YAAY,EAAE;QACjB,IAAI,CAACZ,aAAY,GAAIY,YAAY;MAClC,OAAO;QACNM,KAAK,CAAC,UAAU,CAAC;MAClB;IACD;EACD;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}