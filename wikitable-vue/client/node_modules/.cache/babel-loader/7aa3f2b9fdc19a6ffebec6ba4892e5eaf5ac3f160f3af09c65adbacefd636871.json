{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-e43c18bc\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"维基百科内容展示\", -1 /* HOISTED */));\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"wikiTitle\"\n}, \"输入维基百科词条：\", -1 /* HOISTED */));\nconst _hoisted_3 = [\"innerHTML\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"div\", null, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.wikiTitle = $event),\n    placeholder: \"例如：JavaScript\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.wikiTitle]]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = function () {\n      return $options.loadWiki && $options.loadWiki(...arguments);\n    })\n  }, \"加载\")]), _createElementVNode(\"div\", {\n    id: \"wikiContent\",\n    innerHTML: $data.wikiContent\n  }, null, 8 /* PROPS */, _hoisted_3)]);\n}","map":{"version":3,"names":["_createElementVNode","for","_createElementBlock","_hoisted_1","_hoisted_2","type","_cache","$event","$data","wikiTitle","placeholder","onClick","$options","loadWiki","arguments","id","innerHTML","wikiContent","_hoisted_3"],"sources":["D:\\vue_frame\\vue_frame\\wikitable-vue\\client\\src\\components\\test.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<h1>维基百科内容展示</h1>\r\n\t\t<div>\r\n\t\t\t<label for=\"wikiTitle\">输入维基百科词条：</label>\r\n\t\t\t<input type=\"text\" v-model=\"wikiTitle\" placeholder=\"例如：JavaScript\" />\r\n\t\t\t<button @click=\"loadWiki\">加载</button>\r\n\t\t</div>\r\n\t\t<div id=\"wikiContent\" v-html=\"wikiContent\"></div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\twikiTitle: \"\",\r\n\t\t\t\twikiContent: \"\",\r\n\t\t\t\tstyles: \"\"\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync loadWiki() {\r\n\t\t\t\tif (!this.wikiTitle.trim()) {\r\n\t\t\t\t\talert(\"请输入词条名称\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 发送请求到后端，获取维基百科内容和样式\r\n\t\t\t\t\tconst response = await fetch(\r\n\t\t\t\t\t\t`http://localhost:5000/wiki?title=${encodeURIComponent(\r\n\t\t\t\t\t\t\tthis.wikiTitle\r\n\t\t\t\t\t\t)}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tconst data = await response.json();\r\n\r\n\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\talert(data.error);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 注入样式和内容\r\n\t\t\t\t\tthis.styles = data.styles;\r\n\t\t\t\t\tthis.wikiContent = data.content;\r\n\r\n\t\t\t\t\t// 动态插入样式\r\n\t\t\t\t\tthis.addStyles();\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error(\"加载内容失败:\", error);\r\n\t\t\t\t\talert(\"加载内容失败\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 动态添加样式\r\n\t\t\taddStyles() {\r\n\t\t\t\tconst styleTag = document.createElement(\"style\");\r\n\t\t\t\tstyleTag.innerHTML = this.styles;\r\n\t\t\t\tdocument.head.appendChild(styleTag);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t/* 可以为页面添加一些自定义样式 */\r\n\t#wikiContent img {\r\n\t\tmax-width: 100%;\r\n\t\theight: auto;\r\n\t}\r\n\r\n\t#wikiContent p {\r\n\t\tline-height: 1.6;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n</style>\r\n"],"mappings":";;gEAEEA,mBAAA,CAAiB,YAAb,UAAQ;gEAEXA,mBAAA,CAAwC;EAAjCC,GAAG,EAAC;AAAW,GAAC,WAAS;mBAJnC;;uBACCC,mBAAA,CAQM,cAPLC,UAAiB,EACjBH,mBAAA,CAIM,cAHLI,UAAwC,E,gBACxCJ,mBAAA,CAAqE;IAA9DK,IAAI,EAAC,MAAM;IALrB,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAK+BC,KAAA,CAAAC,SAAS,GAAAF,MAAA;IAAEG,WAAW,EAAC;iDAAvBF,KAAA,CAAAC,SAAS,E,GACrCT,mBAAA,CAAqC;IAA5BW,OAAK,EAAAL,MAAA,QAAAA,MAAA;MAAA,OAAEM,QAAA,CAAAC,QAAA,IAAAD,QAAA,CAAAC,QAAA,IAAAC,SAAA,CAAQ;IAAA;KAAE,IAAE,E,GAE7Bd,mBAAA,CAAiD;IAA5Ce,EAAE,EAAC,aAAa;IAACC,SAAoB,EAAZR,KAAA,CAAAS;0BARhCC,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}