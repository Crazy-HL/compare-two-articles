{"ast":null,"code":"const MouseSelection = {\n  getSelectContent(sourceId) {\n    const selection = window.getSelection();\n    if (!selection || selection.isCollapsed) return null;\n    const textContent = selection.toString().trim();\n    if (textContent.length) {\n      return {\n        source: sourceId,\n        // 选中内容的来源（Div1 或 Div3）\n        content: textContent\n      };\n    }\n    return null;\n  },\n  selectionChangeFun(callback, sourceId) {\n    document.addEventListener(\"mouseup\", () => {\n      const selectContent = MouseSelection.getSelectContent(sourceId);\n      if (selectContent) {\n        callback(selectContent);\n      }\n    });\n  },\n  start(sourceId, callback) {\n    MouseSelection.selectionChangeFun(callback, sourceId);\n  }\n};\nexport default MouseSelection;","map":{"version":3,"names":["MouseSelection","getSelectContent","sourceId","selection","window","getSelection","isCollapsed","textContent","toString","trim","length","source","content","selectionChangeFun","callback","document","addEventListener","selectContent","start"],"sources":["D:/vue_frame/vue_frame/wikitable-vue/client/src/js/mouse_selection.js"],"sourcesContent":["const MouseSelection = {\r\n  getSelectContent(sourceId) {\r\n    const selection = window.getSelection();\r\n    if (!selection || selection.isCollapsed) return null;\r\n\r\n    const textContent = selection.toString().trim();\r\n    if (textContent.length) {\r\n      return {\r\n        source: sourceId,  // 选中内容的来源（Div1 或 Div3）\r\n        content: textContent\r\n      };\r\n    }\r\n    return null;\r\n  },\r\n\r\n  selectionChangeFun(callback, sourceId) {\r\n    document.addEventListener(\"mouseup\", () => {\r\n      const selectContent = MouseSelection.getSelectContent(sourceId);\r\n      if (selectContent) {\r\n        callback(selectContent);\r\n      }\r\n    });\r\n  },\r\n\r\n  start(sourceId, callback) {\r\n    MouseSelection.selectionChangeFun(callback, sourceId);\r\n  }\r\n};\r\n\r\nexport default MouseSelection;\r\n"],"mappings":"AAAA,MAAMA,cAAc,GAAG;EACrBC,gBAAgBA,CAACC,QAAQ,EAAE;IACzB,MAAMC,SAAS,GAAGC,MAAM,CAACC,YAAY,CAAC,CAAC;IACvC,IAAI,CAACF,SAAS,IAAIA,SAAS,CAACG,WAAW,EAAE,OAAO,IAAI;IAEpD,MAAMC,WAAW,GAAGJ,SAAS,CAACK,QAAQ,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;IAC/C,IAAIF,WAAW,CAACG,MAAM,EAAE;MACtB,OAAO;QACLC,MAAM,EAAET,QAAQ;QAAG;QACnBU,OAAO,EAAEL;MACX,CAAC;IACH;IACA,OAAO,IAAI;EACb,CAAC;EAEDM,kBAAkBA,CAACC,QAAQ,EAAEZ,QAAQ,EAAE;IACrCa,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAE,MAAM;MACzC,MAAMC,aAAa,GAAGjB,cAAc,CAACC,gBAAgB,CAACC,QAAQ,CAAC;MAC/D,IAAIe,aAAa,EAAE;QACjBH,QAAQ,CAACG,aAAa,CAAC;MACzB;IACF,CAAC,CAAC;EACJ,CAAC;EAEDC,KAAKA,CAAChB,QAAQ,EAAEY,QAAQ,EAAE;IACxBd,cAAc,CAACa,kBAAkB,CAACC,QAAQ,EAAEZ,QAAQ,CAAC;EACvD;AACF,CAAC;AAED,eAAeF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}