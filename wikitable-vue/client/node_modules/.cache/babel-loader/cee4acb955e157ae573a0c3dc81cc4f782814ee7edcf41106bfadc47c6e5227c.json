{"ast":null,"code":"import { ref, computed, onMounted, watch } from \"vue\";\nimport * as d3 from \"d3\";\nconst maxBarWidth = 60;\nexport default {\n  __name: 'BarChart',\n  props: {\n    data: {\n      type: Array,\n      default: () => [],\n      validator: value => value.every(item => \"name\" in item && \"value\" in item)\n    }\n  },\n  emits: [\"barClick\"],\n  setup(__props, _ref) {\n    let {\n      expose: __expose,\n      emit: __emit\n    } = _ref;\n    __expose();\n    const props = __props;\n    const emit = __emit;\n    const chartContainer = ref(null);\n    const colors = [\"#3498db\", \"#e74c3c\", \"#2ecc71\", \"#f39c12\", \"#9b59b6\"];\n    const hasData = computed(() => props.data.length > 0);\n    let svg, x, y, tooltip;\n    const initChart = () => {\n      if (!chartContainer.value || !hasData.value) return;\n      d3.select(chartContainer.value).selectAll(\"*\").remove();\n      const container = d3.select(chartContainer.value);\n      const width = chartContainer.value.clientWidth;\n      const height = chartContainer.value.clientHeight;\n      const margin = {\n        top: 20,\n        right: 120,\n        bottom: 30,\n        left: 40\n      };\n      svg = container.append(\"svg\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").attr(\"viewBox\", `0 0 ${width} ${height}`);\n\n      // 创建柱状图组\n      const barsGroup = svg.append(\"g\").attr(\"class\", \"bars-group\");\n\n      // 创建固定图例组（右侧）\n      const legendGroup = svg.append(\"g\").attr(\"class\", \"legend\").attr(\"transform\", `translate(${width - 110}, 20)`);\n\n      // 创建tooltip\n      tooltip = container.append(\"div\").attr(\"class\", \"chart-tooltip\").style(\"opacity\", 0);\n\n      // 设置比例尺\n      x = d3.scaleBand().domain(props.data.map((d, i) => i)).range([margin.left, width - margin.right]).padding(0.2);\n      y = d3.scaleLinear().domain([0, d3.max(props.data, d => d.value)]).nice().range([height - margin.bottom, margin.top]);\n\n      // 添加坐标轴\n      const xAxis = d3.axisBottom(x).tickFormat(i => props.data[i].name || `项目${i + 1}`).tickSizeOuter(0);\n      const yAxis = d3.axisLeft(y).tickSizeOuter(0);\n      svg.append(\"g\").attr(\"class\", \"x-axis\").attr(\"transform\", `translate(0,${height - margin.bottom})`).call(xAxis).selectAll(\"text\").style(\"text-anchor\", \"end\").attr(\"dx\", \"-.8em\").attr(\"dy\", \".15em\").attr(\"transform\", \"rotate(-45)\");\n      svg.append(\"g\").attr(\"class\", \"y-axis\").attr(\"transform\", `translate(${margin.left},0)`).call(yAxis);\n      drawChart(barsGroup, legendGroup);\n    };\n    const drawChart = (barsGroup, legendGroup) => {\n      // 绘制柱状图\n      barsGroup.selectAll(\".bar\").data(props.data).enter().append(\"rect\").attr(\"class\", \"bar\").attr(\"x\", (d, i) => props.data.length === 1 ? (chartContainer.value.clientWidth - maxBarWidth) / 2 : x(i)).attr(\"y\", d => y(d.value)).attr(\"width\", Math.min(x.bandwidth(), maxBarWidth)).attr(\"height\", d => y(0) - y(d.value)).attr(\"fill\", (d, i) => colors[i % colors.length]).style(\"opacity\", 0.8).on(\"mouseover\", function (event, d) {\n        d3.select(this).transition().duration(200).style(\"opacity\", 1);\n        tooltip.transition().duration(200).style(\"opacity\", 1);\n        tooltip.html(`\n        <div class=\"tooltip-title\">${d.name || \"数据\"}</div>\n        <div>数值: ${d.value.toFixed(2)}</div>\n      `).style(\"left\", event.pageX + 10 + \"px\").style(\"top\", event.pageY - 28 + \"px\");\n      }).on(\"mouseout\", function () {\n        d3.select(this).transition().duration(200).style(\"opacity\", 0.8);\n        tooltip.transition().duration(200).style(\"opacity\", 0);\n      }).on(\"click\", (event, d) => {\n        emit(\"barClick\", d);\n      });\n\n      // 添加固定图例\n      if (props.data.length > 1) {\n        const legendItems = legendGroup.selectAll(\".legend-item\").data(props.data).enter().append(\"g\").attr(\"class\", \"legend-item\").attr(\"transform\", (d, i) => `translate(0, ${i * 20})`).style(\"cursor\", \"pointer\").on(\"click\", (event, d) => emit(\"barClick\", d));\n        legendItems.append(\"rect\").attr(\"width\", 12).attr(\"height\", 12).attr(\"rx\", 2).attr(\"ry\", 2).attr(\"fill\", (d, i) => colors[i % colors.length]).style(\"opacity\", 0.8);\n        legendItems.append(\"text\").attr(\"x\", 18).attr(\"y\", 10).text(d => d.name || `项目${d.index + 1}`).style(\"font-size\", \"12px\").style(\"fill\", \"#666\");\n        legendItems.append(\"text\").attr(\"x\", 18).attr(\"y\", 24).text(d => d.value.toFixed(2)).style(\"font-size\", \"11px\").style(\"fill\", \"#999\");\n      }\n    };\n    onMounted(() => {\n      initChart();\n      window.addEventListener(\"resize\", initChart);\n    });\n    watch(() => props.data, initChart, {\n      deep: true\n    });\n    const __returned__ = {\n      props,\n      emit,\n      chartContainer,\n      colors,\n      maxBarWidth,\n      hasData,\n      get svg() {\n        return svg;\n      },\n      set svg(v) {\n        svg = v;\n      },\n      get x() {\n        return x;\n      },\n      set x(v) {\n        x = v;\n      },\n      get y() {\n        return y;\n      },\n      set y(v) {\n        y = v;\n      },\n      get tooltip() {\n        return tooltip;\n      },\n      set tooltip(v) {\n        tooltip = v;\n      },\n      initChart,\n      drawChart,\n      ref,\n      computed,\n      onMounted,\n      watch,\n      get d3() {\n        return d3;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","watch","d3","maxBarWidth","props","__props","emit","__emit","chartContainer","colors","hasData","data","length","svg","x","y","tooltip","initChart","value","select","selectAll","remove","container","width","clientWidth","height","clientHeight","margin","top","right","bottom","left","append","attr","barsGroup","legendGroup","style","scaleBand","domain","map","d","i","range","padding","scaleLinear","max","nice","xAxis","axisBottom","tickFormat","name","tickSizeOuter","yAxis","axisLeft","call","drawChart","enter","Math","min","bandwidth","on","event","transition","duration","html","toFixed","pageX","pageY","legendItems","text","index","window","addEventListener","deep"],"sources":["D:/vue_frame/vue_frame/wikitable-vue/client/src/components/compoents_base/charts/BarChart.vue"],"sourcesContent":["<template>\r\n\t<div ref=\"chartContainer\" class=\"bar-chart-container\">\r\n\t\t<div v-if=\"!hasData\" class=\"no-data\">-</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport { ref, computed, onMounted, watch } from \"vue\";\r\n\timport * as d3 from \"d3\";\r\n\r\n\tconst props = defineProps({\r\n\t\tdata: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t\tvalidator: value => value.every(item => \"name\" in item && \"value\" in item)\r\n\t\t}\r\n\t});\r\n\r\n\tconst emit = defineEmits([\"barClick\"]);\r\n\r\n\tconst chartContainer = ref(null);\r\n\tconst colors = [\"#3498db\", \"#e74c3c\", \"#2ecc71\", \"#f39c12\", \"#9b59b6\"];\r\n\tconst maxBarWidth = 60;\r\n\r\n\tconst hasData = computed(() => props.data.length > 0);\r\n\r\n\tlet svg, x, y, tooltip;\r\n\r\n\tconst initChart = () => {\r\n\t\tif (!chartContainer.value || !hasData.value) return;\r\n\r\n\t\td3.select(chartContainer.value).selectAll(\"*\").remove();\r\n\r\n\t\tconst container = d3.select(chartContainer.value);\r\n\t\tconst width = chartContainer.value.clientWidth;\r\n\t\tconst height = chartContainer.value.clientHeight;\r\n\t\tconst margin = { top: 20, right: 120, bottom: 30, left: 40 };\r\n\r\n\t\tsvg = container\r\n\t\t\t.append(\"svg\")\r\n\t\t\t.attr(\"width\", \"100%\")\r\n\t\t\t.attr(\"height\", \"100%\")\r\n\t\t\t.attr(\"viewBox\", `0 0 ${width} ${height}`);\r\n\r\n\t\t// 创建柱状图组\r\n\t\tconst barsGroup = svg.append(\"g\").attr(\"class\", \"bars-group\");\r\n\r\n\t\t// 创建固定图例组（右侧）\r\n\t\tconst legendGroup = svg\r\n\t\t\t.append(\"g\")\r\n\t\t\t.attr(\"class\", \"legend\")\r\n\t\t\t.attr(\"transform\", `translate(${width - 110}, 20)`);\r\n\r\n\t\t// 创建tooltip\r\n\t\ttooltip = container\r\n\t\t\t.append(\"div\")\r\n\t\t\t.attr(\"class\", \"chart-tooltip\")\r\n\t\t\t.style(\"opacity\", 0);\r\n\r\n\t\t// 设置比例尺\r\n\t\tx = d3\r\n\t\t\t.scaleBand()\r\n\t\t\t.domain(props.data.map((d, i) => i))\r\n\t\t\t.range([margin.left, width - margin.right])\r\n\t\t\t.padding(0.2);\r\n\r\n\t\ty = d3\r\n\t\t\t.scaleLinear()\r\n\t\t\t.domain([0, d3.max(props.data, d => d.value)])\r\n\t\t\t.nice()\r\n\t\t\t.range([height - margin.bottom, margin.top]);\r\n\r\n\t\t// 添加坐标轴\r\n\t\tconst xAxis = d3\r\n\t\t\t.axisBottom(x)\r\n\t\t\t.tickFormat(i => props.data[i].name || `项目${i + 1}`)\r\n\t\t\t.tickSizeOuter(0);\r\n\r\n\t\tconst yAxis = d3.axisLeft(y).tickSizeOuter(0);\r\n\r\n\t\tsvg\r\n\t\t\t.append(\"g\")\r\n\t\t\t.attr(\"class\", \"x-axis\")\r\n\t\t\t.attr(\"transform\", `translate(0,${height - margin.bottom})`)\r\n\t\t\t.call(xAxis)\r\n\t\t\t.selectAll(\"text\")\r\n\t\t\t.style(\"text-anchor\", \"end\")\r\n\t\t\t.attr(\"dx\", \"-.8em\")\r\n\t\t\t.attr(\"dy\", \".15em\")\r\n\t\t\t.attr(\"transform\", \"rotate(-45)\");\r\n\r\n\t\tsvg\r\n\t\t\t.append(\"g\")\r\n\t\t\t.attr(\"class\", \"y-axis\")\r\n\t\t\t.attr(\"transform\", `translate(${margin.left},0)`)\r\n\t\t\t.call(yAxis);\r\n\r\n\t\tdrawChart(barsGroup, legendGroup);\r\n\t};\r\n\r\n\tconst drawChart = (barsGroup, legendGroup) => {\r\n\t\t// 绘制柱状图\r\n\t\tbarsGroup\r\n\t\t\t.selectAll(\".bar\")\r\n\t\t\t.data(props.data)\r\n\t\t\t.enter()\r\n\t\t\t.append(\"rect\")\r\n\t\t\t.attr(\"class\", \"bar\")\r\n\t\t\t.attr(\"x\", (d, i) =>\r\n\t\t\t\tprops.data.length === 1\r\n\t\t\t\t\t? (chartContainer.value.clientWidth - maxBarWidth) / 2\r\n\t\t\t\t\t: x(i)\r\n\t\t\t)\r\n\t\t\t.attr(\"y\", d => y(d.value))\r\n\t\t\t.attr(\"width\", Math.min(x.bandwidth(), maxBarWidth))\r\n\t\t\t.attr(\"height\", d => y(0) - y(d.value))\r\n\t\t\t.attr(\"fill\", (d, i) => colors[i % colors.length])\r\n\t\t\t.style(\"opacity\", 0.8)\r\n\t\t\t.on(\"mouseover\", function (event, d) {\r\n\t\t\t\td3.select(this).transition().duration(200).style(\"opacity\", 1);\r\n\r\n\t\t\t\ttooltip.transition().duration(200).style(\"opacity\", 1);\r\n\r\n\t\t\t\ttooltip\r\n\t\t\t\t\t.html(\r\n\t\t\t\t\t\t`\r\n        <div class=\"tooltip-title\">${d.name || \"数据\"}</div>\r\n        <div>数值: ${d.value.toFixed(2)}</div>\r\n      `\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.style(\"left\", event.pageX + 10 + \"px\")\r\n\t\t\t\t\t.style(\"top\", event.pageY - 28 + \"px\");\r\n\t\t\t})\r\n\t\t\t.on(\"mouseout\", function () {\r\n\t\t\t\td3.select(this).transition().duration(200).style(\"opacity\", 0.8);\r\n\r\n\t\t\t\ttooltip.transition().duration(200).style(\"opacity\", 0);\r\n\t\t\t})\r\n\t\t\t.on(\"click\", (event, d) => {\r\n\t\t\t\temit(\"barClick\", d);\r\n\t\t\t});\r\n\r\n\t\t// 添加固定图例\r\n\t\tif (props.data.length > 1) {\r\n\t\t\tconst legendItems = legendGroup\r\n\t\t\t\t.selectAll(\".legend-item\")\r\n\t\t\t\t.data(props.data)\r\n\t\t\t\t.enter()\r\n\t\t\t\t.append(\"g\")\r\n\t\t\t\t.attr(\"class\", \"legend-item\")\r\n\t\t\t\t.attr(\"transform\", (d, i) => `translate(0, ${i * 20})`)\r\n\t\t\t\t.style(\"cursor\", \"pointer\")\r\n\t\t\t\t.on(\"click\", (event, d) => emit(\"barClick\", d));\r\n\r\n\t\t\tlegendItems\r\n\t\t\t\t.append(\"rect\")\r\n\t\t\t\t.attr(\"width\", 12)\r\n\t\t\t\t.attr(\"height\", 12)\r\n\t\t\t\t.attr(\"rx\", 2)\r\n\t\t\t\t.attr(\"ry\", 2)\r\n\t\t\t\t.attr(\"fill\", (d, i) => colors[i % colors.length])\r\n\t\t\t\t.style(\"opacity\", 0.8);\r\n\r\n\t\t\tlegendItems\r\n\t\t\t\t.append(\"text\")\r\n\t\t\t\t.attr(\"x\", 18)\r\n\t\t\t\t.attr(\"y\", 10)\r\n\t\t\t\t.text(d => d.name || `项目${d.index + 1}`)\r\n\t\t\t\t.style(\"font-size\", \"12px\")\r\n\t\t\t\t.style(\"fill\", \"#666\");\r\n\r\n\t\t\tlegendItems\r\n\t\t\t\t.append(\"text\")\r\n\t\t\t\t.attr(\"x\", 18)\r\n\t\t\t\t.attr(\"y\", 24)\r\n\t\t\t\t.text(d => d.value.toFixed(2))\r\n\t\t\t\t.style(\"font-size\", \"11px\")\r\n\t\t\t\t.style(\"fill\", \"#999\");\r\n\t\t}\r\n\t};\r\n\r\n\tonMounted(() => {\r\n\t\tinitChart();\r\n\t\twindow.addEventListener(\"resize\", initChart);\r\n\t});\r\n\r\n\twatch(() => props.data, initChart, { deep: true });\r\n</script>\r\n\r\n<style scoped>\r\n\t.bar-chart-container {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tmin-height: 200px;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.no-data {\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.chart-tooltip {\r\n\t\tposition: absolute;\r\n\t\tpadding: 8px;\r\n\t\tbackground: rgba(0, 0, 0, 0.8);\r\n\t\tcolor: white;\r\n\t\tborder-radius: 4px;\r\n\t\tfont-size: 12px;\r\n\t\tpointer-events: none;\r\n\t\tz-index: 10;\r\n\t\ttransition: opacity 0.2s;\r\n\t}\r\n\r\n\t.tooltip-title {\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 4px;\r\n\t}\r\n\r\n\t:deep(.x-axis text),\r\n\t:deep(.y-axis text) {\r\n\t\tfont-size: 12px;\r\n\t\tfill: #666;\r\n\t}\r\n\r\n\t:deep(.x-axis path),\r\n\t:deep(.x-axis line),\r\n\t:deep(.y-axis path),\r\n\t:deep(.y-axis line) {\r\n\t\tstroke: #ddd;\r\n\t}\r\n\r\n\t:deep(.legend-item text) {\r\n\t\tfont-family: Arial, sans-serif;\r\n\t}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}