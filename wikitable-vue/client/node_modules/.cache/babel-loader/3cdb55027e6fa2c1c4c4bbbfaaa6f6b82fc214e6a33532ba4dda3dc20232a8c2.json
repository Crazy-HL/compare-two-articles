{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport { ref, computed, onMounted, watch } from \"vue\";\nimport * as d3 from \"d3\";\nconst highlightColor = \"#FFD700\";\nexport default {\n  __name: 'FullChart',\n  props: {\n    data: {\n      type: Object,\n      default: () => ({\n        type: \"line\",\n        data: []\n      }),\n      validator: value => {\n        return value && [\"line\", \"bar\"].includes(value.type) && Array.isArray(value.data);\n      }\n    },\n    compareData: {\n      type: Array,\n      default: () => [],\n      validator: value => Array.isArray(value)\n    },\n    title: {\n      type: String,\n      default: \"\"\n    },\n    side: {\n      type: String,\n      default: \"left\",\n      validator: value => [\"left\", \"right\"].includes(value)\n    },\n    teamColors: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  setup(__props, _ref) {\n    let {\n      expose: __expose\n    } = _ref;\n    __expose();\n    const props = __props;\n    const chartContainer = ref(null);\n    const teamLegend = ref([]);\n    const color = computed(() => props.side === \"left\" ? \"#4a90e2\" : \"#ef4444\");\n    const hasData = computed(() => {\n      return props.data?.data?.length > 0 && props.data.data.every(item => item && !isNaN(item.year) && !isNaN(item.value));\n    });\n    const drawChart = () => {\n      if (!chartContainer.value || !hasData.value) {\n        d3.select(chartContainer.value).selectAll(\"*\").remove();\n        return;\n      }\n      try {\n        d3.select(chartContainer.value).selectAll(\"*\").remove();\n        teamLegend.value = [];\n        const margin = {\n          top: 30,\n          right: 30,\n          bottom: 70,\n          left: 50\n        };\n        const width = 800 - margin.left - margin.right;\n        const height = 500 - margin.top - margin.bottom;\n        const svg = d3.select(chartContainer.value).append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + 40).append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.top})`);\n        const processedData = processTeamData(props.data.data);\n        if (processedData.length === 0) return;\n        const x = props.data.type === \"bar\" ? d3.scaleBand().domain(processedData.map(d => d.year.toString())).range([0, width]).padding(0.2) : d3.scaleLinear().domain(d3.extent(processedData, d => d.year)).range([0, width]);\n        const y = d3.scaleLinear().domain([0, d3.max(processedData, d => d.value) * 1.1]).range([height, 0]);\n\n        // 绘制网格线\n        svg.append(\"g\").attr(\"class\", \"grid\").call(d3.axisLeft(y).tickSize(-width).tickFormat(\"\")).selectAll(\"line\").attr(\"stroke\", \"#e2e8f0\").attr(\"stroke-dasharray\", \"2,2\");\n\n        // 绘制坐标轴\n        svg.append(\"g\").attr(\"transform\", `translate(0,${height})`).call(props.data.type === \"bar\" ? d3.axisBottom(x) : d3.axisBottom(x).tickFormat(d3.format(\"d\")));\n        svg.append(\"g\").call(d3.axisLeft(y));\n\n        // 添加标签\n        svg.append(\"text\").attr(\"transform\", `translate(${width / 2},${height + margin.top + 10})`).style(\"text-anchor\", \"middle\").text(\"年份\");\n        svg.append(\"text\").attr(\"transform\", \"rotate(-90)\").attr(\"y\", 0 - margin.left).attr(\"x\", 0 - height / 2).attr(\"dy\", \"1em\").style(\"text-anchor\", \"middle\").text(\"数值\");\n        svg.append(\"text\").attr(\"x\", width / 2).attr(\"y\", 0 - margin.top / 2).attr(\"text-anchor\", \"middle\").style(\"font-size\", \"16px\").style(\"font-weight\", \"bold\").text(props.title);\n        if (props.data.type === \"bar\") {\n          drawTeamBarChart(svg, processedData, x, y, width, height);\n        } else {\n          drawTeamLineChart(svg, processedData, x, y);\n        }\n\n        // 添加团队图例\n        if (teamLegend.value.length > 0) {\n          const legend = svg.append(\"g\").attr(\"class\", \"legend\").attr(\"transform\", `translate(0,${height + 40})`);\n          legend.selectAll(\".legend-item\").data(teamLegend.value).enter().append(\"g\").attr(\"class\", \"legend-item\").attr(\"transform\", (d, i) => `translate(${i * 150}, 0)`).each(function (d) {\n            d3.select(this).append(\"rect\").attr(\"width\", 12).attr(\"height\", 12).attr(\"fill\", d.color);\n            d3.select(this).append(\"text\").attr(\"x\", 16).attr(\"y\", 9).attr(\"dy\", \"0.35em\").style(\"font-size\", \"10px\").text(d.team);\n          });\n        }\n      } catch (error) {\n        console.error(\"图表渲染错误:\", error);\n      }\n    };\n    const processTeamData = data => {\n      const teamMap = new Map();\n      const result = [];\n      data.forEach(item => {\n        if (!item || !item.year || isNaN(item.value)) return;\n        const key = `${item.year}-${item.team || \"Unknown\"}`;\n        if (!teamMap.has(key)) {\n          teamMap.set(key, true);\n          result.push({\n            ...item,\n            displayYear: item.team ? `${item.year} (${item.team})` : item.year.toString()\n          });\n          if (item.team && props.teamColors[item.team] && !teamLegend.value.some(t => t.team === item.team)) {\n            teamLegend.value.push({\n              team: item.team,\n              color: props.teamColors[item.team]\n            });\n          }\n        }\n      });\n      return result.sort((a, b) => a.year - b.year);\n    };\n    const drawTeamBarChart = (svg, data, x, y, width, height) => {\n      const teamGroups = d3.group(data, d => d.team);\n      const xSubgroup = d3.scaleBand().domain([...teamGroups.keys()]).range([0, x.bandwidth()]).padding(0.05);\n      svg.append(\"g\").selectAll(\"g\").data(d3.group(data, d => d.year)).enter().append(\"g\").attr(\"transform\", d => `translate(${x(d[0])},0)`).selectAll(\"rect\").data(d => {\n        const yearData = d[1];\n        return [...teamGroups.keys()].map(team => {\n          const teamData = yearData.find(item => item.team === team);\n          return {\n            year: d[0],\n            team,\n            value: teamData?.value || 0,\n            color: props.teamColors[team] || \"#999\"\n          };\n        });\n      }).enter().append(\"rect\").attr(\"x\", d => xSubgroup(d.team)).attr(\"y\", d => y(d.value)).attr(\"width\", xSubgroup.bandwidth()).attr(\"height\", d => height - y(d.value)).attr(\"fill\", d => d.color).attr(\"rx\", 2).attr(\"ry\", 2);\n    };\n    const drawTeamLineChart = (svg, data, x, y) => {\n      const teamGroups = d3.group(data, d => d.team);\n      teamGroups.forEach((teamData, team) => {\n        const line = d3.line().x(d => x(d.year)).y(d => y(d.value)).curve(d3.curveMonotoneX);\n        svg.append(\"path\").datum(teamData).attr(\"fill\", \"none\").attr(\"stroke\", props.teamColors[team] || \"#999\").attr(\"stroke-width\", 3).attr(\"d\", line);\n        svg.selectAll(`.dot-${team}`).data(teamData).enter().append(\"circle\").attr(\"cx\", d => x(d.year)).attr(\"cy\", d => y(d.value)).attr(\"r\", 6).attr(\"fill\", props.teamColors[team] || \"#999\").attr(\"stroke\", \"white\").attr(\"stroke-width\", 2);\n      });\n      if (props.compareData && props.compareData.length > 0) {\n        const commonYears = getCommonYears(data, props.compareData);\n        commonYears.forEach(year => {\n          const points = data.filter(d => d.year === year);\n          points.forEach(point => {\n            svg.append(\"circle\").attr(\"cx\", x(point.year)).attr(\"cy\", y(point.value)).attr(\"r\", 8).attr(\"fill\", highlightColor).attr(\"stroke\", \"#FF8C00\").attr(\"stroke-width\", 2).attr(\"class\", \"highlight-point\");\n          });\n        });\n      }\n    };\n    const getCommonYears = (data1, data2) => {\n      const years1 = new Set(data1.map(d => d.year));\n      const years2 = new Set(data2.filter(d => d).map(d => d.year));\n      return [...years1].filter(year => years2.has(year));\n    };\n    const formatValue = value => {\n      if (value >= 1000000) return `$${(value / 1000000).toFixed(1)}M`;\n      if (value >= 1000) return `$${(value / 1000).toFixed(1)}K`;\n      return value.toLocaleString();\n    };\n    watch(() => [props.data, props.compareData, props.title], drawChart, {\n      deep: true\n    });\n    onMounted(() => {\n      setTimeout(drawChart, 100);\n    });\n    const __returned__ = {\n      props,\n      chartContainer,\n      teamLegend,\n      color,\n      highlightColor,\n      hasData,\n      drawChart,\n      processTeamData,\n      drawTeamBarChart,\n      drawTeamLineChart,\n      getCommonYears,\n      formatValue,\n      ref,\n      computed,\n      onMounted,\n      watch,\n      get d3() {\n        return d3;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","watch","d3","highlightColor","props","__props","chartContainer","teamLegend","color","side","hasData","data","length","every","item","isNaN","year","value","drawChart","select","selectAll","remove","margin","top","right","bottom","left","width","height","svg","append","attr","processedData","processTeamData","x","type","scaleBand","domain","map","d","toString","range","padding","scaleLinear","extent","y","max","call","axisLeft","tickSize","tickFormat","axisBottom","format","style","text","title","drawTeamBarChart","drawTeamLineChart","legend","enter","i","each","team","error","console","teamMap","Map","result","forEach","key","has","set","push","displayYear","teamColors","some","t","sort","a","b","teamGroups","group","xSubgroup","keys","bandwidth","yearData","teamData","find","line","curve","curveMonotoneX","datum","compareData","commonYears","getCommonYears","points","filter","point","data1","data2","years1","Set","years2","formatValue","toFixed","toLocaleString","deep","setTimeout"],"sources":["D:/vue_frame/vue_frame/wikitable-vue/client/src/components/compoents_base/FullChart.vue"],"sourcesContent":["<template>\r\n\t<div ref=\"chartContainer\" class=\"full-chart\">\r\n\t\t<div v-if=\"!hasData\" class=\"no-data-message\">无数据可显示</div>\r\n\t\t<div v-if=\"teamLegend.length > 0\" class=\"team-legend\">\r\n\t\t\t<div v-for=\"item in teamLegend\" :key=\"item.team\" class=\"legend-item\">\r\n\t\t\t\t<span\r\n\t\t\t\t\tclass=\"legend-color\"\r\n\t\t\t\t\t:style=\"{ backgroundColor: item.color }\"></span>\r\n\t\t\t\t<span class=\"legend-text\">{{ item.team }}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport { ref, computed, onMounted, watch } from \"vue\";\r\n\timport * as d3 from \"d3\";\r\n\r\n\tconst props = defineProps({\r\n\t\tdata: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({\r\n\t\t\t\ttype: \"line\",\r\n\t\t\t\tdata: []\r\n\t\t\t}),\r\n\t\t\tvalidator: value => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tvalue &&\r\n\t\t\t\t\t[\"line\", \"bar\"].includes(value.type) &&\r\n\t\t\t\t\tArray.isArray(value.data)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcompareData: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t\tvalidator: value => Array.isArray(value)\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"\"\r\n\t\t},\r\n\t\tside: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"left\",\r\n\t\t\tvalidator: value => [\"left\", \"right\"].includes(value)\r\n\t\t},\r\n\t\tteamColors: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({})\r\n\t\t}\r\n\t});\r\n\r\n\tconst chartContainer = ref(null);\r\n\tconst teamLegend = ref([]);\r\n\tconst color = computed(() => (props.side === \"left\" ? \"#4a90e2\" : \"#ef4444\"));\r\n\tconst highlightColor = \"#FFD700\";\r\n\tconst hasData = computed(() => {\r\n\t\treturn (\r\n\t\t\tprops.data?.data?.length > 0 &&\r\n\t\t\tprops.data.data.every(\r\n\t\t\t\titem => item && !isNaN(item.year) && !isNaN(item.value)\r\n\t\t\t)\r\n\t\t);\r\n\t});\r\n\r\n\tconst drawChart = () => {\r\n\t\tif (!chartContainer.value || !hasData.value) {\r\n\t\t\td3.select(chartContainer.value).selectAll(\"*\").remove();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\td3.select(chartContainer.value).selectAll(\"*\").remove();\r\n\t\t\tteamLegend.value = [];\r\n\r\n\t\t\tconst margin = { top: 30, right: 30, bottom: 70, left: 50 };\r\n\t\t\tconst width = 800 - margin.left - margin.right;\r\n\t\t\tconst height = 500 - margin.top - margin.bottom;\r\n\r\n\t\t\tconst svg = d3\r\n\t\t\t\t.select(chartContainer.value)\r\n\t\t\t\t.append(\"svg\")\r\n\t\t\t\t.attr(\"width\", width + margin.left + margin.right)\r\n\t\t\t\t.attr(\"height\", height + margin.top + margin.bottom + 40)\r\n\t\t\t\t.append(\"g\")\r\n\t\t\t\t.attr(\"transform\", `translate(${margin.left},${margin.top})`);\r\n\r\n\t\t\tconst processedData = processTeamData(props.data.data);\r\n\t\t\tif (processedData.length === 0) return;\r\n\r\n\t\t\tconst x =\r\n\t\t\t\tprops.data.type === \"bar\"\r\n\t\t\t\t\t? d3\r\n\t\t\t\t\t\t\t.scaleBand()\r\n\t\t\t\t\t\t\t.domain(processedData.map(d => d.year.toString()))\r\n\t\t\t\t\t\t\t.range([0, width])\r\n\t\t\t\t\t\t\t.padding(0.2)\r\n\t\t\t\t\t: d3\r\n\t\t\t\t\t\t\t.scaleLinear()\r\n\t\t\t\t\t\t\t.domain(d3.extent(processedData, d => d.year))\r\n\t\t\t\t\t\t\t.range([0, width]);\r\n\r\n\t\t\tconst y = d3\r\n\t\t\t\t.scaleLinear()\r\n\t\t\t\t.domain([0, d3.max(processedData, d => d.value) * 1.1])\r\n\t\t\t\t.range([height, 0]);\r\n\r\n\t\t\t// 绘制网格线\r\n\t\t\tsvg\r\n\t\t\t\t.append(\"g\")\r\n\t\t\t\t.attr(\"class\", \"grid\")\r\n\t\t\t\t.call(d3.axisLeft(y).tickSize(-width).tickFormat(\"\"))\r\n\t\t\t\t.selectAll(\"line\")\r\n\t\t\t\t.attr(\"stroke\", \"#e2e8f0\")\r\n\t\t\t\t.attr(\"stroke-dasharray\", \"2,2\");\r\n\r\n\t\t\t// 绘制坐标轴\r\n\t\t\tsvg\r\n\t\t\t\t.append(\"g\")\r\n\t\t\t\t.attr(\"transform\", `translate(0,${height})`)\r\n\t\t\t\t.call(\r\n\t\t\t\t\tprops.data.type === \"bar\"\r\n\t\t\t\t\t\t? d3.axisBottom(x)\r\n\t\t\t\t\t\t: d3.axisBottom(x).tickFormat(d3.format(\"d\"))\r\n\t\t\t\t);\r\n\t\t\tsvg.append(\"g\").call(d3.axisLeft(y));\r\n\r\n\t\t\t// 添加标签\r\n\t\t\tsvg\r\n\t\t\t\t.append(\"text\")\r\n\t\t\t\t.attr(\r\n\t\t\t\t\t\"transform\",\r\n\t\t\t\t\t`translate(${width / 2},${height + margin.top + 10})`\r\n\t\t\t\t)\r\n\t\t\t\t.style(\"text-anchor\", \"middle\")\r\n\t\t\t\t.text(\"年份\");\r\n\t\t\tsvg\r\n\t\t\t\t.append(\"text\")\r\n\t\t\t\t.attr(\"transform\", \"rotate(-90)\")\r\n\t\t\t\t.attr(\"y\", 0 - margin.left)\r\n\t\t\t\t.attr(\"x\", 0 - height / 2)\r\n\t\t\t\t.attr(\"dy\", \"1em\")\r\n\t\t\t\t.style(\"text-anchor\", \"middle\")\r\n\t\t\t\t.text(\"数值\");\r\n\t\t\tsvg\r\n\t\t\t\t.append(\"text\")\r\n\t\t\t\t.attr(\"x\", width / 2)\r\n\t\t\t\t.attr(\"y\", 0 - margin.top / 2)\r\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\r\n\t\t\t\t.style(\"font-size\", \"16px\")\r\n\t\t\t\t.style(\"font-weight\", \"bold\")\r\n\t\t\t\t.text(props.title);\r\n\r\n\t\t\tif (props.data.type === \"bar\") {\r\n\t\t\t\tdrawTeamBarChart(svg, processedData, x, y, width, height);\r\n\t\t\t} else {\r\n\t\t\t\tdrawTeamLineChart(svg, processedData, x, y);\r\n\t\t\t}\r\n\r\n\t\t\t// 添加团队图例\r\n\t\t\tif (teamLegend.value.length > 0) {\r\n\t\t\t\tconst legend = svg\r\n\t\t\t\t\t.append(\"g\")\r\n\t\t\t\t\t.attr(\"class\", \"legend\")\r\n\t\t\t\t\t.attr(\"transform\", `translate(0,${height + 40})`);\r\n\r\n\t\t\t\tlegend\r\n\t\t\t\t\t.selectAll(\".legend-item\")\r\n\t\t\t\t\t.data(teamLegend.value)\r\n\t\t\t\t\t.enter()\r\n\t\t\t\t\t.append(\"g\")\r\n\t\t\t\t\t.attr(\"class\", \"legend-item\")\r\n\t\t\t\t\t.attr(\"transform\", (d, i) => `translate(${i * 150}, 0)`)\r\n\t\t\t\t\t.each(function (d) {\r\n\t\t\t\t\t\td3.select(this)\r\n\t\t\t\t\t\t\t.append(\"rect\")\r\n\t\t\t\t\t\t\t.attr(\"width\", 12)\r\n\t\t\t\t\t\t\t.attr(\"height\", 12)\r\n\t\t\t\t\t\t\t.attr(\"fill\", d.color);\r\n\r\n\t\t\t\t\t\td3.select(this)\r\n\t\t\t\t\t\t\t.append(\"text\")\r\n\t\t\t\t\t\t\t.attr(\"x\", 16)\r\n\t\t\t\t\t\t\t.attr(\"y\", 9)\r\n\t\t\t\t\t\t\t.attr(\"dy\", \"0.35em\")\r\n\t\t\t\t\t\t\t.style(\"font-size\", \"10px\")\r\n\t\t\t\t\t\t\t.text(d.team);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"图表渲染错误:\", error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst processTeamData = data => {\r\n\t\tconst teamMap = new Map();\r\n\t\tconst result = [];\r\n\r\n\t\tdata.forEach(item => {\r\n\t\t\tif (!item || !item.year || isNaN(item.value)) return;\r\n\r\n\t\t\tconst key = `${item.year}-${item.team || \"Unknown\"}`;\r\n\t\t\tif (!teamMap.has(key)) {\r\n\t\t\t\tteamMap.set(key, true);\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\t...item,\r\n\t\t\t\t\tdisplayYear: item.team\r\n\t\t\t\t\t\t? `${item.year} (${item.team})`\r\n\t\t\t\t\t\t: item.year.toString()\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\titem.team &&\r\n\t\t\t\t\tprops.teamColors[item.team] &&\r\n\t\t\t\t\t!teamLegend.value.some(t => t.team === item.team)\r\n\t\t\t\t) {\r\n\t\t\t\t\tteamLegend.value.push({\r\n\t\t\t\t\t\tteam: item.team,\r\n\t\t\t\t\t\tcolor: props.teamColors[item.team]\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn result.sort((a, b) => a.year - b.year);\r\n\t};\r\n\r\n\tconst drawTeamBarChart = (svg, data, x, y, width, height) => {\r\n\t\tconst teamGroups = d3.group(data, d => d.team);\r\n\t\tconst xSubgroup = d3\r\n\t\t\t.scaleBand()\r\n\t\t\t.domain([...teamGroups.keys()])\r\n\t\t\t.range([0, x.bandwidth()])\r\n\t\t\t.padding(0.05);\r\n\r\n\t\tsvg\r\n\t\t\t.append(\"g\")\r\n\t\t\t.selectAll(\"g\")\r\n\t\t\t.data(d3.group(data, d => d.year))\r\n\t\t\t.enter()\r\n\t\t\t.append(\"g\")\r\n\t\t\t.attr(\"transform\", d => `translate(${x(d[0])},0)`)\r\n\t\t\t.selectAll(\"rect\")\r\n\t\t\t.data(d => {\r\n\t\t\t\tconst yearData = d[1];\r\n\t\t\t\treturn [...teamGroups.keys()].map(team => {\r\n\t\t\t\t\tconst teamData = yearData.find(item => item.team === team);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tyear: d[0],\r\n\t\t\t\t\t\tteam,\r\n\t\t\t\t\t\tvalue: teamData?.value || 0,\r\n\t\t\t\t\t\tcolor: props.teamColors[team] || \"#999\"\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.enter()\r\n\t\t\t.append(\"rect\")\r\n\t\t\t.attr(\"x\", d => xSubgroup(d.team))\r\n\t\t\t.attr(\"y\", d => y(d.value))\r\n\t\t\t.attr(\"width\", xSubgroup.bandwidth())\r\n\t\t\t.attr(\"height\", d => height - y(d.value))\r\n\t\t\t.attr(\"fill\", d => d.color)\r\n\t\t\t.attr(\"rx\", 2)\r\n\t\t\t.attr(\"ry\", 2);\r\n\t};\r\n\r\n\tconst drawTeamLineChart = (svg, data, x, y) => {\r\n\t\tconst teamGroups = d3.group(data, d => d.team);\r\n\r\n\t\tteamGroups.forEach((teamData, team) => {\r\n\t\t\tconst line = d3\r\n\t\t\t\t.line()\r\n\t\t\t\t.x(d => x(d.year))\r\n\t\t\t\t.y(d => y(d.value))\r\n\t\t\t\t.curve(d3.curveMonotoneX);\r\n\r\n\t\t\tsvg\r\n\t\t\t\t.append(\"path\")\r\n\t\t\t\t.datum(teamData)\r\n\t\t\t\t.attr(\"fill\", \"none\")\r\n\t\t\t\t.attr(\"stroke\", props.teamColors[team] || \"#999\")\r\n\t\t\t\t.attr(\"stroke-width\", 3)\r\n\t\t\t\t.attr(\"d\", line);\r\n\r\n\t\t\tsvg\r\n\t\t\t\t.selectAll(`.dot-${team}`)\r\n\t\t\t\t.data(teamData)\r\n\t\t\t\t.enter()\r\n\t\t\t\t.append(\"circle\")\r\n\t\t\t\t.attr(\"cx\", d => x(d.year))\r\n\t\t\t\t.attr(\"cy\", d => y(d.value))\r\n\t\t\t\t.attr(\"r\", 6)\r\n\t\t\t\t.attr(\"fill\", props.teamColors[team] || \"#999\")\r\n\t\t\t\t.attr(\"stroke\", \"white\")\r\n\t\t\t\t.attr(\"stroke-width\", 2);\r\n\t\t});\r\n\r\n\t\tif (props.compareData && props.compareData.length > 0) {\r\n\t\t\tconst commonYears = getCommonYears(data, props.compareData);\r\n\t\t\tcommonYears.forEach(year => {\r\n\t\t\t\tconst points = data.filter(d => d.year === year);\r\n\t\t\t\tpoints.forEach(point => {\r\n\t\t\t\t\tsvg\r\n\t\t\t\t\t\t.append(\"circle\")\r\n\t\t\t\t\t\t.attr(\"cx\", x(point.year))\r\n\t\t\t\t\t\t.attr(\"cy\", y(point.value))\r\n\t\t\t\t\t\t.attr(\"r\", 8)\r\n\t\t\t\t\t\t.attr(\"fill\", highlightColor)\r\n\t\t\t\t\t\t.attr(\"stroke\", \"#FF8C00\")\r\n\t\t\t\t\t\t.attr(\"stroke-width\", 2)\r\n\t\t\t\t\t\t.attr(\"class\", \"highlight-point\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst getCommonYears = (data1, data2) => {\r\n\t\tconst years1 = new Set(data1.map(d => d.year));\r\n\t\tconst years2 = new Set(data2.filter(d => d).map(d => d.year));\r\n\t\treturn [...years1].filter(year => years2.has(year));\r\n\t};\r\n\r\n\tconst formatValue = value => {\r\n\t\tif (value >= 1000000) return `$${(value / 1000000).toFixed(1)}M`;\r\n\t\tif (value >= 1000) return `$${(value / 1000).toFixed(1)}K`;\r\n\t\treturn value.toLocaleString();\r\n\t};\r\n\r\n\twatch(() => [props.data, props.compareData, props.title], drawChart, {\r\n\t\tdeep: true\r\n\t});\r\n\r\n\tonMounted(() => {\r\n\t\tsetTimeout(drawChart, 100);\r\n\t});\r\n</script>\r\n\r\n<style scoped>\r\n\t.full-chart {\r\n\t\twidth: 100%;\r\n\t\theight: 550px;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.no-data-message {\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\tcolor: #94a3b8;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\t.team-legend {\r\n\t\tposition: absolute;\r\n\t\tbottom: 10px;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: center;\r\n\t\tgap: 15px;\r\n\t\tpadding: 8px 15px;\r\n\t\tbackground: rgba(255, 255, 255, 0.9);\r\n\t\tborder-radius: 4px;\r\n\t\tbox-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n\t}\r\n\r\n\t.legend-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 5px;\r\n\t}\r\n\r\n\t.legend-color {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 12px;\r\n\t\theight: 12px;\r\n\t\tborder-radius: 2px;\r\n\t}\r\n\r\n\t.legend-text {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.full-chart :deep(.highlight-point) {\r\n\t\tanimation: pulse 1.5s infinite;\r\n\t}\r\n\r\n\t@keyframes pulse {\r\n\t\t0% {\r\n\t\t\tr: 6;\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t\t50% {\r\n\t\t\tr: 9;\r\n\t\t\topacity: 0.8;\r\n\t\t}\r\n\t\t100% {\r\n\t\t\tr: 6;\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}