{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = [\"id\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" Div 的内容 \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.contentList, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.id,\n      id: item.id\n    }, [_createElementVNode(\"h2\", null, _toDisplayString(item.title), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(item.content), 1 /* TEXT */)], 8 /* PROPS */, _hoisted_1);\n  }), 128 /* KEYED_FRAGMENT */)), _createCommentVNode(\" 弹出框 \"), $setup.popupVisible ? (_openBlock(), _createBlock($setup[\"TextPopup\"], {\n    key: 0,\n    visible: $setup.popupVisible,\n    content: $setup.popupContent,\n    onClose: $setup.closePopup\n  }, null, 8 /* PROPS */, [\"visible\", \"content\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["_createElementBlock","_createCommentVNode","_Fragment","_renderList","$setup","contentList","item","key","id","_createElementVNode","_toDisplayString","title","content","_hoisted_1","popupVisible","_createBlock","visible","popupContent","onClose","closePopup"],"sources":["D:\\vue_frame\\vue_frame\\wikitable-vue\\client\\src\\components\\Div1.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<!-- Div 的内容 -->\r\n\t\t<div v-for=\"item in contentList\" :key=\"item.id\" :id=\"item.id\">\r\n\t\t\t<h2>{{ item.title }}</h2>\r\n\t\t\t<p>{{ item.content }}</p>\r\n\t\t</div>\r\n\r\n\t\t<!-- 弹出框 -->\r\n\t\t<TextPopup\r\n\t\t\tv-if=\"popupVisible\"\r\n\t\t\t:visible=\"popupVisible\"\r\n\t\t\t:content=\"popupContent\"\r\n\t\t\t@close=\"closePopup\" />\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport { ref, onMounted, onUnmounted } from \"vue\";\r\n\timport bus from \"@/js/eventBus.js\";\r\n\timport TextPopup from \"@/components/TextPopup.vue\"; // 引入弹出框组件\r\n\r\n\tconst contentList = ref([\r\n\t\t{\r\n\t\t\tid: \"section-1\",\r\n\t\t\ttitle: \"Section 1\",\r\n\t\t\tcontent: \"This is section 1 content.\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: \"section-2\",\r\n\t\t\ttitle: \"Section 2\",\r\n\t\t\tcontent: \"This is section 2 content.\"\r\n\t\t}\r\n\t\t// 其他内容...\r\n\t]);\r\n\r\n\tconst popupVisible = ref(false);\r\n\tconst popupContent = ref(\"\");\r\n\r\n\t// 监听 eventBus，处理弹出框显示\r\n\tconst handleLinkedPopup = ({ keywords, sourceDivId }) => {\r\n\t\t// 如果当前 Div 不是来源 Div，则处理\r\n\t\tif (sourceDivId !== props.divId) {\r\n\t\t\t// 根据关键词找到相似内容\r\n\t\t\tconst matchedSection = findMatchingSection(keywords);\r\n\t\t\tif (matchedSection) {\r\n\t\t\t\t// 滚动到对应章节\r\n\t\t\t\tscrollToSection(matchedSection.id);\r\n\t\t\t\t// 显示弹出框\r\n\t\t\t\tpopupContent.value = matchedSection.content;\r\n\t\t\t\tpopupVisible.value = true;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// 根据关键词找到匹配的章节\r\n\tconst findMatchingSection = keywords => {\r\n\t\treturn contentList.value.find(item =>\r\n\t\t\titem.content.toLowerCase().includes(keywords.toLowerCase())\r\n\t\t);\r\n\t};\r\n\r\n\t// 滚动到指定章节\r\n\tconst scrollToSection = id => {\r\n\t\tconst element = document.getElementById(id);\r\n\t\tif (element) {\r\n\t\t\telement.scrollIntoView({ behavior: \"smooth\" });\r\n\t\t}\r\n\t};\r\n\r\n\t// 关闭弹出框\r\n\tconst closePopup = () => {\r\n\t\tpopupVisible.value = false;\r\n\t};\r\n\r\n\tonMounted(() => {\r\n\t\tbus.on(\"show-linked-popup\", handleLinkedPopup);\r\n\t});\r\n\r\n\tonUnmounted(() => {\r\n\t\tbus.off(\"show-linked-popup\", handleLinkedPopup);\r\n\t});\r\n</script>\r\n"],"mappings":";mBAAA;;uBACCA,mBAAA,CAaM,cAZLC,mBAAA,aAAgB,G,kBAChBD,mBAAA,CAGME,SAAA,QANRC,WAAA,CAGsBC,MAAA,CAAAC,WAAW,EAAnBC,IAAI;yBAAhBN,mBAAA,CAGM;MAH4BO,GAAG,EAAED,IAAI,CAACE,EAAE;MAAGA,EAAE,EAAEF,IAAI,CAACE;QACzDC,mBAAA,CAAyB,YAAAC,gBAAA,CAAlBJ,IAAI,CAACK,KAAK,kBACjBF,mBAAA,CAAyB,WAAAC,gBAAA,CAAnBJ,IAAI,CAACM,OAAO,iB,iBALrBC,UAAA;kCAQEZ,mBAAA,SAAY,EAELG,MAAA,CAAAU,YAAY,I,cADnBC,YAAA,CAIuBX,MAAA;IAbzBG,GAAA;IAWIS,OAAO,EAAEZ,MAAA,CAAAU,YAAY;IACrBF,OAAO,EAAER,MAAA,CAAAa,YAAY;IACrBC,OAAK,EAAEd,MAAA,CAAAe;qDAbXlB,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}