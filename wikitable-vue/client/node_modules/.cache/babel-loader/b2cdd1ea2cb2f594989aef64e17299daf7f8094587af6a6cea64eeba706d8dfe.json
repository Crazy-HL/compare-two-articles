{"ast":null,"code":"import { ref } from \"vue\";\nimport ComparisonTable from \"./ComparisonTable.vue\";\nimport LineChart from \"./LineChart.vue\";\nexport default {\n  components: {\n    ComparisonTable,\n    LineChart\n  },\n  setup() {\n    const comparisonTable = ref(null);\n    const attributes = ref([null, null]);\n    const chartDataA = ref([]);\n    const chartDataB = ref([]);\n    const loadComparisonData = async () => {\n      // 模拟API调用\n      const data = await fetchComparisonData();\n      attributes.value = data.attributes;\n      chartDataA.value = data.chartDataA;\n      chartDataB.value = data.chartDataB;\n\n      // 通过ref调用子组件方法渲染图表\n      nextTick(() => {\n        renderCharts();\n      });\n    };\n    const renderCharts = () => {\n      if (!comparisonTable.value) return;\n\n      // 获取子组件暴露的图表容器\n      const {\n        leftChart1,\n        leftChart2,\n        rightChart1,\n        rightChart2\n      } = comparisonTable.value;\n\n      // 渲染图表逻辑...\n    };\n    const handleRowSelected = index => {\n      console.log(\"选中行:\", index);\n      // 处理行选择逻辑...\n    };\n    return {\n      comparisonTable,\n      attributes,\n      chartDataA,\n      chartDataB,\n      loadComparisonData,\n      handleRowSelected\n    };\n  }\n};","map":{"version":3,"names":["ref","ComparisonTable","LineChart","components","setup","comparisonTable","attributes","chartDataA","chartDataB","loadComparisonData","data","fetchComparisonData","value","nextTick","renderCharts","leftChart1","leftChart2","rightChart1","rightChart2","handleRowSelected","index","console","log"],"sources":["D:\\vue_frame\\vue_frame\\wikitable-vue\\client\\src\\components\\Div2.vue"],"sourcesContent":["<template>\r\n\t<div class=\"parent-container\">\r\n\t\t<!-- 其他内容... -->\r\n\r\n\t\t<ComparisonTable\r\n\t\t\tref=\"comparisonTable\"\r\n\t\t\ttitle=\"文章属性对比\"\r\n\t\t\t:attributes=\"attributes\"\r\n\t\t\t@row-selected=\"handleRowSelected\">\r\n\t\t\t<!-- 自定义单元格内容示例 -->\r\n\t\t\t<template #left-cell-1>\r\n\t\t\t\t<div v-if=\"attributes[0]\" class=\"custom-chart\">\r\n\t\t\t\t\t<LineChart :data=\"chartDataA[0]\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-else class=\"placeholder\">选择数据源</div>\r\n\t\t\t</template>\r\n\t\t</ComparisonTable>\r\n\r\n\t\t<button @click=\"loadComparisonData\">加载对比数据</button>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport { ref } from \"vue\";\r\n\timport ComparisonTable from \"./ComparisonTable.vue\";\r\n\timport LineChart from \"./LineChart.vue\";\r\n\r\n\texport default {\r\n\t\tcomponents: { ComparisonTable, LineChart },\r\n\r\n\t\tsetup() {\r\n\t\t\tconst comparisonTable = ref(null);\r\n\t\t\tconst attributes = ref([null, null]);\r\n\t\t\tconst chartDataA = ref([]);\r\n\t\t\tconst chartDataB = ref([]);\r\n\r\n\t\t\tconst loadComparisonData = async () => {\r\n\t\t\t\t// 模拟API调用\r\n\t\t\t\tconst data = await fetchComparisonData();\r\n\r\n\t\t\t\tattributes.value = data.attributes;\r\n\t\t\t\tchartDataA.value = data.chartDataA;\r\n\t\t\t\tchartDataB.value = data.chartDataB;\r\n\r\n\t\t\t\t// 通过ref调用子组件方法渲染图表\r\n\t\t\t\tnextTick(() => {\r\n\t\t\t\t\trenderCharts();\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tconst renderCharts = () => {\r\n\t\t\t\tif (!comparisonTable.value) return;\r\n\r\n\t\t\t\t// 获取子组件暴露的图表容器\r\n\t\t\t\tconst { leftChart1, leftChart2, rightChart1, rightChart2 } =\r\n\t\t\t\t\tcomparisonTable.value;\r\n\r\n\t\t\t\t// 渲染图表逻辑...\r\n\t\t\t};\r\n\r\n\t\t\tconst handleRowSelected = index => {\r\n\t\t\t\tconsole.log(\"选中行:\", index);\r\n\t\t\t\t// 处理行选择逻辑...\r\n\t\t\t};\r\n\r\n\t\t\treturn {\r\n\t\t\t\tcomparisonTable,\r\n\t\t\t\tattributes,\r\n\t\t\t\tchartDataA,\r\n\t\t\t\tchartDataB,\r\n\t\t\t\tloadComparisonData,\r\n\t\t\t\thandleRowSelected\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n</script>\r\n"],"mappings":"AAuBC,SAASA,GAAE,QAAS,KAAK;AACzB,OAAOC,eAAc,MAAO,uBAAuB;AACnD,OAAOC,SAAQ,MAAO,iBAAiB;AAEvC,eAAe;EACdC,UAAU,EAAE;IAAEF,eAAe;IAAEC;EAAU,CAAC;EAE1CE,KAAKA,CAAA,EAAG;IACP,MAAMC,eAAc,GAAIL,GAAG,CAAC,IAAI,CAAC;IACjC,MAAMM,UAAS,GAAIN,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IACpC,MAAMO,UAAS,GAAIP,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMQ,UAAS,GAAIR,GAAG,CAAC,EAAE,CAAC;IAE1B,MAAMS,kBAAiB,GAAI,MAAAA,CAAA,KAAY;MACtC;MACA,MAAMC,IAAG,GAAI,MAAMC,mBAAmB,CAAC,CAAC;MAExCL,UAAU,CAACM,KAAI,GAAIF,IAAI,CAACJ,UAAU;MAClCC,UAAU,CAACK,KAAI,GAAIF,IAAI,CAACH,UAAU;MAClCC,UAAU,CAACI,KAAI,GAAIF,IAAI,CAACF,UAAU;;MAElC;MACAK,QAAQ,CAAC,MAAM;QACdC,YAAY,CAAC,CAAC;MACf,CAAC,CAAC;IACH,CAAC;IAED,MAAMA,YAAW,GAAIA,CAAA,KAAM;MAC1B,IAAI,CAACT,eAAe,CAACO,KAAK,EAAE;;MAE5B;MACA,MAAM;QAAEG,UAAU;QAAEC,UAAU;QAAEC,WAAW;QAAEC;MAAY,IACxDb,eAAe,CAACO,KAAK;;MAEtB;IACD,CAAC;IAED,MAAMO,iBAAgB,GAAIC,KAAI,IAAK;MAClCC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEF,KAAK,CAAC;MAC1B;IACD,CAAC;IAED,OAAO;MACNf,eAAe;MACfC,UAAU;MACVC,UAAU;MACVC,UAAU;MACVC,kBAAkB;MAClBU;IACD,CAAC;EACF;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}