{"ast":null,"code":"import { ref } from \"vue\";\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: \"数据对比\"\n    },\n    leftHeader: {\n      type: String,\n      default: \"数据源A\"\n    },\n    middleHeader: {\n      type: String,\n      default: \"对比属性\"\n    },\n    rightHeader: {\n      type: String,\n      default: \"数据源B\"\n    },\n    attributes: {\n      type: Array,\n      default: () => [null, null]\n    },\n    defaultPlaceholder: {\n      type: String,\n      default: \"点击加载\"\n    }\n  },\n  emits: [\"row-selected\"],\n  setup(props, _ref) {\n    let {\n      emit\n    } = _ref;\n    const selectedIndex = ref(-1);\n    const selectRow = index => {\n      if (props.attributes[index]) {\n        selectedIndex.value = index;\n        emit(\"row-selected\", index);\n      }\n    };\n\n    // 暴露图表容器引用给父组件\n    const exposeRefs = () => {\n      return {\n        leftChart1: ref(null),\n        leftChart2: ref(null),\n        rightChart1: ref(null),\n        rightChart2: ref(null)\n      };\n    };\n    return {\n      selectedIndex,\n      selectRow,\n      ...exposeRefs()\n    };\n  }\n};","map":{"version":3,"names":["ref","props","title","type","String","default","leftHeader","middleHeader","rightHeader","attributes","Array","defaultPlaceholder","emits","setup","_ref","emit","selectedIndex","selectRow","index","value","exposeRefs","leftChart1","leftChart2","rightChart1","rightChart2"],"sources":["D:\\vue_frame\\vue_frame\\wikitable-vue\\client\\src\\components\\compoents_base\\CompareTable.vue"],"sourcesContent":["<template>\r\n\t<div class=\"comparison-table\">\r\n\t\t<!-- 表格标题 -->\r\n\t\t<div class=\"table-title\" v-if=\"title\">{{ title }}</div>\r\n\r\n\t\t<!-- 表格主体 -->\r\n\t\t<div class=\"table-grid\">\r\n\t\t\t<!-- 表头 -->\r\n\t\t\t<div class=\"header left-column\">{{ leftHeader }}</div>\r\n\t\t\t<div class=\"header middle-column\">{{ middleHeader }}</div>\r\n\t\t\t<div class=\"header right-column\">{{ rightHeader }}</div>\r\n\r\n\t\t\t<!-- 第一行 -->\r\n\t\t\t<div class=\"cell left-column\">\r\n\t\t\t\t<slot name=\"left-cell-1\">\r\n\t\t\t\t\t<div class=\"chart-container\" ref=\"leftChart1\"></div>\r\n\t\t\t\t</slot>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclass=\"cell middle-column attribute-cell\"\r\n\t\t\t\t:class=\"{ active: selectedIndex === 0 }\"\r\n\t\t\t\t@click=\"selectRow(0)\">\r\n\t\t\t\t{{ attributes[0] || defaultPlaceholder }}\r\n\t\t\t</div>\r\n\t\t\t<div class=\"cell right-column\">\r\n\t\t\t\t<slot name=\"right-cell-1\">\r\n\t\t\t\t\t<div class=\"chart-container\" ref=\"rightChart1\"></div>\r\n\t\t\t\t</slot>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- 第二行 -->\r\n\t\t\t<div class=\"cell left-column\">\r\n\t\t\t\t<slot name=\"left-cell-2\">\r\n\t\t\t\t\t<div class=\"chart-container\" ref=\"leftChart2\"></div>\r\n\t\t\t\t</slot>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclass=\"cell middle-column attribute-cell\"\r\n\t\t\t\t:class=\"{ active: selectedIndex === 1 }\"\r\n\t\t\t\t@click=\"selectRow(1)\">\r\n\t\t\t\t{{ attributes[1] || defaultPlaceholder }}\r\n\t\t\t</div>\r\n\t\t\t<div class=\"cell right-column\">\r\n\t\t\t\t<slot name=\"right-cell-2\">\r\n\t\t\t\t\t<div class=\"chart-container\" ref=\"rightChart2\"></div>\r\n\t\t\t\t</slot>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport { ref } from \"vue\";\r\n\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\ttitle: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"数据对比\"\r\n\t\t\t},\r\n\t\t\tleftHeader: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"数据源A\"\r\n\t\t\t},\r\n\t\t\tmiddleHeader: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"对比属性\"\r\n\t\t\t},\r\n\t\t\trightHeader: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"数据源B\"\r\n\t\t\t},\r\n\t\t\tattributes: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: () => [null, null]\r\n\t\t\t},\r\n\t\t\tdefaultPlaceholder: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"点击加载\"\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\temits: [\"row-selected\"],\r\n\r\n\t\tsetup(props, { emit }) {\r\n\t\t\tconst selectedIndex = ref(-1);\r\n\r\n\t\t\tconst selectRow = index => {\r\n\t\t\t\tif (props.attributes[index]) {\r\n\t\t\t\t\tselectedIndex.value = index;\r\n\t\t\t\t\temit(\"row-selected\", index);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t// 暴露图表容器引用给父组件\r\n\t\t\tconst exposeRefs = () => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tleftChart1: ref(null),\r\n\t\t\t\t\tleftChart2: ref(null),\r\n\t\t\t\t\trightChart1: ref(null),\r\n\t\t\t\t\trightChart2: ref(null)\r\n\t\t\t\t};\r\n\t\t\t};\r\n\r\n\t\t\treturn {\r\n\t\t\t\tselectedIndex,\r\n\t\t\t\tselectRow,\r\n\t\t\t\t...exposeRefs()\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.comparison-table {\r\n\t\twidth: 100%;\r\n\t\tbackground: white;\r\n\t\tborder-radius: 12px;\r\n\t\tbox-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.table-title {\r\n\t\tpadding: 16px 20px;\r\n\t\tfont-size: 18px;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #333;\r\n\t\tborder-bottom: 1px solid #f0f0f0;\r\n\t}\r\n\r\n\t.table-grid {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 1fr 1fr 1fr;\r\n\t\tgrid-template-rows: auto 1fr 1fr;\r\n\t\tgap: 1px;\r\n\t\tbackground: #f0f0f0;\r\n\t}\r\n\r\n\t.header {\r\n\t\tpadding: 12px;\r\n\t\tbackground: #f8f9fa;\r\n\t\tfont-weight: 500;\r\n\t\ttext-align: center;\r\n\t\tcolor: #555;\r\n\t}\r\n\r\n\t.cell {\r\n\t\tpadding: 16px;\r\n\t\tbackground: white;\r\n\t\tmin-height: 120px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.left-column {\r\n\t\tborder-right: 1px solid #f0f0f0;\r\n\t}\r\n\r\n\t.right-column {\r\n\t\tborder-left: 1px solid #f0f0f0;\r\n\t}\r\n\r\n\t.attribute-cell {\r\n\t\tcursor: pointer;\r\n\t\tfont-weight: 500;\r\n\t\ttransition: all 0.2s;\r\n\t}\r\n\r\n\t.attribute-cell:hover {\r\n\t\tbackground: #f5f9ff;\r\n\t}\r\n\r\n\t.attribute-cell.active {\r\n\t\tbackground: #e6f0ff;\r\n\t\tcolor: #1976d2;\r\n\t}\r\n\r\n\t.chart-container {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tmin-height: 100px;\r\n\t}\r\n\r\n\t/* 响应式设计 */\r\n\t@media (max-width: 768px) {\r\n\t\t.table-grid {\r\n\t\t\tgrid-template-columns: 1fr;\r\n\t\t\tgrid-template-rows: auto repeat(6, auto);\r\n\t\t}\r\n\r\n\t\t.header {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\r\n\t\t.left-column,\r\n\t\t.right-column {\r\n\t\t\tborder: none;\r\n\t\t\tborder-bottom: 1px solid #f0f0f0;\r\n\t\t}\r\n\t}\r\n</style>\r\n"],"mappings":"AAoDC,SAASA,GAAE,QAAS,KAAK;AAEzB,eAAe;EACdC,KAAK,EAAE;IACNC,KAAK,EAAE;MACNC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACV,CAAC;IACDC,UAAU,EAAE;MACXH,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACV,CAAC;IACDE,YAAY,EAAE;MACbJ,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACV,CAAC;IACDG,WAAW,EAAE;MACZL,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACV,CAAC;IACDI,UAAU,EAAE;MACXN,IAAI,EAAEO,KAAK;MACXL,OAAO,EAAEA,CAAA,KAAM,CAAC,IAAI,EAAE,IAAI;IAC3B,CAAC;IACDM,kBAAkB,EAAE;MACnBR,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACV;EACD,CAAC;EAEDO,KAAK,EAAE,CAAC,cAAc,CAAC;EAEvBC,KAAKA,CAACZ,KAAK,EAAAa,IAAA,EAAY;IAAA,IAAV;MAAEC;IAAK,CAAC,GAAAD,IAAA;IACpB,MAAME,aAAY,GAAIhB,GAAG,CAAC,CAAC,CAAC,CAAC;IAE7B,MAAMiB,SAAQ,GAAIC,KAAI,IAAK;MAC1B,IAAIjB,KAAK,CAACQ,UAAU,CAACS,KAAK,CAAC,EAAE;QAC5BF,aAAa,CAACG,KAAI,GAAID,KAAK;QAC3BH,IAAI,CAAC,cAAc,EAAEG,KAAK,CAAC;MAC5B;IACD,CAAC;;IAED;IACA,MAAME,UAAS,GAAIA,CAAA,KAAM;MACxB,OAAO;QACNC,UAAU,EAAErB,GAAG,CAAC,IAAI,CAAC;QACrBsB,UAAU,EAAEtB,GAAG,CAAC,IAAI,CAAC;QACrBuB,WAAW,EAAEvB,GAAG,CAAC,IAAI,CAAC;QACtBwB,WAAW,EAAExB,GAAG,CAAC,IAAI;MACtB,CAAC;IACF,CAAC;IAED,OAAO;MACNgB,aAAa;MACbC,SAAS;MACT,GAAGG,UAAU,CAAC;IACf,CAAC;EACF;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}