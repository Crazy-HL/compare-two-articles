{"ast":null,"code":"export default {\n  __name: 'WikipediaContent',\n  props: {\n    content: {\n      type: String,\n      required: true\n    }\n  },\n  emits: [\"select\"],\n  setup(__props, _ref) {\n    let {\n      expose: __expose,\n      emit: __emit\n    } = _ref;\n    __expose();\n    const props = __props;\n    const emit = __emit;\n    const onMouseUp = () => {\n      const selection = window.getSelection();\n      if (!selection.rangeCount) return;\n      const range = selection.getRangeAt(0);\n      const selectedHtml = range.cloneContents();\n\n      // 创建临时容器\n      const tempDiv = document.createElement(\"div\");\n      tempDiv.appendChild(selectedHtml);\n\n      // 判断选中的内容是否包含表格\n      const table = tempDiv.querySelector(\"table\");\n      if (table) {\n        table.classList.add(\"custom-table\");\n        emit(\"select\", tempDiv.innerHTML);\n      } else {\n        const text = selection.toString().trim();\n        if (text) {\n          emit(\"select\", text);\n        }\n      }\n    };\n    const __returned__ = {\n      props,\n      emit,\n      onMouseUp\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["props","__props","emit","__emit","onMouseUp","selection","window","getSelection","rangeCount","range","getRangeAt","selectedHtml","cloneContents","tempDiv","document","createElement","appendChild","table","querySelector","classList","add","innerHTML","text","toString","trim"],"sources":["D:/vue_frame/vue_frame/wikitable-vue/client/src/components/compoents_base/WikipediaContent.vue"],"sourcesContent":["<template>\r\n\t<div class=\"wikipedia-content\" v-html=\"content\" @mouseup=\"onMouseUp\"></div>\r\n</template>\r\n\r\n<script setup>\r\n\tconst props = defineProps({\r\n\t\tcontent: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true\r\n\t\t}\r\n\t});\r\n\r\n\tconst emit = defineEmits([\"select\"]);\r\n\r\n\tconst onMouseUp = () => {\r\n\t\tconst selection = window.getSelection();\r\n\t\tif (!selection.rangeCount) return;\r\n\r\n\t\tconst range = selection.getRangeAt(0);\r\n\t\tconst selectedHtml = range.cloneContents();\r\n\r\n\t\t// 创建临时容器\r\n\t\tconst tempDiv = document.createElement(\"div\");\r\n\t\ttempDiv.appendChild(selectedHtml);\r\n\r\n\t\t// 判断选中的内容是否包含表格\r\n\t\tconst table = tempDiv.querySelector(\"table\");\r\n\t\tif (table) {\r\n\t\t\ttable.classList.add(\"custom-table\");\r\n\t\t\temit(\"select\", tempDiv.innerHTML);\r\n\t\t} else {\r\n\t\t\tconst text = selection.toString().trim();\r\n\t\t\tif (text) {\r\n\t\t\t\temit(\"select\", text);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.wikipedia-content {\r\n\t\tmax-width: 800px;\r\n\t\tmargin: 0 auto;\r\n\t\tpadding: 20px;\r\n\t\tfont-family: sans-serif;\r\n\t\tfont-size: 0.6vw;\r\n\t}\r\n\r\n\t::v-deep .custom-table {\r\n\t\twidth: 100%;\r\n\t\tborder-collapse: collapse;\r\n\t\tmargin: 5px auto;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder: 1px solid #0077b6;\r\n\t\tborder-radius: 8px;\r\n\t\toverflow: hidden;\r\n\t\tfont-family: \"Arial\", sans-serif;\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #333333;\r\n\t}\r\n\r\n\t::v-deep .custom-table th {\r\n\t\tbackground-color: #0077b6;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #ffffff;\r\n\t\ttext-align: left;\r\n\t\tpadding: 12px;\r\n\t\tborder: 1px solid #0077b6;\r\n\t\tfont-size: 18px;\r\n\t}\r\n\r\n\t::v-deep .custom-table th,\r\n\t::v-deep .custom-table td {\r\n\t\tpadding: 12px;\r\n\t\tborder: 1px solid #0077b6;\r\n\t\tfont-size: 16px;\r\n\t}\r\n\r\n\t::v-deep .custom-table tr:hover {\r\n\t\tbackground-color: #cbe8f6;\r\n\t\ttransition: background-color 0.3s ease-in-out;\r\n\t}\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;IAKC,MAAMA,KAAK,GAAGC,OAKZ;IAEF,MAAMC,IAAI,GAAGC,MAAuB;IAEpC,MAAMC,SAAS,GAAGA,CAAA,KAAM;MACvB,MAAMC,SAAS,GAAGC,MAAM,CAACC,YAAY,CAAC,CAAC;MACvC,IAAI,CAACF,SAAS,CAACG,UAAU,EAAE;MAE3B,MAAMC,KAAK,GAAGJ,SAAS,CAACK,UAAU,CAAC,CAAC,CAAC;MACrC,MAAMC,YAAY,GAAGF,KAAK,CAACG,aAAa,CAAC,CAAC;;MAE1C;MACA,MAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MAC7CF,OAAO,CAACG,WAAW,CAACL,YAAY,CAAC;;MAEjC;MACA,MAAMM,KAAK,GAAGJ,OAAO,CAACK,aAAa,CAAC,OAAO,CAAC;MAC5C,IAAID,KAAK,EAAE;QACVA,KAAK,CAACE,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;QACnClB,IAAI,CAAC,QAAQ,EAAEW,OAAO,CAACQ,SAAS,CAAC;MAClC,CAAC,MAAM;QACN,MAAMC,IAAI,GAAGjB,SAAS,CAACkB,QAAQ,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;QACxC,IAAIF,IAAI,EAAE;UACTpB,IAAI,CAAC,QAAQ,EAAEoB,IAAI,CAAC;QACrB;MACD;IACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}