{"ast":null,"code":"import { computed } from \"vue\";\nexport default {\n  __name: 'SparklineChart',\n  props: {\n    data: {\n      type: Object,\n      default: () => ({\n        values: [],\n        labels: []\n      })\n    },\n    width: {\n      type: Number,\n      default: 120\n    },\n    height: {\n      type: Number,\n      default: 60\n    }\n  },\n  setup(__props, _ref) {\n    let {\n      expose: __expose\n    } = _ref;\n    __expose();\n    const props = __props;\n    const normalizedValues = computed(() => {\n      if (props.data.values.length === 0) return [];\n      const min = Math.min(...props.data.values);\n      const max = Math.max(...props.data.values);\n      const range = max - min || 1;\n      return props.data.values.map(value => props.height - 10 - (value - min) / range * (props.height - 20));\n    });\n    const points = computed(() => {\n      return normalizedValues.value.map((y, i) => ({\n        x: i * (props.width / (normalizedValues.value.length - 1 || 1)),\n        y\n      }));\n    });\n    const linePath = computed(() => {\n      if (points.value.length < 2) return \"\";\n      return `M${points.value.map(p => `${p.x},${p.y}`).join(\" L\")}`;\n    });\n    const __returned__ = {\n      props,\n      normalizedValues,\n      points,\n      linePath,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","props","__props","normalizedValues","data","values","length","min","Math","max","range","map","value","height","points","y","i","x","width","linePath","p","join"],"sources":["D:/vue_frame/vue_frame/wikitable-vue/client/src/components/compoents_base/SparklineChart.vue"],"sourcesContent":["<template>\r\n\t<svg :width=\"width\" :height=\"height\">\r\n\t\t<path :d=\"linePath\" stroke=\"#4a90e2\" stroke-width=\"2\" fill=\"none\" />\r\n\t\t<circle\r\n\t\t\tv-for=\"(point, index) in points\"\r\n\t\t\t:key=\"index\"\r\n\t\t\t:cx=\"point.x\"\r\n\t\t\t:cy=\"point.y\"\r\n\t\t\tr=\"2\"\r\n\t\t\tfill=\"#4a90e2\" />\r\n\t</svg>\r\n</template>\r\n\r\n<script setup>\r\n\timport { computed } from \"vue\";\r\n\r\n\tconst props = defineProps({\r\n\t\tdata: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({ values: [], labels: [] })\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 120\r\n\t\t},\r\n\t\theight: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 60\r\n\t\t}\r\n\t});\r\n\r\n\tconst normalizedValues = computed(() => {\r\n\t\tif (props.data.values.length === 0) return [];\r\n\t\tconst min = Math.min(...props.data.values);\r\n\t\tconst max = Math.max(...props.data.values);\r\n\t\tconst range = max - min || 1;\r\n\r\n\t\treturn props.data.values.map(\r\n\t\t\tvalue => props.height - 10 - ((value - min) / range) * (props.height - 20)\r\n\t\t);\r\n\t});\r\n\r\n\tconst points = computed(() => {\r\n\t\treturn normalizedValues.value.map((y, i) => ({\r\n\t\t\tx: i * (props.width / (normalizedValues.value.length - 1 || 1)),\r\n\t\t\ty\r\n\t\t}));\r\n\t});\r\n\r\n\tconst linePath = computed(() => {\r\n\t\tif (points.value.length < 2) return \"\";\r\n\t\treturn `M${points.value.map(p => `${p.x},${p.y}`).join(\" L\")}`;\r\n\t});\r\n</script>\r\n"],"mappings":"AAcC,SAASA,QAAQ,QAAQ,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;IAE9B,MAAMC,KAAK,GAAGC,OAaZ;IAEF,MAAMC,gBAAgB,GAAGH,QAAQ,CAAC,MAAM;MACvC,IAAIC,KAAK,CAACG,IAAI,CAACC,MAAM,CAACC,MAAM,KAAK,CAAC,EAAE,OAAO,EAAE;MAC7C,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,GAAGN,KAAK,CAACG,IAAI,CAACC,MAAM,CAAC;MAC1C,MAAMI,GAAG,GAAGD,IAAI,CAACC,GAAG,CAAC,GAAGR,KAAK,CAACG,IAAI,CAACC,MAAM,CAAC;MAC1C,MAAMK,KAAK,GAAGD,GAAG,GAAGF,GAAG,IAAI,CAAC;MAE5B,OAAON,KAAK,CAACG,IAAI,CAACC,MAAM,CAACM,GAAG,CAC3BC,KAAK,IAAIX,KAAK,CAACY,MAAM,GAAG,EAAE,GAAI,CAACD,KAAK,GAAGL,GAAG,IAAIG,KAAK,IAAKT,KAAK,CAACY,MAAM,GAAG,EAAE,CAC1E,CAAC;IACF,CAAC,CAAC;IAEF,MAAMC,MAAM,GAAGd,QAAQ,CAAC,MAAM;MAC7B,OAAOG,gBAAgB,CAACS,KAAK,CAACD,GAAG,CAAC,CAACI,CAAC,EAAEC,CAAC,MAAM;QAC5CC,CAAC,EAAED,CAAC,IAAIf,KAAK,CAACiB,KAAK,IAAIf,gBAAgB,CAACS,KAAK,CAACN,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/DS;MACD,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,MAAMI,QAAQ,GAAGnB,QAAQ,CAAC,MAAM;MAC/B,IAAIc,MAAM,CAACF,KAAK,CAACN,MAAM,GAAG,CAAC,EAAE,OAAO,EAAE;MACtC,OAAO,IAAIQ,MAAM,CAACF,KAAK,CAACD,GAAG,CAACS,CAAC,IAAI,GAAGA,CAAC,CAACH,CAAC,IAAIG,CAAC,CAACL,CAAC,EAAE,CAAC,CAACM,IAAI,CAAC,IAAI,CAAC,EAAE;IAC/D,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}