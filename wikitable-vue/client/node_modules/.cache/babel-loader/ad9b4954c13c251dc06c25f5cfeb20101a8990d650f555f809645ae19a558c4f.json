{"ast":null,"code":"import { ref, computed, onMounted, onUnmounted } from \"vue\";\nimport * as d3 from \"d3\";\nimport bus from \"@/js/eventBus.js\";\nimport { renderLineChart, renderBarChart, renderPieChart, renderNonVisualChart, renderRadarChart, renderStackedBarChart, renderScatterChart } from \"@/js/chartUtils\";\nexport default {\n  __name: 'TextPopup',\n  props: {\n    visible: Boolean,\n    content: String,\n    containerClass: String,\n    containerRef: String\n  },\n  emits: [\"close\"],\n  setup(__props, _ref) {\n    let {\n      expose: __expose,\n      emit: __emit\n    } = _ref;\n    __expose();\n    const props = __props;\n    const emit = __emit;\n    const currentView = ref(\"text\");\n    const loading = ref(false);\n    const isChartRendered = ref(false);\n    const cachedChartData = ref(null);\n    const cachedChartType = ref(null);\n    const isDragging = ref(false);\n    const isDragOver = ref(false);\n    const isTable = computed(() => {\n      return /<table.*?>.*?<\\/table>/s.test(props.content);\n    });\n    const close = () => {\n      d3.select(`.${props.containerClass}`).html(\"\");\n      isChartRendered.value = false;\n      cachedChartData.value = null;\n      cachedChartType.value = null;\n      emit(\"close\");\n    };\n    const switchView = async view => {\n      currentView.value = view;\n      if (view === \"visual\") {\n        if (!isChartRendered.value) {\n          loading.value = true;\n          await processText();\n          loading.value = false;\n          isChartRendered.value = true;\n        } else if (cachedChartData.value && cachedChartType.value) {\n          renderChart(cachedChartData.value, cachedChartType.value);\n        }\n      }\n    };\n    async function processText() {\n      try {\n        api.post(\"process_text\", {\n          text: props.content.toString().trim()\n        }, data => {\n          if (data.error) {\n            console.error(\"后端返回的错误:\", data.error);\n            alert(`处理文章内容时出错: ${data.message}`);\n            return;\n          }\n          const jsonData = data.json_data;\n          console.log(\"后端返回的数据:\", jsonData);\n          cachedChartData.value = jsonData;\n          cachedChartType.value = data.chart_classification;\n          d3.select(`.${props.containerClass}`).html(\"\");\n          if (data.data_type === \"Non-Visual\") {\n            renderNonVisualChart(`.${props.containerClass}`, data, {\n              message: \"当前数据无法可视化\"\n            });\n          } else {\n            renderChart(jsonData, data.chart_classification);\n          }\n        });\n      } catch (error) {\n        console.error(\"处理文章内容时出错:\", error);\n        alert(\"处理文章内容时出错，请稍后重试\");\n      }\n    }\n    function renderChart(rawJsonData, chartType) {\n      if (!rawJsonData || typeof rawJsonData !== \"object\") {\n        renderNonVisualChart(`.${props.containerClass}`, rawJsonData, {\n          message: \"JSON 数据无效\"\n        });\n        console.error(\"JSON 数据无效:\", rawJsonData);\n        return;\n      }\n      console.log(\"&&&rawJsonData:\", rawJsonData);\n      const data = rawJsonData.data;\n      const options = rawJsonData.options || {};\n      if (chartType === \"Line Chart\") {\n        renderLineChart(`.${props.containerClass}`, data, options);\n      } else if (chartType === \"Bar Chart\") {\n        renderBarChart(`.${props.containerClass}`, rawJsonData);\n      } else if (chartType === \"Pie Chart\") {\n        renderPieChart(`.${props.containerClass}`, data, options);\n      } else if (chartType === \"Stacked Bar Chart\") {\n        renderStackedBarChart(`.${props.containerClass}`, data, options);\n      } else if (chartType === \"Radar Chart\") {\n        renderRadarChart(`.${props.containerClass}`, rawJsonData);\n      } else if (chartType === \"Scatter Chart\") {\n        renderScatterChart(`.${props.containerClass}`, rawJsonData);\n      } else {\n        console.error(\"未知的图表类型:\", chartType);\n      }\n    }\n    const handleDragStart = event => {\n      isDragging.value = true;\n      event.dataTransfer.setData(\"application/json\", JSON.stringify({\n        chartData: cachedChartData.value,\n        chartType: cachedChartType.value\n      }));\n      console.log(\"拖拽数据已设置:\", cachedChartData.value);\n    };\n    const handleDragEnd = () => {\n      isDragging.value = false;\n      isDragOver.value = false;\n    };\n    const handleDragEnter = () => {\n      isDragOver.value = true;\n    };\n    const handleDragLeave = () => {\n      isDragOver.value = false;\n    };\n    const handleUpdateChart1 = data => {\n      console.log(\"&&&data1:\", data);\n      const jsonData = JSON.parse(JSON.stringify(data.jsonData));\n      d3.select(`.${props.containerClass}`).html(\"\");\n      renderChart(jsonData, data.chartType);\n      isChartRendered.value = true;\n      cachedChartData.value = jsonData;\n      cachedChartType.value = data.chartType;\n    };\n    const handleUpdateChart3 = data => {\n      console.log(\"&&&data3:\", data);\n      const jsonData = JSON.parse(JSON.stringify(data.jsonData));\n      d3.select(`.${props.containerClass}`).html(\"\");\n      renderChart(jsonData, data.chartType);\n      isChartRendered.value = true;\n      cachedChartData.value = jsonData;\n      cachedChartType.value = data.chartType;\n    };\n    // 监听 content 变化，触发关联章节的滚动和弹出\n    watch(() => props.content, newContent => {\n      if (newContent && props.visible) {\n        // 获取当前章节的 ID\n        const currentChapterId = newContent.id; // 假设 content 中包含章节 ID\n        console.log(\"当前章节 ID:\", currentChapterId);\n\n        // 通过 linkedOutline 找到关联章节\n        const linkedItem = linkedOutline.value.find(linked => linked.leftId === currentChapterId || linked.rightId === currentChapterId);\n        if (linkedItem) {\n          // 找到目标章节的 ID\n          const targetId = linkedItem.leftId === currentChapterId ? linkedItem.rightId : linkedItem.leftId;\n          console.log(\"关联章节 ID:\", targetId);\n\n          // 通过 eventBus 通知另一个 div 进行滚动和弹出\n          bus.emit(\"scroll-and-popup\", {\n            sourceDivId: props.divId,\n            // 当前 Div 的 ID\n            targetId: targetId,\n            // 关联章节的 ID\n            content: newContent // 选中的内容\n          });\n        } else {\n          console.error(\"未找到关联章节，currentChapterId:\", currentChapterId);\n        }\n      }\n    });\n    onMounted(() => {\n      console.log(props.containerClass + \"挂载\");\n      bus.on(\"updateChart1\", handleUpdateChart1);\n      bus.on(\"updateChart3\", handleUpdateChart3);\n    });\n    onUnmounted(() => {\n      console.log(props.containerClass + \"卸载\");\n      bus.off(\"updateChart1\", handleUpdateChart1);\n      bus.off(\"updateChart3\", handleUpdateChart3);\n    });\n    const __returned__ = {\n      props,\n      emit,\n      currentView,\n      loading,\n      isChartRendered,\n      cachedChartData,\n      cachedChartType,\n      isDragging,\n      isDragOver,\n      isTable,\n      close,\n      switchView,\n      processText,\n      renderChart,\n      handleDragStart,\n      handleDragEnd,\n      handleDragEnter,\n      handleDragLeave,\n      handleUpdateChart1,\n      handleUpdateChart3,\n      ref,\n      computed,\n      onMounted,\n      onUnmounted,\n      get d3() {\n        return d3;\n      },\n      get bus() {\n        return bus;\n      },\n      get renderLineChart() {\n        return renderLineChart;\n      },\n      get renderBarChart() {\n        return renderBarChart;\n      },\n      get renderPieChart() {\n        return renderPieChart;\n      },\n      get renderNonVisualChart() {\n        return renderNonVisualChart;\n      },\n      get renderRadarChart() {\n        return renderRadarChart;\n      },\n      get renderStackedBarChart() {\n        return renderStackedBarChart;\n      },\n      get renderScatterChart() {\n        return renderScatterChart;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","onUnmounted","d3","bus","renderLineChart","renderBarChart","renderPieChart","renderNonVisualChart","renderRadarChart","renderStackedBarChart","renderScatterChart","props","__props","emit","__emit","currentView","loading","isChartRendered","cachedChartData","cachedChartType","isDragging","isDragOver","isTable","test","content","close","select","containerClass","html","value","switchView","view","processText","renderChart","api","post","text","toString","trim","data","error","console","alert","message","jsonData","json_data","log","chart_classification","data_type","rawJsonData","chartType","options","handleDragStart","event","dataTransfer","setData","JSON","stringify","chartData","handleDragEnd","handleDragEnter","handleDragLeave","handleUpdateChart1","parse","handleUpdateChart3","watch","newContent","visible","currentChapterId","id","linkedItem","linkedOutline","find","linked","leftId","rightId","targetId","sourceDivId","divId","on","off"],"sources":["D:/vue_frame/vue_frame/wikitable-vue/client/src/components/compoents_base/TextPopup.vue"],"sourcesContent":["<template>\r\n\t<!-- 遮罩层 -->\r\n\t<div v-if=\"visible\" class=\"overlay\" @click=\"close\"></div>\r\n\r\n\t<!-- 弹出框 -->\r\n\t<div v-if=\"visible\" class=\"text-popup\" @click.stop>\r\n\t\t<!-- 切换视图按钮 -->\r\n\t\t<div class=\"view-switcher\">\r\n\t\t\t<button\r\n\t\t\t\t@click.prevent.stop=\"switchView('text')\"\r\n\t\t\t\t:class=\"{ active: currentView === 'text' }\"\r\n\t\t\t\ttitle=\"文本视图\">\r\n\t\t\t\t<font-awesome-icon :icon=\"['fas', 'align-left']\" />\r\n\t\t\t</button>\r\n\r\n\t\t\t<button\r\n\t\t\t\t@click.prevent.stop=\"switchView('visual')\"\r\n\t\t\t\t:class=\"{ active: currentView === 'visual' }\"\r\n\t\t\t\ttitle=\"可视化视图\">\r\n\t\t\t\t<font-awesome-icon :icon=\"['fas', 'chart-bar']\" />\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t\t<!-- 文本视图 -->\r\n\t\t<div v-show=\"currentView === 'text'\">\r\n\t\t\t<div v-if=\"isTable\" class=\"table-container\" v-html=\"content\"></div>\r\n\t\t\t<div v-else>\r\n\t\t\t\t<p>{{ content }}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- 可视化视图 -->\r\n\t\t<div\r\n\t\t\tv-show=\"currentView === 'visual'\"\r\n\t\t\tclass=\"visualization-container\"\r\n\t\t\t@dragstart=\"handleDragStart\"\r\n\t\t\t@dragend=\"handleDragEnd\"\r\n\t\t\t@dragenter=\"handleDragEnter\"\r\n\t\t\t@dragleave=\"handleDragLeave\"\r\n\t\t\tdraggable=\"true\"\r\n\t\t\t:class=\"{ dragging: isDragging, 'drag-over': isDragOver }\">\r\n\t\t\t<div v-if=\"loading\" class=\"loading-spinner\"></div>\r\n\t\t\t<div v-else :class=\"containerClass\"></div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport { ref, computed, onMounted, onUnmounted } from \"vue\";\r\n\timport * as d3 from \"d3\";\r\n\timport bus from \"@/js/eventBus.js\";\r\n\timport {\r\n\t\trenderLineChart,\r\n\t\trenderBarChart,\r\n\t\trenderPieChart,\r\n\t\trenderNonVisualChart,\r\n\t\trenderRadarChart,\r\n\t\trenderStackedBarChart,\r\n\t\trenderScatterChart\r\n\t} from \"@/js/chartUtils\";\r\n\r\n\tconst props = defineProps({\r\n\t\tvisible: Boolean,\r\n\t\tcontent: String,\r\n\t\tcontainerClass: String,\r\n\t\tcontainerRef: String\r\n\t});\r\n\r\n\tconst emit = defineEmits([\"close\"]);\r\n\r\n\tconst currentView = ref(\"text\");\r\n\tconst loading = ref(false);\r\n\tconst isChartRendered = ref(false);\r\n\tconst cachedChartData = ref(null);\r\n\tconst cachedChartType = ref(null);\r\n\tconst isDragging = ref(false);\r\n\tconst isDragOver = ref(false);\r\n\r\n\tconst isTable = computed(() => {\r\n\t\treturn /<table.*?>.*?<\\/table>/s.test(props.content);\r\n\t});\r\n\r\n\tconst close = () => {\r\n\t\td3.select(`.${props.containerClass}`).html(\"\");\r\n\t\tisChartRendered.value = false;\r\n\t\tcachedChartData.value = null;\r\n\t\tcachedChartType.value = null;\r\n\t\temit(\"close\");\r\n\t};\r\n\r\n\tconst switchView = async view => {\r\n\t\tcurrentView.value = view;\r\n\t\tif (view === \"visual\") {\r\n\t\t\tif (!isChartRendered.value) {\r\n\t\t\t\tloading.value = true;\r\n\t\t\t\tawait processText();\r\n\t\t\t\tloading.value = false;\r\n\t\t\t\tisChartRendered.value = true;\r\n\t\t\t} else if (cachedChartData.value && cachedChartType.value) {\r\n\t\t\t\trenderChart(cachedChartData.value, cachedChartType.value);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tasync function processText() {\r\n\t\ttry {\r\n\t\t\tapi.post(\r\n\t\t\t\t\"process_text\",\r\n\t\t\t\t{ text: props.content.toString().trim() },\r\n\t\t\t\tdata => {\r\n\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\tconsole.error(\"后端返回的错误:\", data.error);\r\n\t\t\t\t\t\talert(`处理文章内容时出错: ${data.message}`);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst jsonData = data.json_data;\r\n\t\t\t\t\tconsole.log(\"后端返回的数据:\", jsonData);\r\n\r\n\t\t\t\t\tcachedChartData.value = jsonData;\r\n\t\t\t\t\tcachedChartType.value = data.chart_classification;\r\n\r\n\t\t\t\t\td3.select(`.${props.containerClass}`).html(\"\");\r\n\r\n\t\t\t\t\tif (data.data_type === \"Non-Visual\") {\r\n\t\t\t\t\t\trenderNonVisualChart(`.${props.containerClass}`, data, {\r\n\t\t\t\t\t\t\tmessage: \"当前数据无法可视化\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\trenderChart(jsonData, data.chart_classification);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"处理文章内容时出错:\", error);\r\n\t\t\talert(\"处理文章内容时出错，请稍后重试\");\r\n\t\t}\r\n\t}\r\n\r\n\tfunction renderChart(rawJsonData, chartType) {\r\n\t\tif (!rawJsonData || typeof rawJsonData !== \"object\") {\r\n\t\t\trenderNonVisualChart(`.${props.containerClass}`, rawJsonData, {\r\n\t\t\t\tmessage: \"JSON 数据无效\"\r\n\t\t\t});\r\n\t\t\tconsole.error(\"JSON 数据无效:\", rawJsonData);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconsole.log(\"&&&rawJsonData:\", rawJsonData);\r\n\t\tconst data = rawJsonData.data;\r\n\t\tconst options = rawJsonData.options || {};\r\n\r\n\t\tif (chartType === \"Line Chart\") {\r\n\t\t\trenderLineChart(`.${props.containerClass}`, data, options);\r\n\t\t} else if (chartType === \"Bar Chart\") {\r\n\t\t\trenderBarChart(`.${props.containerClass}`, rawJsonData);\r\n\t\t} else if (chartType === \"Pie Chart\") {\r\n\t\t\trenderPieChart(`.${props.containerClass}`, data, options);\r\n\t\t} else if (chartType === \"Stacked Bar Chart\") {\r\n\t\t\trenderStackedBarChart(`.${props.containerClass}`, data, options);\r\n\t\t} else if (chartType === \"Radar Chart\") {\r\n\t\t\trenderRadarChart(`.${props.containerClass}`, rawJsonData);\r\n\t\t} else if (chartType === \"Scatter Chart\") {\r\n\t\t\trenderScatterChart(`.${props.containerClass}`, rawJsonData);\r\n\t\t} else {\r\n\t\t\tconsole.error(\"未知的图表类型:\", chartType);\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleDragStart = event => {\r\n\t\tisDragging.value = true;\r\n\t\tevent.dataTransfer.setData(\r\n\t\t\t\"application/json\",\r\n\t\t\tJSON.stringify({\r\n\t\t\t\tchartData: cachedChartData.value,\r\n\t\t\t\tchartType: cachedChartType.value\r\n\t\t\t})\r\n\t\t);\r\n\t\tconsole.log(\"拖拽数据已设置:\", cachedChartData.value);\r\n\t};\r\n\r\n\tconst handleDragEnd = () => {\r\n\t\tisDragging.value = false;\r\n\t\tisDragOver.value = false;\r\n\t};\r\n\r\n\tconst handleDragEnter = () => {\r\n\t\tisDragOver.value = true;\r\n\t};\r\n\r\n\tconst handleDragLeave = () => {\r\n\t\tisDragOver.value = false;\r\n\t};\r\n\r\n\tconst handleUpdateChart1 = data => {\r\n\t\tconsole.log(\"&&&data1:\", data);\r\n\t\tconst jsonData = JSON.parse(JSON.stringify(data.jsonData));\r\n\t\td3.select(`.${props.containerClass}`).html(\"\");\r\n\t\trenderChart(jsonData, data.chartType);\r\n\t\tisChartRendered.value = true;\r\n\t\tcachedChartData.value = jsonData;\r\n\t\tcachedChartType.value = data.chartType;\r\n\t};\r\n\r\n\tconst handleUpdateChart3 = data => {\r\n\t\tconsole.log(\"&&&data3:\", data);\r\n\t\tconst jsonData = JSON.parse(JSON.stringify(data.jsonData));\r\n\t\td3.select(`.${props.containerClass}`).html(\"\");\r\n\t\trenderChart(jsonData, data.chartType);\r\n\t\tisChartRendered.value = true;\r\n\t\tcachedChartData.value = jsonData;\r\n\t\tcachedChartType.value = data.chartType;\r\n\t};\r\n\t// 监听 content 变化，触发关联章节的滚动和弹出\r\n\twatch(\r\n\t\t() => props.content,\r\n\t\tnewContent => {\r\n\t\t\tif (newContent && props.visible) {\r\n\t\t\t\t// 获取当前章节的 ID\r\n\t\t\t\tconst currentChapterId = newContent.id; // 假设 content 中包含章节 ID\r\n\t\t\t\tconsole.log(\"当前章节 ID:\", currentChapterId);\r\n\r\n\t\t\t\t// 通过 linkedOutline 找到关联章节\r\n\t\t\t\tconst linkedItem = linkedOutline.value.find(\r\n\t\t\t\t\tlinked =>\r\n\t\t\t\t\t\tlinked.leftId === currentChapterId ||\r\n\t\t\t\t\t\tlinked.rightId === currentChapterId\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (linkedItem) {\r\n\t\t\t\t\t// 找到目标章节的 ID\r\n\t\t\t\t\tconst targetId =\r\n\t\t\t\t\t\tlinkedItem.leftId === currentChapterId\r\n\t\t\t\t\t\t\t? linkedItem.rightId\r\n\t\t\t\t\t\t\t: linkedItem.leftId;\r\n\t\t\t\t\tconsole.log(\"关联章节 ID:\", targetId);\r\n\r\n\t\t\t\t\t// 通过 eventBus 通知另一个 div 进行滚动和弹出\r\n\t\t\t\t\tbus.emit(\"scroll-and-popup\", {\r\n\t\t\t\t\t\tsourceDivId: props.divId, // 当前 Div 的 ID\r\n\t\t\t\t\t\ttargetId: targetId, // 关联章节的 ID\r\n\t\t\t\t\t\tcontent: newContent // 选中的内容\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error(\"未找到关联章节，currentChapterId:\", currentChapterId);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\tonMounted(() => {\r\n\t\tconsole.log(props.containerClass + \"挂载\");\r\n\t\tbus.on(\"updateChart1\", handleUpdateChart1);\r\n\t\tbus.on(\"updateChart3\", handleUpdateChart3);\r\n\t});\r\n\r\n\tonUnmounted(() => {\r\n\t\tconsole.log(props.containerClass + \"卸载\");\r\n\t\tbus.off(\"updateChart1\", handleUpdateChart1);\r\n\t\tbus.off(\"updateChart3\", handleUpdateChart3);\r\n\t});\r\n</script>\r\n\r\n<style scoped>\r\n\t.overlay {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground: rgba(255, 255, 255, 0.1);\r\n\t\tbackdrop-filter: blur(10px);\r\n\t\tz-index: 90;\r\n\t\tanimation: fadeIn 0.3s ease-in-out;\r\n\t}\r\n\r\n\t.text-popup {\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\twidth: 90%;\r\n\t\tmax-height: 80vh;\r\n\t\toverflow: auto;\r\n\t\tbackground: rgba(255, 255, 255, 0.98);\r\n\t\tpadding: 25px;\r\n\t\tbox-shadow: 0px 10px 30px rgba(0, 0, 0, 0.4);\r\n\t\tborder-radius: 12px;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 0.8vw;\r\n\t\tfont-weight: 500;\r\n\t\tline-height: 1.6;\r\n\t\tcolor: #333;\r\n\t\tz-index: 100;\r\n\t\tcursor: pointer;\r\n\t\tbackdrop-filter: blur(20px);\r\n\t\tanimation: fadeIn 0.3s ease-in-out;\r\n\t\tborder: 1px solid rgba(255, 255, 255, 0.2);\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t.view-switcher {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.view-switcher button {\r\n\t\tpadding: 25px;\r\n\t\tmargin: 0 5px;\r\n\t\tborder: none;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #f0f0f0;\r\n\t\tcursor: pointer;\r\n\t\ttransition: background-color 0.3s ease, transform 0.2s ease;\r\n\t\twidth: 36px;\r\n\t\theight: 36px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.view-switcher button:hover {\r\n\t\tbackground-color: #ddd;\r\n\t\ttransform: scale(1.1);\r\n\t}\r\n\r\n\t.view-switcher button.active {\r\n\t\tbackground-color: #0077b6;\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t.visualization-container {\r\n\t\twidth: 100%;\r\n\t\theight: 300px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\ttransition: opacity 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;\r\n\t}\r\n\r\n\t.visualization-container.dragging {\r\n\t\topacity: 0.7;\r\n\t\ttransform: scale(0.95);\r\n\t\tbox-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\r\n\t}\r\n\r\n\t.visualization-container.drag-over {\r\n\t\tborder: 2px dashed #0077b6;\r\n\t\tbackground-color: rgba(0, 119, 182, 0.1);\r\n\t}\r\n\r\n\t.table-container {\r\n\t\twidth: 100%;\r\n\t\toverflow: auto;\r\n\t\tfont-family: \"Arial\", sans-serif;\r\n\t}\r\n\r\n\t.text-popup p {\r\n\t\tmargin: 0;\r\n\t\tpadding: 10px 15px;\r\n\t\tfont-size: 1.2rem;\r\n\t\tcolor: #333;\r\n\t\ttext-align: justify;\r\n\t\tline-height: 1.8;\r\n\t\tword-break: break-word;\r\n\t\twhite-space: pre-wrap;\r\n\t\tmax-width: 90%;\r\n\t\tborder-left: 4px solid #3498db;\r\n\t\tbackground: rgba(255, 255, 255, 0.9);\r\n\t\tbox-shadow: inset 2px 2px 8px rgba(0, 0, 0, 0.05);\r\n\t}\r\n\r\n\t::v-deep .custom-table {\r\n\t\twidth: 100%;\r\n\t\tborder-collapse: collapse;\r\n\t\tmargin: 5px auto;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder: 1px solid #0077b6;\r\n\t\tborder-radius: 8px;\r\n\t\toverflow: hidden;\r\n\t\tfont-family: \"Arial\", sans-serif;\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #333333;\r\n\t}\r\n\r\n\t::v-deep .custom-table th {\r\n\t\tbackground-color: #0077b6;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #ffffff;\r\n\t\ttext-align: left;\r\n\t\tpadding: 12px;\r\n\t\tborder: 1px solid #0077b6;\r\n\t\tfont-size: 18px;\r\n\t}\r\n\r\n\t::v-deep .custom-table th,\r\n\t::v-deep .custom-table td {\r\n\t\tpadding: 12px;\r\n\t\tborder: 1px solid #0077b6;\r\n\t\tfont-size: 16px;\r\n\t}\r\n\r\n\t::v-deep .custom-table tr:hover {\r\n\t\tbackground-color: #cbe8f6;\r\n\t\ttransition: background-color 0.3s ease-in-out;\r\n\t}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}