{"ast":null,"code":"export default {\n  data() {\n    return {\n      wikiTitle: \"\",\n      wikiContent: \"\",\n      styles: \"\"\n    };\n  },\n  methods: {\n    async loadWiki() {\n      if (!this.wikiTitle.trim()) {\n        alert(\"请输入词条名称\");\n        return;\n      }\n      try {\n        // 发送请求到后端，获取维基百科内容和样式\n        const response = await fetch(`http://localhost:5000/wiki?title=${encodeURIComponent(this.wikiTitle)}`);\n        const data = await response.json();\n        if (data.error) {\n          alert(data.error);\n          return;\n        }\n\n        // 注入样式和内容\n        this.styles = data.styles;\n        this.wikiContent = data.content;\n\n        // 动态插入样式\n        this.addStyles();\n      } catch (error) {\n        console.error(\"加载内容失败:\", error);\n        alert(\"加载内容失败\");\n      }\n    },\n    // 动态添加样式\n    addStyles() {\n      const styleTag = document.createElement(\"style\");\n      styleTag.innerHTML = this.styles;\n      document.head.appendChild(styleTag);\n    }\n  }\n};","map":{"version":3,"names":["data","wikiTitle","wikiContent","styles","methods","loadWiki","trim","alert","response","fetch","encodeURIComponent","json","error","content","addStyles","console","styleTag","document","createElement","innerHTML","head","appendChild"],"sources":["D:\\vue_frame\\vue_frame\\wikitable-vue\\client\\src\\components\\test.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<h1>维基百科内容展示</h1>\r\n\t\t<div>\r\n\t\t\t<label for=\"wikiTitle\">输入维基百科词条：</label>\r\n\t\t\t<input type=\"text\" v-model=\"wikiTitle\" placeholder=\"例如：JavaScript\" />\r\n\t\t\t<button @click=\"loadWiki\">加载</button>\r\n\t\t</div>\r\n\t\t<div id=\"wikiContent\" v-html=\"wikiContent\"></div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\twikiTitle: \"\",\r\n\t\t\t\twikiContent: \"\",\r\n\t\t\t\tstyles: \"\"\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync loadWiki() {\r\n\t\t\t\tif (!this.wikiTitle.trim()) {\r\n\t\t\t\t\talert(\"请输入词条名称\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 发送请求到后端，获取维基百科内容和样式\r\n\t\t\t\t\tconst response = await fetch(\r\n\t\t\t\t\t\t`http://localhost:5000/wiki?title=${encodeURIComponent(\r\n\t\t\t\t\t\t\tthis.wikiTitle\r\n\t\t\t\t\t\t)}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tconst data = await response.json();\r\n\r\n\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\talert(data.error);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 注入样式和内容\r\n\t\t\t\t\tthis.styles = data.styles;\r\n\t\t\t\t\tthis.wikiContent = data.content;\r\n\r\n\t\t\t\t\t// 动态插入样式\r\n\t\t\t\t\tthis.addStyles();\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error(\"加载内容失败:\", error);\r\n\t\t\t\t\talert(\"加载内容失败\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 动态添加样式\r\n\t\t\taddStyles() {\r\n\t\t\t\tconst styleTag = document.createElement(\"style\");\r\n\t\t\t\tstyleTag.innerHTML = this.styles;\r\n\t\t\t\tdocument.head.appendChild(styleTag);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t/* 可以为页面添加一些自定义样式 */\r\n\t#wikiContent img {\r\n\t\tmax-width: 100%;\r\n\t\theight: auto;\r\n\t}\r\n\r\n\t#wikiContent p {\r\n\t\tline-height: 1.6;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n</style>\r\n"],"mappings":"AAaC,eAAe;EACdA,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,SAAS,EAAE,EAAE;MACbC,WAAW,EAAE,EAAE;MACfC,MAAM,EAAE;IACT,CAAC;EACF,CAAC;EACDC,OAAO,EAAE;IACR,MAAMC,QAAQA,CAAA,EAAG;MAChB,IAAI,CAAC,IAAI,CAACJ,SAAS,CAACK,IAAI,CAAC,CAAC,EAAE;QAC3BC,KAAK,CAAC,SAAS,CAAC;QAChB;MACD;MAEA,IAAI;QACH;QACA,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAC3B,oCAAoCC,kBAAkB,CACrD,IAAI,CAACT,SACN,CAAC,EACF,CAAC;QACD,MAAMD,IAAG,GAAI,MAAMQ,QAAQ,CAACG,IAAI,CAAC,CAAC;QAElC,IAAIX,IAAI,CAACY,KAAK,EAAE;UACfL,KAAK,CAACP,IAAI,CAACY,KAAK,CAAC;UACjB;QACD;;QAEA;QACA,IAAI,CAACT,MAAK,GAAIH,IAAI,CAACG,MAAM;QACzB,IAAI,CAACD,WAAU,GAAIF,IAAI,CAACa,OAAO;;QAE/B;QACA,IAAI,CAACC,SAAS,CAAC,CAAC;MACjB,EAAE,OAAOF,KAAK,EAAE;QACfG,OAAO,CAACH,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/BL,KAAK,CAAC,QAAQ,CAAC;MAChB;IACD,CAAC;IAED;IACAO,SAASA,CAAA,EAAG;MACX,MAAME,QAAO,GAAIC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;MAChDF,QAAQ,CAACG,SAAQ,GAAI,IAAI,CAAChB,MAAM;MAChCc,QAAQ,CAACG,IAAI,CAACC,WAAW,CAACL,QAAQ,CAAC;IACpC;EACD;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}