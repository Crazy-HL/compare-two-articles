{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted, onUnmounted, watch, nextTick } from \"vue\";\nimport bus from \"@/js/eventBus.js\";\nimport CompareTable from \"@/components/compoents_base/CompareTable.vue\";\nimport CausalFlowChart from \"@/components/compoents_base/CausalFlowChart.vue\";\nimport { FIELD_MAPPING } from \"@/js/fieldMapping\";\nexport default {\n  __name: 'ParentComponent',\n  setup(__props, _ref) {\n    let {\n      expose: __expose\n    } = _ref;\n    __expose();\n    const PRESERVED_FIELDS_BY_SECTION = {\n      Statistics: [\"Population\", \"GDP\", \"GDP rank\", \"GDP growth\", \"GDP per capita\", \"GDP per capita rank\", \"GDP by sector\", \"Inflation (CPI)\", \"Population below poverty line\", \"Gini coefficient\", \"Human Development Index\", \"Corruption Perceptions Index\", \"Labor force\", \"Labor force by occupation\", \"Unemployment\", \"Average gross salary\", \"Average net salary\", \"Main industries\"],\n      \"Public finances\": [\"Government debt\", \"Foreign reserves\", \"Budget balance\", \"Revenues\", \"Expenses\", \"Economic aid\", \"Credit rating\"]\n    };\n    const userQuestion = ref(\"\");\n    const chatHistory = ref([]);\n    const selectText2 = ref(\"\");\n    const selectText3 = ref(\"\");\n    const div1RawData = ref(null);\n    const div3RawData = ref(null);\n    const isLoading = ref(false);\n    const div1InfoboxData = ref(null);\n    const div3InfoboxData = ref(null);\n    const showSuggestedQuestion = ref(false);\n    const suggestedQuestion = ref(\"\");\n    const currentFieldKey = ref(\"\");\n    const leftData = ref(null);\n    const rightData = ref(null);\n    const loadChatHistory = () => {\n      const saved = localStorage.getItem(\"chatHistory\");\n      if (saved) {\n        try {\n          chatHistory.value = JSON.parse(saved);\n        } catch (e) {\n          console.error(\"加载聊天记录失败:\", e);\n        }\n      }\n    };\n    watch(chatHistory, newVal => {\n      localStorage.setItem(\"chatHistory\", JSON.stringify(newVal));\n    }, {\n      deep: true\n    });\n    const scrollToBottom = () => {\n      nextTick(() => {\n        const container = document.querySelector(\".chat-history\");\n        if (container) container.scrollTop = container.scrollHeight;\n      });\n    };\n    const getLastAnalysis = () => {\n      const reversed = [...chatHistory.value].reverse();\n      const lastAssistantMsg = reversed.find(msg => msg.role === \"assistant\" && !msg.error);\n      return lastAssistantMsg ? lastAssistantMsg.content : \"\";\n    };\n    const handleDiv1Event = data => handleSelection(data, \"div1\");\n    const handleDiv3Event = data => handleSelection(data, \"div3\");\n    onMounted(() => {\n      loadChatHistory();\n      bus.on(\"div1_Event\", handleDiv1Event);\n      bus.on(\"div3_Event\", handleDiv3Event);\n      bus.on(\"div1_InfoboxData\", data => div1InfoboxData.value = data);\n      bus.on(\"div3_InfoboxData\", data => div3InfoboxData.value = data);\n    });\n    onUnmounted(() => {\n      bus.off(\"div1_Event\", handleDiv1Event);\n      bus.off(\"div3_Event\", handleDiv3Event);\n      bus.off(\"div1_InfoboxData\");\n      bus.off(\"div3_InfoboxData\");\n    });\n    function handleSelection(data, source) {\n      const plainText = getPlainTextFromSelection(data.content);\n      if (source === \"div1\") {\n        selectText2.value = plainText;\n        div1RawData.value = data.content;\n      } else if (source === \"div3\") {\n        selectText3.value = plainText;\n        div3RawData.value = data.content;\n      }\n    }\n    function getPlainTextFromSelection(htmlContent) {\n      const container = document.createElement(\"div\");\n      container.innerHTML = htmlContent;\n      return container.innerText || container.textContent || \"\";\n    }\n    const formatAnalysisResult = text => {\n      if (!text) return \"\";\n      return text.replace(/^# (.*$)/gm, \"<h1>$1</h1>\").replace(/^## (.*$)/gm, \"<h2>$1</h2>\").replace(/^### (.*$)/gm, \"<h3>$1</h3>\").replace(/\\*\\*(.*?)\\*\\*/g, \"<strong>$1</strong>\").replace(/\\*(.*?)\\*/g, \"<em>$1</em>\").replace(/`(.*?)`/g, \"<code>$1</code>\").replace(/!\\[(.*?)\\]\\((.*?)\\)/g, '<img alt=\"$1\" src=\"$2\">').replace(/\\[(.*?)\\]\\((.*?)\\)/g, '<a href=\"$2\">$1</a>').replace(/(?:^|\\n)\\d+\\.\\s+(.*)/g, \"<li>$1</li>\").replace(/(?:^|\\n)-\\s+(.*)/g, \"<li>$1</li>\").replace(/(?:^|\\n)\\>\\s+(.*)/g, \"<blockquote>$1</blockquote>\").replace(/(<li>.*<\\/li>)/gs, \"<ul>$1</ul>\").replace(/\\n\\n/g, \"<br><br>\").replace(/\\n/g, \"<br>\");\n    };\n    const extractEssentialData = fieldData => {\n      if (!fieldData) return null;\n      const essential = {\n        value: fieldData.value,\n        type: fieldData.type\n      };\n      if (fieldData.unit) essential.unit = fieldData.unit;\n      if (fieldData.currency) essential.currency = fieldData.currency;\n      if (fieldData.extracted) essential.raw = fieldData.raw;\n      return essential;\n    };\n    const simplifyInfobox = infobox => {\n      if (!infobox) return {};\n      const result = {\n        title: infobox.title,\n        type: infobox.type\n      };\n      if (infobox.sections) {\n        result.sections = {};\n        Object.entries(infobox.sections).forEach(_ref2 => {\n          let [sectionName, sectionData] = _ref2;\n          if (PRESERVED_FIELDS_BY_SECTION[sectionName]) {\n            result.sections[sectionName] = {};\n            PRESERVED_FIELDS_BY_SECTION[sectionName].forEach(fieldName => {\n              if (sectionData[fieldName]) {\n                result.sections[sectionName][fieldName] = Array.isArray(sectionData[fieldName]) ? sectionData[fieldName].map(item => extractEssentialData(item)) : extractEssentialData(sectionData[fieldName]);\n              }\n            });\n          }\n        });\n      }\n      return result;\n    };\n    const parseCausalChains = text => {\n      if (!text) return [];\n      const chains = [];\n      const countries = text.split(\"##\").filter(s => s.trim());\n      countries.forEach(countrySection => {\n        const countryMatch = countrySection.match(/(韩国|日本)/);\n        if (!countryMatch) return;\n        const country = countryMatch[0] === \"韩国\" ? \"korea\" : \"japan\";\n        const chainContent = countrySection.replace(/^.*?\\n/, \"\").trim();\n        const steps = chainContent.split(\"→\").map(step => {\n          const cleanStep = step.trim();\n          const evidenceMatch = cleanStep.match(/\\((.*?)\\)/);\n          return {\n            text: evidenceMatch ? cleanStep.replace(evidenceMatch[0], \"\").trim() : cleanStep,\n            evidence: evidenceMatch ? evidenceMatch[1] : null\n          };\n        }).filter(step => step.text);\n        if (steps.length > 0) {\n          chains.push({\n            country,\n            steps: steps.slice(0, 6)\n          });\n        }\n      });\n      return chains;\n    };\n    const askQuestion = async () => {\n      if (!userQuestion.value.trim()) {\n        chatHistory.value.push({\n          role: \"assistant\",\n          content: \"问题不能为空\",\n          timestamp: new Date().toLocaleString(),\n          error: true\n        });\n        return;\n      }\n      const question = userQuestion.value;\n      chatHistory.value.push({\n        role: \"user\",\n        content: question,\n        timestamp: new Date().toLocaleString()\n      });\n      userQuestion.value = \"\";\n      showSuggestedQuestion.value = false;\n      isLoading.value = true;\n      try {\n        if (currentFieldKey.value && question.includes(\"分析\") && question.includes(\"原因\")) {\n          await api.post(\"compare_attributes\", {\n            chartData: {\n              leftData: leftData.value,\n              rightData: rightData.value,\n              leftTitle: \"当前选择\",\n              rightTitle: \"对比选择\",\n              fieldKey: currentFieldKey.value,\n              leftInfobox: simplifyInfobox(div1InfoboxData.value),\n              rightInfobox: simplifyInfobox(div3InfoboxData.value)\n            },\n            chartType: \"comparison\",\n            followUp: true,\n            previousAnalysis: getLastAnalysis()\n          }, response => {\n            const formattedAnswer = formatAnalysisResult(response.analysis);\n            const hasCausalFlow = response.analysis.includes(\"##\");\n            const chains = hasCausalFlow ? parseCausalChains(response.analysis) : [];\n            chatHistory.value.push({\n              role: \"assistant\",\n              content: hasCausalFlow ? \"以下是因果分析：\" : formattedAnswer,\n              isCausalFlow: hasCausalFlow,\n              causalChains: chains,\n              timestamp: new Date().toLocaleString()\n            });\n\n            // 触发高亮\n            if (hasCausalFlow) {\n              chains.forEach(chain => {\n                const fields = chain.steps.filter(step => step.evidence).map(step => {\n                  const chineseField = step.evidence.match(/^([^(]+)/)?.[1]?.trim();\n                  return chineseField ? FIELD_MAPPING[chain.country]?.[chineseField] : null;\n                }).filter(Boolean);\n                if (fields.length > 0) {\n                  bus.emit(`highlight-${chain.country === \"korea\" ? \"div1\" : \"div3\"}-fields`, fields);\n                }\n              });\n            }\n            scrollToBottom();\n          }, error => {\n            throw error;\n          });\n        } else if (currentFieldKey.value && !question.includes(\"分析\")) {\n          await api.post(\"compare_attributes\", {\n            chartData: {\n              leftData: leftData.value,\n              rightData: rightData.value,\n              leftTitle: \"当前选择\",\n              rightTitle: \"对比选择\",\n              fieldKey: currentFieldKey.value\n            },\n            chartType: \"comparison\",\n            followUp: false\n          }, response => {\n            const formattedAnswer = formatAnalysisResult(response.analysis);\n            chatHistory.value.push({\n              role: \"assistant\",\n              content: formattedAnswer,\n              timestamp: new Date().toLocaleString()\n            });\n            suggestedQuestion.value = `请结合其他属性深入分析${currentFieldKey.value}差异的原因`;\n            showSuggestedQuestion.value = true;\n            scrollToBottom();\n          }, error => {\n            throw error;\n          });\n        } else {\n          await api.post(\"ask_infobox\", {\n            question: question,\n            leftInfobox: simplifyInfobox(div1InfoboxData.value),\n            rightInfobox: simplifyInfobox(div3InfoboxData.value)\n          }, response => {\n            const formattedAnswer = formatAnalysisResult(response.answer);\n            chatHistory.value.push({\n              role: \"assistant\",\n              content: formattedAnswer,\n              timestamp: new Date().toLocaleString()\n            });\n            scrollToBottom();\n          }, error => {\n            throw error;\n          });\n        }\n      } catch (error) {\n        console.error(\"请求失败:\", error);\n        chatHistory.value.push({\n          role: \"assistant\",\n          content: `请求失败: ${error.message || \"未知错误\"}`,\n          timestamp: new Date().toLocaleString(),\n          error: true\n        });\n      } finally {\n        isLoading.value = false;\n        scrollToBottom();\n      }\n    };\n    const useSuggestedQuestion = () => {\n      userQuestion.value = suggestedQuestion.value;\n      showSuggestedQuestion.value = false;\n      nextTick(() => {\n        document.querySelector(\".input-container textarea\").focus();\n      });\n    };\n    const handleAttributeComparison = async _ref3 => {\n      let {\n        fieldKey,\n        leftData: incomingLeftData,\n        rightData: incomingRightData,\n        leftTitle,\n        rightTitle,\n        fieldType,\n        fieldLabel\n      } = _ref3;\n      if (!incomingLeftData || !incomingRightData) {\n        chatHistory.value.push({\n          role: \"assistant\",\n          content: \"请先选择要对比的数据\",\n          timestamp: new Date().toLocaleString(),\n          error: true\n        });\n        return;\n      }\n      leftData.value = incomingLeftData;\n      rightData.value = incomingRightData;\n      currentFieldKey.value = fieldKey;\n      isLoading.value = true;\n      try {\n        chatHistory.value.push({\n          role: \"assistant\",\n          content: `正在对比分析<strong>${fieldKey}</strong>属性...`,\n          timestamp: new Date().toLocaleString()\n        });\n        const requestPayload = {\n          chartData: {\n            leftData: leftData.value,\n            rightData: rightData.value,\n            leftTitle,\n            rightTitle,\n            fieldKey,\n            fieldType,\n            allFields: Object.keys({\n              ...div1InfoboxData.value,\n              ...div3InfoboxData.value\n            }),\n            leftInfobox: simplifyInfobox(div1InfoboxData.value),\n            rightInfobox: simplifyInfobox(div3InfoboxData.value)\n          },\n          chartType: \"comparison\"\n        };\n        await api.post(\"compare_attributes\", requestPayload, response => {\n          const formattedAnalysis = formatAnalysisResult(response.analysis);\n          chatHistory.value.push({\n            role: \"assistant\",\n            content: formattedAnalysis,\n            timestamp: new Date().toLocaleString()\n          });\n          suggestedQuestion.value = `请结合其他属性深入分析得出上述结论的原因`;\n          showSuggestedQuestion.value = true;\n          scrollToBottom();\n        }, error => {\n          throw error;\n        });\n      } catch (error) {\n        console.error(\"对比分析失败:\", error);\n        chatHistory.value.push({\n          role: \"assistant\",\n          content: `对比分析失败: ${error.message || \"未知错误\"}`,\n          timestamp: new Date().toLocaleString(),\n          error: true\n        });\n      } finally {\n        isLoading.value = false;\n        scrollToBottom();\n      }\n    };\n    const __returned__ = {\n      PRESERVED_FIELDS_BY_SECTION,\n      userQuestion,\n      chatHistory,\n      selectText2,\n      selectText3,\n      div1RawData,\n      div3RawData,\n      isLoading,\n      div1InfoboxData,\n      div3InfoboxData,\n      showSuggestedQuestion,\n      suggestedQuestion,\n      currentFieldKey,\n      leftData,\n      rightData,\n      loadChatHistory,\n      scrollToBottom,\n      getLastAnalysis,\n      handleDiv1Event,\n      handleDiv3Event,\n      handleSelection,\n      getPlainTextFromSelection,\n      formatAnalysisResult,\n      extractEssentialData,\n      simplifyInfobox,\n      parseCausalChains,\n      askQuestion,\n      useSuggestedQuestion,\n      handleAttributeComparison,\n      ref,\n      onMounted,\n      onUnmounted,\n      watch,\n      nextTick,\n      get bus() {\n        return bus;\n      },\n      CompareTable,\n      CausalFlowChart,\n      get FIELD_MAPPING() {\n        return FIELD_MAPPING;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onUnmounted","watch","nextTick","bus","CompareTable","CausalFlowChart","FIELD_MAPPING","PRESERVED_FIELDS_BY_SECTION","Statistics","userQuestion","chatHistory","selectText2","selectText3","div1RawData","div3RawData","isLoading","div1InfoboxData","div3InfoboxData","showSuggestedQuestion","suggestedQuestion","currentFieldKey","leftData","rightData","loadChatHistory","saved","localStorage","getItem","value","JSON","parse","e","console","error","newVal","setItem","stringify","deep","scrollToBottom","container","document","querySelector","scrollTop","scrollHeight","getLastAnalysis","reversed","reverse","lastAssistantMsg","find","msg","role","content","handleDiv1Event","data","handleSelection","handleDiv3Event","on","off","source","plainText","getPlainTextFromSelection","htmlContent","createElement","innerHTML","innerText","textContent","formatAnalysisResult","text","replace","extractEssentialData","fieldData","essential","type","unit","currency","extracted","raw","simplifyInfobox","infobox","result","title","sections","Object","entries","forEach","_ref2","sectionName","sectionData","fieldName","Array","isArray","map","item","parseCausalChains","chains","countries","split","filter","s","trim","countrySection","countryMatch","match","country","chainContent","steps","step","cleanStep","evidenceMatch","evidence","length","push","slice","askQuestion","timestamp","Date","toLocaleString","question","includes","api","post","chartData","leftTitle","rightTitle","fieldKey","leftInfobox","rightInfobox","chartType","followUp","previousAnalysis","response","formattedAnswer","analysis","hasCausalFlow","isCausalFlow","causalChains","chain","fields","chineseField","Boolean","emit","answer","message","useSuggestedQuestion","focus","handleAttributeComparison","_ref3","incomingLeftData","incomingRightData","fieldType","fieldLabel","requestPayload","allFields","keys","formattedAnalysis"],"sources":["D:/vue_frame/vue_frame/wikitable-vue/client/src/components/compoents_base/ParentComponent.vue"],"sourcesContent":["<template>\r\n\t<div :class=\"['div0', selectContentClass]\" :id=\"divId\" ref=\"divRef\">\r\n\t\t<h1>{{ props.pageTitle }}</h1>\r\n\r\n\t\t<LoadingSpinner v-if=\"loading\" />\r\n\r\n\t\t<ErrorDisplay\r\n\t\t\tv-else-if=\"error\"\r\n\t\t\t:message=\"error\"\r\n\t\t\t@retry=\"fetchWikipediaContent\" />\r\n\r\n\t\t<WikipediaContent v-else :content=\"pageHtml\" @select=\"handleSelection\" />\r\n\r\n\t\t<TextPopup\r\n\t\t\t:visible=\"showPopup[divId]\"\r\n\t\t\t:content=\"selectedText[divId]\"\r\n\t\t\t:containerClass=\"\r\n\t\t\t\tdivId === 'div1' ? 'chart-container1' : 'chart-container2'\r\n\t\t\t\"\r\n\t\t\t:containerRef=\"divRef\"\r\n\t\t\t@close=\"closePopup\" />\r\n\r\n\t\t<ArticleOutline :content=\"pageHtml\" :divId=\"divId\" />\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport { ref, onMounted, onUnmounted, watch, nextTick } from \"vue\";\r\n\timport bus from \"@/js/eventBus.js\";\r\n\timport CompareTable from \"@/components/compoents_base/CompareTable.vue\";\r\n\timport CausalFlowChart from \"@/components/compoents_base/CausalFlowChart.vue\";\r\n\timport { FIELD_MAPPING } from \"@/js/fieldMapping\";\r\n\r\n\tconst PRESERVED_FIELDS_BY_SECTION = {\r\n\t\tStatistics: [\r\n\t\t\t\"Population\",\r\n\t\t\t\"GDP\",\r\n\t\t\t\"GDP rank\",\r\n\t\t\t\"GDP growth\",\r\n\t\t\t\"GDP per capita\",\r\n\t\t\t\"GDP per capita rank\",\r\n\t\t\t\"GDP by sector\",\r\n\t\t\t\"Inflation (CPI)\",\r\n\t\t\t\"Population below poverty line\",\r\n\t\t\t\"Gini coefficient\",\r\n\t\t\t\"Human Development Index\",\r\n\t\t\t\"Corruption Perceptions Index\",\r\n\t\t\t\"Labor force\",\r\n\t\t\t\"Labor force by occupation\",\r\n\t\t\t\"Unemployment\",\r\n\t\t\t\"Average gross salary\",\r\n\t\t\t\"Average net salary\",\r\n\t\t\t\"Main industries\"\r\n\t\t],\r\n\t\t\"Public finances\": [\r\n\t\t\t\"Government debt\",\r\n\t\t\t\"Foreign reserves\",\r\n\t\t\t\"Budget balance\",\r\n\t\t\t\"Revenues\",\r\n\t\t\t\"Expenses\",\r\n\t\t\t\"Economic aid\",\r\n\t\t\t\"Credit rating\"\r\n\t\t]\r\n\t};\r\n\r\n\tconst userQuestion = ref(\"\");\r\n\tconst chatHistory = ref([]);\r\n\tconst selectText2 = ref(\"\");\r\n\tconst selectText3 = ref(\"\");\r\n\tconst div1RawData = ref(null);\r\n\tconst div3RawData = ref(null);\r\n\tconst isLoading = ref(false);\r\n\tconst div1InfoboxData = ref(null);\r\n\tconst div3InfoboxData = ref(null);\r\n\tconst showSuggestedQuestion = ref(false);\r\n\tconst suggestedQuestion = ref(\"\");\r\n\tconst currentFieldKey = ref(\"\");\r\n\tconst leftData = ref(null);\r\n\tconst rightData = ref(null);\r\n\r\n\tconst loadChatHistory = () => {\r\n\t\tconst saved = localStorage.getItem(\"chatHistory\");\r\n\t\tif (saved) {\r\n\t\t\ttry {\r\n\t\t\t\tchatHistory.value = JSON.parse(saved);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(\"加载聊天记录失败:\", e);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\twatch(\r\n\t\tchatHistory,\r\n\t\tnewVal => {\r\n\t\t\tlocalStorage.setItem(\"chatHistory\", JSON.stringify(newVal));\r\n\t\t},\r\n\t\t{ deep: true }\r\n\t);\r\n\r\n\tconst scrollToBottom = () => {\r\n\t\tnextTick(() => {\r\n\t\t\tconst container = document.querySelector(\".chat-history\");\r\n\t\t\tif (container) container.scrollTop = container.scrollHeight;\r\n\t\t});\r\n\t};\r\n\r\n\tconst getLastAnalysis = () => {\r\n\t\tconst reversed = [...chatHistory.value].reverse();\r\n\t\tconst lastAssistantMsg = reversed.find(\r\n\t\t\tmsg => msg.role === \"assistant\" && !msg.error\r\n\t\t);\r\n\t\treturn lastAssistantMsg ? lastAssistantMsg.content : \"\";\r\n\t};\r\n\r\n\tconst handleDiv1Event = data => handleSelection(data, \"div1\");\r\n\tconst handleDiv3Event = data => handleSelection(data, \"div3\");\r\n\r\n\tonMounted(() => {\r\n\t\tloadChatHistory();\r\n\t\tbus.on(\"div1_Event\", handleDiv1Event);\r\n\t\tbus.on(\"div3_Event\", handleDiv3Event);\r\n\t\tbus.on(\"div1_InfoboxData\", data => (div1InfoboxData.value = data));\r\n\t\tbus.on(\"div3_InfoboxData\", data => (div3InfoboxData.value = data));\r\n\t});\r\n\r\n\tonUnmounted(() => {\r\n\t\tbus.off(\"div1_Event\", handleDiv1Event);\r\n\t\tbus.off(\"div3_Event\", handleDiv3Event);\r\n\t\tbus.off(\"div1_InfoboxData\");\r\n\t\tbus.off(\"div3_InfoboxData\");\r\n\t});\r\n\r\n\tfunction handleSelection(data, source) {\r\n\t\tconst plainText = getPlainTextFromSelection(data.content);\r\n\t\tif (source === \"div1\") {\r\n\t\t\tselectText2.value = plainText;\r\n\t\t\tdiv1RawData.value = data.content;\r\n\t\t} else if (source === \"div3\") {\r\n\t\t\tselectText3.value = plainText;\r\n\t\t\tdiv3RawData.value = data.content;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getPlainTextFromSelection(htmlContent) {\r\n\t\tconst container = document.createElement(\"div\");\r\n\t\tcontainer.innerHTML = htmlContent;\r\n\t\treturn container.innerText || container.textContent || \"\";\r\n\t}\r\n\r\n\tconst formatAnalysisResult = text => {\r\n\t\tif (!text) return \"\";\r\n\t\treturn text\r\n\t\t\t.replace(/^# (.*$)/gm, \"<h1>$1</h1>\")\r\n\t\t\t.replace(/^## (.*$)/gm, \"<h2>$1</h2>\")\r\n\t\t\t.replace(/^### (.*$)/gm, \"<h3>$1</h3>\")\r\n\t\t\t.replace(/\\*\\*(.*?)\\*\\*/g, \"<strong>$1</strong>\")\r\n\t\t\t.replace(/\\*(.*?)\\*/g, \"<em>$1</em>\")\r\n\t\t\t.replace(/`(.*?)`/g, \"<code>$1</code>\")\r\n\t\t\t.replace(/!\\[(.*?)\\]\\((.*?)\\)/g, '<img alt=\"$1\" src=\"$2\">')\r\n\t\t\t.replace(/\\[(.*?)\\]\\((.*?)\\)/g, '<a href=\"$2\">$1</a>')\r\n\t\t\t.replace(/(?:^|\\n)\\d+\\.\\s+(.*)/g, \"<li>$1</li>\")\r\n\t\t\t.replace(/(?:^|\\n)-\\s+(.*)/g, \"<li>$1</li>\")\r\n\t\t\t.replace(/(?:^|\\n)\\>\\s+(.*)/g, \"<blockquote>$1</blockquote>\")\r\n\t\t\t.replace(/(<li>.*<\\/li>)/gs, \"<ul>$1</ul>\")\r\n\t\t\t.replace(/\\n\\n/g, \"<br><br>\")\r\n\t\t\t.replace(/\\n/g, \"<br>\");\r\n\t};\r\n\r\n\tconst extractEssentialData = fieldData => {\r\n\t\tif (!fieldData) return null;\r\n\t\tconst essential = { value: fieldData.value, type: fieldData.type };\r\n\t\tif (fieldData.unit) essential.unit = fieldData.unit;\r\n\t\tif (fieldData.currency) essential.currency = fieldData.currency;\r\n\t\tif (fieldData.extracted) essential.raw = fieldData.raw;\r\n\t\treturn essential;\r\n\t};\r\n\r\n\tconst simplifyInfobox = infobox => {\r\n\t\tif (!infobox) return {};\r\n\t\tconst result = { title: infobox.title, type: infobox.type };\r\n\r\n\t\tif (infobox.sections) {\r\n\t\t\tresult.sections = {};\r\n\t\t\tObject.entries(infobox.sections).forEach(([sectionName, sectionData]) => {\r\n\t\t\t\tif (PRESERVED_FIELDS_BY_SECTION[sectionName]) {\r\n\t\t\t\t\tresult.sections[sectionName] = {};\r\n\t\t\t\t\tPRESERVED_FIELDS_BY_SECTION[sectionName].forEach(fieldName => {\r\n\t\t\t\t\t\tif (sectionData[fieldName]) {\r\n\t\t\t\t\t\t\tresult.sections[sectionName][fieldName] = Array.isArray(\r\n\t\t\t\t\t\t\t\tsectionData[fieldName]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t? sectionData[fieldName].map(item => extractEssentialData(item))\r\n\t\t\t\t\t\t\t\t: extractEssentialData(sectionData[fieldName]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\r\n\tconst parseCausalChains = text => {\r\n\t\tif (!text) return [];\r\n\t\tconst chains = [];\r\n\t\tconst countries = text.split(\"##\").filter(s => s.trim());\r\n\r\n\t\tcountries.forEach(countrySection => {\r\n\t\t\tconst countryMatch = countrySection.match(/(韩国|日本)/);\r\n\t\t\tif (!countryMatch) return;\r\n\r\n\t\t\tconst country = countryMatch[0] === \"韩国\" ? \"korea\" : \"japan\";\r\n\t\t\tconst chainContent = countrySection.replace(/^.*?\\n/, \"\").trim();\r\n\r\n\t\t\tconst steps = chainContent\r\n\t\t\t\t.split(\"→\")\r\n\t\t\t\t.map(step => {\r\n\t\t\t\t\tconst cleanStep = step.trim();\r\n\t\t\t\t\tconst evidenceMatch = cleanStep.match(/\\((.*?)\\)/);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttext: evidenceMatch\r\n\t\t\t\t\t\t\t? cleanStep.replace(evidenceMatch[0], \"\").trim()\r\n\t\t\t\t\t\t\t: cleanStep,\r\n\t\t\t\t\t\tevidence: evidenceMatch ? evidenceMatch[1] : null\r\n\t\t\t\t\t};\r\n\t\t\t\t})\r\n\t\t\t\t.filter(step => step.text);\r\n\r\n\t\t\tif (steps.length > 0) {\r\n\t\t\t\tchains.push({ country, steps: steps.slice(0, 6) });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn chains;\r\n\t};\r\n\r\n\tconst askQuestion = async () => {\r\n\t\tif (!userQuestion.value.trim()) {\r\n\t\t\tchatHistory.value.push({\r\n\t\t\t\trole: \"assistant\",\r\n\t\t\t\tcontent: \"问题不能为空\",\r\n\t\t\t\ttimestamp: new Date().toLocaleString(),\r\n\t\t\t\terror: true\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst question = userQuestion.value;\r\n\t\tchatHistory.value.push({\r\n\t\t\trole: \"user\",\r\n\t\t\tcontent: question,\r\n\t\t\ttimestamp: new Date().toLocaleString()\r\n\t\t});\r\n\t\tuserQuestion.value = \"\";\r\n\t\tshowSuggestedQuestion.value = false;\r\n\t\tisLoading.value = true;\r\n\r\n\t\ttry {\r\n\t\t\tif (\r\n\t\t\t\tcurrentFieldKey.value &&\r\n\t\t\t\tquestion.includes(\"分析\") &&\r\n\t\t\t\tquestion.includes(\"原因\")\r\n\t\t\t) {\r\n\t\t\t\tawait api.post(\r\n\t\t\t\t\t\"compare_attributes\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tchartData: {\r\n\t\t\t\t\t\t\tleftData: leftData.value,\r\n\t\t\t\t\t\t\trightData: rightData.value,\r\n\t\t\t\t\t\t\tleftTitle: \"当前选择\",\r\n\t\t\t\t\t\t\trightTitle: \"对比选择\",\r\n\t\t\t\t\t\t\tfieldKey: currentFieldKey.value,\r\n\t\t\t\t\t\t\tleftInfobox: simplifyInfobox(div1InfoboxData.value),\r\n\t\t\t\t\t\t\trightInfobox: simplifyInfobox(div3InfoboxData.value)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tchartType: \"comparison\",\r\n\t\t\t\t\t\tfollowUp: true,\r\n\t\t\t\t\t\tpreviousAnalysis: getLastAnalysis()\r\n\t\t\t\t\t},\r\n\t\t\t\t\tresponse => {\r\n\t\t\t\t\t\tconst formattedAnswer = formatAnalysisResult(response.analysis);\r\n\t\t\t\t\t\tconst hasCausalFlow = response.analysis.includes(\"##\");\r\n\t\t\t\t\t\tconst chains = hasCausalFlow\r\n\t\t\t\t\t\t\t? parseCausalChains(response.analysis)\r\n\t\t\t\t\t\t\t: [];\r\n\r\n\t\t\t\t\t\tchatHistory.value.push({\r\n\t\t\t\t\t\t\trole: \"assistant\",\r\n\t\t\t\t\t\t\tcontent: hasCausalFlow ? \"以下是因果分析：\" : formattedAnswer,\r\n\t\t\t\t\t\t\tisCausalFlow: hasCausalFlow,\r\n\t\t\t\t\t\t\tcausalChains: chains,\r\n\t\t\t\t\t\t\ttimestamp: new Date().toLocaleString()\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// 触发高亮\r\n\t\t\t\t\t\tif (hasCausalFlow) {\r\n\t\t\t\t\t\t\tchains.forEach(chain => {\r\n\t\t\t\t\t\t\t\tconst fields = chain.steps\r\n\t\t\t\t\t\t\t\t\t.filter(step => step.evidence)\r\n\t\t\t\t\t\t\t\t\t.map(step => {\r\n\t\t\t\t\t\t\t\t\t\tconst chineseField = step.evidence\r\n\t\t\t\t\t\t\t\t\t\t\t.match(/^([^(]+)/)?.[1]\r\n\t\t\t\t\t\t\t\t\t\t\t?.trim();\r\n\t\t\t\t\t\t\t\t\t\treturn chineseField\r\n\t\t\t\t\t\t\t\t\t\t\t? FIELD_MAPPING[chain.country]?.[chineseField]\r\n\t\t\t\t\t\t\t\t\t\t\t: null;\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.filter(Boolean);\r\n\r\n\t\t\t\t\t\t\t\tif (fields.length > 0) {\r\n\t\t\t\t\t\t\t\t\tbus.emit(\r\n\t\t\t\t\t\t\t\t\t\t`highlight-${\r\n\t\t\t\t\t\t\t\t\t\t\tchain.country === \"korea\" ? \"div1\" : \"div3\"\r\n\t\t\t\t\t\t\t\t\t\t}-fields`,\r\n\t\t\t\t\t\t\t\t\t\tfields\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tscrollToBottom();\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror => {\r\n\t\t\t\t\t\tthrow error;\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t} else if (currentFieldKey.value && !question.includes(\"分析\")) {\r\n\t\t\t\tawait api.post(\r\n\t\t\t\t\t\"compare_attributes\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tchartData: {\r\n\t\t\t\t\t\t\tleftData: leftData.value,\r\n\t\t\t\t\t\t\trightData: rightData.value,\r\n\t\t\t\t\t\t\tleftTitle: \"当前选择\",\r\n\t\t\t\t\t\t\trightTitle: \"对比选择\",\r\n\t\t\t\t\t\t\tfieldKey: currentFieldKey.value\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tchartType: \"comparison\",\r\n\t\t\t\t\t\tfollowUp: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tresponse => {\r\n\t\t\t\t\t\tconst formattedAnswer = formatAnalysisResult(response.analysis);\r\n\t\t\t\t\t\tchatHistory.value.push({\r\n\t\t\t\t\t\t\trole: \"assistant\",\r\n\t\t\t\t\t\t\tcontent: formattedAnswer,\r\n\t\t\t\t\t\t\ttimestamp: new Date().toLocaleString()\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsuggestedQuestion.value = `请结合其他属性深入分析${currentFieldKey.value}差异的原因`;\r\n\t\t\t\t\t\tshowSuggestedQuestion.value = true;\r\n\t\t\t\t\t\tscrollToBottom();\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror => {\r\n\t\t\t\t\t\tthrow error;\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tawait api.post(\r\n\t\t\t\t\t\"ask_infobox\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tquestion: question,\r\n\t\t\t\t\t\tleftInfobox: simplifyInfobox(div1InfoboxData.value),\r\n\t\t\t\t\t\trightInfobox: simplifyInfobox(div3InfoboxData.value)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tresponse => {\r\n\t\t\t\t\t\tconst formattedAnswer = formatAnalysisResult(response.answer);\r\n\t\t\t\t\t\tchatHistory.value.push({\r\n\t\t\t\t\t\t\trole: \"assistant\",\r\n\t\t\t\t\t\t\tcontent: formattedAnswer,\r\n\t\t\t\t\t\t\ttimestamp: new Date().toLocaleString()\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tscrollToBottom();\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror => {\r\n\t\t\t\t\t\tthrow error;\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"请求失败:\", error);\r\n\t\t\tchatHistory.value.push({\r\n\t\t\t\trole: \"assistant\",\r\n\t\t\t\tcontent: `请求失败: ${error.message || \"未知错误\"}`,\r\n\t\t\t\ttimestamp: new Date().toLocaleString(),\r\n\t\t\t\terror: true\r\n\t\t\t});\r\n\t\t} finally {\r\n\t\t\tisLoading.value = false;\r\n\t\t\tscrollToBottom();\r\n\t\t}\r\n\t};\r\n\r\n\tconst useSuggestedQuestion = () => {\r\n\t\tuserQuestion.value = suggestedQuestion.value;\r\n\t\tshowSuggestedQuestion.value = false;\r\n\t\tnextTick(() => {\r\n\t\t\tdocument.querySelector(\".input-container textarea\").focus();\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleAttributeComparison = async ({\r\n\t\tfieldKey,\r\n\t\tleftData: incomingLeftData,\r\n\t\trightData: incomingRightData,\r\n\t\tleftTitle,\r\n\t\trightTitle,\r\n\t\tfieldType,\r\n\t\tfieldLabel\r\n\t}) => {\r\n\t\tif (!incomingLeftData || !incomingRightData) {\r\n\t\t\tchatHistory.value.push({\r\n\t\t\t\trole: \"assistant\",\r\n\t\t\t\tcontent: \"请先选择要对比的数据\",\r\n\t\t\t\ttimestamp: new Date().toLocaleString(),\r\n\t\t\t\terror: true\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tleftData.value = incomingLeftData;\r\n\t\trightData.value = incomingRightData;\r\n\t\tcurrentFieldKey.value = fieldKey;\r\n\t\tisLoading.value = true;\r\n\r\n\t\ttry {\r\n\t\t\tchatHistory.value.push({\r\n\t\t\t\trole: \"assistant\",\r\n\t\t\t\tcontent: `正在对比分析<strong>${fieldKey}</strong>属性...`,\r\n\t\t\t\ttimestamp: new Date().toLocaleString()\r\n\t\t\t});\r\n\r\n\t\t\tconst requestPayload = {\r\n\t\t\t\tchartData: {\r\n\t\t\t\t\tleftData: leftData.value,\r\n\t\t\t\t\trightData: rightData.value,\r\n\t\t\t\t\tleftTitle,\r\n\t\t\t\t\trightTitle,\r\n\t\t\t\t\tfieldKey,\r\n\t\t\t\t\tfieldType,\r\n\t\t\t\t\tallFields: Object.keys({\r\n\t\t\t\t\t\t...div1InfoboxData.value,\r\n\t\t\t\t\t\t...div3InfoboxData.value\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tleftInfobox: simplifyInfobox(div1InfoboxData.value),\r\n\t\t\t\t\trightInfobox: simplifyInfobox(div3InfoboxData.value)\r\n\t\t\t\t},\r\n\t\t\t\tchartType: \"comparison\"\r\n\t\t\t};\r\n\r\n\t\t\tawait api.post(\r\n\t\t\t\t\"compare_attributes\",\r\n\t\t\t\trequestPayload,\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tconst formattedAnalysis = formatAnalysisResult(response.analysis);\r\n\t\t\t\t\tchatHistory.value.push({\r\n\t\t\t\t\t\trole: \"assistant\",\r\n\t\t\t\t\t\tcontent: formattedAnalysis,\r\n\t\t\t\t\t\ttimestamp: new Date().toLocaleString()\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsuggestedQuestion.value = `请结合其他属性深入分析得出上述结论的原因`;\r\n\t\t\t\t\tshowSuggestedQuestion.value = true;\r\n\t\t\t\t\tscrollToBottom();\r\n\t\t\t\t},\r\n\t\t\t\terror => {\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"对比分析失败:\", error);\r\n\t\t\tchatHistory.value.push({\r\n\t\t\t\trole: \"assistant\",\r\n\t\t\t\tcontent: `对比分析失败: ${error.message || \"未知错误\"}`,\r\n\t\t\t\ttimestamp: new Date().toLocaleString(),\r\n\t\t\t\terror: true\r\n\t\t\t});\r\n\t\t} finally {\r\n\t\t\tisLoading.value = false;\r\n\t\t\tscrollToBottom();\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t/* 原有样式保持不变 */\r\n\th1 {\r\n\t\ttext-align: center;\r\n\t\tmargin-bottom: 20px;\r\n\t\tcolor: #2c3e50;\r\n\t}\r\n\r\n\t.div0 {\r\n\t\tposition: relative;\r\n\t\twidth: 55%;\r\n\t\tmax-width: 100%;\r\n\t\tmax-height: 100%;\r\n\t\toverflow: auto;\r\n\t\tpadding: 20px;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 12px;\r\n\t\tbox-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n\t\tmargin: 10px;\r\n\t}\r\n\r\n\t#div1,\r\n\t#div3 {\r\n\t\twidth: 55%;\r\n\t\tmax-width: 100%;\r\n\t\tmax-height: 100%;\r\n\t\toverflow: auto;\r\n\t\tpadding: 20px;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 12px;\r\n\t\tbox-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n\t\tmargin: 10px;\r\n\t}\r\n\r\n\t.showHtml {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\toverflow: auto;\r\n\t}\r\n\r\n\t::selection {\r\n\t\tbackground-color: rgba(255, 255, 0, 0.3);\r\n\t\tcolor: inherit;\r\n\t}\r\n</style>\r\n\r\n<style>\r\n\t/* 原有全局样式 */\r\n\t.infobox tr.infobox-highlight th,\r\n\t.infobox tr.infobox-highlight td,\r\n\t.sidebar tr.infobox-highlight th,\r\n\t.sidebar tr.infobox-highlight td,\r\n\t.toccolours tr.infobox-highlight th,\r\n\t.toccolours tr.infobox-highlight td {\r\n\t\tbackground-color: #fffacd !important;\r\n\t\tbox-shadow: 0 0 8px rgba(255, 235, 59, 0.8) !important;\r\n\t\ttransition: all 0.15s ease !important;\r\n\t}\r\n\r\n\t/* 新增精确高亮样式 - 区分左右 */\r\n\t.highlight-exact.highlight-div1 {\r\n\t\tbackground-color: rgba(255, 235, 59, 0.6);\r\n\t\tpadding: 0 2px;\r\n\t\tborder-radius: 3px;\r\n\t\tbox-shadow: 0 0 0 1px rgba(255, 235, 59, 0.3);\r\n\t}\r\n\r\n\t.highlight-exact.highlight-div3 {\r\n\t\tbackground-color: rgba(100, 221, 23, 0.6);\r\n\t\tpadding: 0 2px;\r\n\t\tborder-radius: 3px;\r\n\t\tbox-shadow: 0 0 0 1px rgba(76, 175, 80, 0.3);\r\n\t}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}