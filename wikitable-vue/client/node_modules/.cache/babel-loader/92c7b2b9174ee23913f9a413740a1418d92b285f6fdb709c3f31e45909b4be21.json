{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-0c150cb4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = [\"width\", \"height\"];\nconst _hoisted_2 = [\"d\"];\nconst _hoisted_3 = [\"cx\", \"cy\", \"fill\"];\nconst _hoisted_4 = [\"x\", \"y\"];\nconst _hoisted_5 = [\"x\", \"y\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"svg\", {\n    width: $props.width,\n    height: $props.height,\n    class: \"sparkline\"\n  }, [_createElementVNode(\"path\", {\n    d: $options.linePath,\n    stroke: \"#2196F3\",\n    \"stroke-width\": \"2\",\n    fill: \"none\",\n    \"stroke-linejoin\": \"round\"\n  }, null, 8 /* PROPS */, _hoisted_2), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.points, (point, index) => {\n    return _openBlock(), _createElementBlock(\"circle\", {\n      key: index,\n      cx: point.x,\n      cy: point.y,\n      r: \"3\",\n      fill: $options.getPointColor(index)\n    }, null, 8 /* PROPS */, _hoisted_3);\n  }), 128 /* KEYED_FRAGMENT */)), $props.showLabels && _ctx.index % $props.labelInterval === 0 ? (_openBlock(true), _createElementBlock(_Fragment, {\n    key: 0\n  }, _renderList($props.labels, (label, index) => {\n    return _openBlock(), _createElementBlock(\"rect\", {\n      key: 'label-' + index,\n      x: index * ($props.width / ($props.labels.length - 1)) - 15,\n      y: $props.height - 12,\n      width: \"30\",\n      height: \"12\",\n      fill: \"#f5f5f5\",\n      rx: \"2\"\n    }, null, 8 /* PROPS */, _hoisted_4);\n  }), 128 /* KEYED_FRAGMENT */)) : _createCommentVNode(\"v-if\", true), $props.showLabels && _ctx.index % $props.labelInterval === 0 ? (_openBlock(true), _createElementBlock(_Fragment, {\n    key: 1\n  }, _renderList($props.labels, (label, index) => {\n    return _openBlock(), _createElementBlock(\"text\", {\n      key: 'text-' + index,\n      x: index * ($props.width / ($props.labels.length - 1)),\n      y: $props.height - 2,\n      \"text-anchor\": \"middle\",\n      \"font-size\": \"10\"\n    }, _toDisplayString(label), 9 /* TEXT, PROPS */, _hoisted_5);\n  }), 128 /* KEYED_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)], 8 /* PROPS */, _hoisted_1);\n}","map":{"version":3,"names":["_createElementBlock","width","$props","height","class","_createElementVNode","d","$options","linePath","stroke","fill","_hoisted_2","_Fragment","_renderList","points","point","index","key","cx","x","cy","y","r","getPointColor","_hoisted_3","showLabels","_ctx","labelInterval","labels","label","length","rx","_hoisted_4","_createCommentVNode","_hoisted_5","_hoisted_1"],"sources":["D:\\vue_frame\\vue_frame\\wikitable-vue\\client\\src\\components\\compoents_base\\SparklineChart.vue"],"sourcesContent":["<template>\r\n\t<svg :width=\"width\" :height=\"height\" class=\"sparkline\">\r\n\t\t<path\r\n\t\t\t:d=\"linePath\"\r\n\t\t\tstroke=\"#2196F3\"\r\n\t\t\tstroke-width=\"2\"\r\n\t\t\tfill=\"none\"\r\n\t\t\tstroke-linejoin=\"round\" />\r\n\r\n\t\t<circle\r\n\t\t\tv-for=\"(point, index) in points\"\r\n\t\t\t:key=\"index\"\r\n\t\t\t:cx=\"point.x\"\r\n\t\t\t:cy=\"point.y\"\r\n\t\t\tr=\"3\"\r\n\t\t\t:fill=\"getPointColor(index)\" />\r\n\r\n\t\t<rect\r\n\t\t\tv-for=\"(label, index) in labels\"\r\n\t\t\t:key=\"'label-' + index\"\r\n\t\t\t:x=\"index * (width / (labels.length - 1)) - 15\"\r\n\t\t\t:y=\"height - 12\"\r\n\t\t\twidth=\"30\"\r\n\t\t\theight=\"12\"\r\n\t\t\tfill=\"#f5f5f5\"\r\n\t\t\trx=\"2\"\r\n\t\t\tv-if=\"showLabels && index % labelInterval === 0\" />\r\n\r\n\t\t<text\r\n\t\t\tv-for=\"(label, index) in labels\"\r\n\t\t\t:key=\"'text-' + index\"\r\n\t\t\t:x=\"index * (width / (labels.length - 1))\"\r\n\t\t\t:y=\"height - 2\"\r\n\t\t\ttext-anchor=\"middle\"\r\n\t\t\tfont-size=\"10\"\r\n\t\t\tv-if=\"showLabels && index % labelInterval === 0\">\r\n\t\t\t{{ label }}\r\n\t\t</text>\r\n\t</svg>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tvalues: { type: Array, default: () => [] },\r\n\t\t\tlabels: { type: Array, default: () => [] },\r\n\t\t\twidth: { type: Number, default: 150 },\r\n\t\t\theight: { type: Number, default: 50 },\r\n\t\t\thighlight: { type: Array, default: () => [] },\r\n\t\t\tshowLabels: { type: Boolean, default: true },\r\n\t\t\tlabelInterval: { type: Number, default: 3 }\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tnormalizedValues() {\r\n\t\t\t\tif (!this.values.length) return [];\r\n\t\t\t\tconst min = Math.min(...this.values);\r\n\t\t\t\tconst max = Math.max(...this.values);\r\n\t\t\t\tconst range = max - min || 1; // 防止除以0\r\n\r\n\t\t\t\treturn this.values.map(\r\n\t\t\t\t\tv => this.height - 10 - ((v - min) / range) * (this.height - 20)\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tpoints() {\r\n\t\t\t\treturn this.normalizedValues.map((y, i) => ({\r\n\t\t\t\t\tx: i * (this.width / (this.normalizedValues.length - 1)),\r\n\t\t\t\t\ty\r\n\t\t\t\t}));\r\n\t\t\t},\r\n\t\t\tlinePath() {\r\n\t\t\t\tif (this.points.length < 2) return \"\";\r\n\r\n\t\t\t\tlet path = `M${this.points[0].x},${this.points[0].y}`;\r\n\r\n\t\t\t\tfor (let i = 1; i < this.points.length; i++) {\r\n\t\t\t\t\tpath += ` L${this.points[i].x},${this.points[i].y}`;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn path;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetPointColor(index) {\r\n\t\t\t\tconst highlight = this.highlight.find(h => h.index === index);\r\n\t\t\t\tif (highlight?.isMax) return \"#4CAF50\";\r\n\t\t\t\tif (highlight?.isMin) return \"#F44336\";\r\n\t\t\t\treturn \"#2196F3\";\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.sparkline {\r\n\t\tdisplay: block;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n</style>\r\n"],"mappings":";;mBAAA;mBAAA;mBAAA;mBAAA;mBAAA;;uBACCA,mBAAA,CAqCM;IArCAC,KAAK,EAAEC,MAAA,CAAAD,KAAK;IAAGE,MAAM,EAAED,MAAA,CAAAC,MAAM;IAAEC,KAAK,EAAC;MAC1CC,mBAAA,CAK2B;IAJzBC,CAAC,EAAEC,QAAA,CAAAC,QAAQ;IACZC,MAAM,EAAC,SAAS;IAChB,cAAY,EAAC,GAAG;IAChBC,IAAI,EAAC,MAAM;IACX,iBAAe,EAAC;0BAPnBC,UAAA,I,kBASEX,mBAAA,CAMgCY,SAAA,QAflCC,WAAA,CAU4BN,QAAA,CAAAO,MAAM,EAVlC,CAUWC,KAAK,EAAEC,KAAK;yBADrBhB,mBAAA,CAMgC;MAJ9BiB,GAAG,EAAED,KAAK;MACVE,EAAE,EAAEH,KAAK,CAACI,CAAC;MACXC,EAAE,EAAEL,KAAK,CAACM,CAAC;MACZC,CAAC,EAAC,GAAG;MACJZ,IAAI,EAAEH,QAAA,CAAAgB,aAAa,CAACP,KAAK;4BAf7BQ,UAAA;kCA0BStB,MAAA,CAAAuB,UAAU,IAAIC,IAAA,CAAAV,KAAK,GAAGd,MAAA,CAAAyB,aAAa,U,kBAT1C3B,mBAAA,CASoDY,SAAA;IA1BtDK,GAAA;EAAA,GAAAJ,WAAA,CAkB4BX,MAAA,CAAA0B,MAAM,EAlBlC,CAkBWC,KAAK,EAAEb,KAAK;yBADrBhB,mBAAA,CASoD;MAPlDiB,GAAG,aAAaD,KAAK;MACrBG,CAAC,EAAEH,KAAK,IAAId,MAAA,CAAAD,KAAK,IAAIC,MAAA,CAAA0B,MAAM,CAACE,MAAM;MAClCT,CAAC,EAAEnB,MAAA,CAAAC,MAAM;MACVF,KAAK,EAAC,IAAI;MACVE,MAAM,EAAC,IAAI;MACXO,IAAI,EAAC,SAAS;MACdqB,EAAE,EAAC;4BAzBNC,UAAA;mCAAAC,mBAAA,gBAmCS/B,MAAA,CAAAuB,UAAU,IAAIC,IAAA,CAAAV,KAAK,GAAGd,MAAA,CAAAyB,aAAa,U,kBAP1C3B,mBAAA,CASOY,SAAA;IArCTK,GAAA;EAAA,GAAAJ,WAAA,CA6B4BX,MAAA,CAAA0B,MAAM,EA7BlC,CA6BWC,KAAK,EAAEb,KAAK;yBADrBhB,mBAAA,CASO;MAPLiB,GAAG,YAAYD,KAAK;MACpBG,CAAC,EAAEH,KAAK,IAAId,MAAA,CAAAD,KAAK,IAAIC,MAAA,CAAA0B,MAAM,CAACE,MAAM;MAClCT,CAAC,EAAEnB,MAAA,CAAAC,MAAM;MACV,aAAW,EAAC,QAAQ;MACpB,WAAS,EAAC;wBAEP0B,KAAK,wBApCXK,UAAA;mCAAAD,mBAAA,e,iBAAAE,UAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}