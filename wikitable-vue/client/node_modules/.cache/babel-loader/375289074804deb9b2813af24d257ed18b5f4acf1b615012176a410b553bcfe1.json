{"ast":null,"code":"import { computed } from \"vue\";\nexport default {\n  __name: 'SimpleChart',\n  props: {\n    field: [Object, Array, String, Number],\n    type: String,\n    visualization: String\n  },\n  setup(__props, _ref) {\n    let {\n      expose: __expose\n    } = _ref;\n    __expose();\n    const props = __props;\n\n    // 安全转换为数字\n    const safeToNumber = value => {\n      if (value === null || value === undefined) return 0;\n      if (typeof value === \"number\") return value;\n      if (typeof value === \"string\") {\n        const numStr = value.toString().replace(/[^0-9.-]/g, \"\");\n        const num = parseFloat(numStr);\n        return isNaN(num) ? 0 : num;\n      }\n      return 0;\n    };\n\n    // 格式化简单文本\n    const formatSimpleText = value => {\n      if (!value) return \"-\";\n      if (Array.isArray(value)) {\n        const items = value.map(item => item.raw || item.value || item);\n        return items.length > 2 ? items.slice(0, 2).join(\"; \") + \"...\" : items.join(\"; \");\n      }\n      if (typeof value === \"object\") {\n        return value.raw || value.value || \"-\";\n      }\n      return value.toString().length > 50 ? value.toString().substring(0, 50) + \"...\" : value.toString();\n    };\n\n    // 获取主要值\n    const primaryValue = computed(() => {\n      if (!props.field) return \"-\";\n      if (Array.isArray(props.field)) {\n        const firstItem = props.field[0];\n        if (!firstItem) return \"-\";\n        const value = firstItem.value || firstItem.raw;\n        return value ? safeToNumber(value) : \"-\";\n      }\n      if (typeof props.field === \"object\") {\n        const value = props.field.value || props.field.raw;\n        return value ? safeToNumber(value) : \"-\";\n      }\n      return safeToNumber(props.field);\n    });\n\n    // 饼图数据\n    const pieData = computed(() => {\n      if (!props.field) return [];\n      if (Array.isArray(props.field)) {\n        return props.field.filter(item => {\n          const value = item?.value || item?.raw;\n          return value !== undefined && value !== null;\n        }).map((item, index) => {\n          let value = safeToNumber(item.value || item.raw);\n          value = Math.min(100, Math.max(0, value));\n          return {\n            value,\n            name: item.raw ? item.raw.replace(/:\\s*\\d+\\.?\\d*%?/g, \"\") : `项目${index + 1}`\n          };\n        });\n      }\n      if (typeof props.field === \"object\") {\n        let value = safeToNumber(props.field.value || props.field.raw);\n        value = Math.min(100, Math.max(0, value));\n        return [{\n          value,\n          name: props.field.raw ? props.field.raw.replace(/:\\s*\\d+\\.?\\d*%?/g, \"\") : \"项目\"\n        }];\n      }\n      return [];\n    });\n\n    // 饼图样式\n    const pieStyle = computed(() => {\n      if (pieData.value.length === 0) return {};\n      const value = pieData.value[0].value;\n      const deg = value / 100 * 360;\n      return {\n        background: `conic-gradient(#3498db 0% ${value}%, #f0f0f0 ${value}% 100%)`\n      };\n    });\n\n    // 柱状图数据\n    const simpleBarData = computed(() => {\n      if (!props.field) return [];\n      let values = [];\n      if (Array.isArray(props.field)) {\n        values = props.field.filter(item => {\n          const value = item?.value || item?.raw;\n          return value !== undefined && value !== null;\n        }).map(item => safeToNumber(item.value || item.raw));\n      } else if (typeof props.field === \"object\") {\n        values = [safeToNumber(props.field.value || props.field.raw)];\n      } else {\n        values = [safeToNumber(props.field)];\n      }\n      if (values.length === 0) return [];\n      const max = Math.max(...values, 1);\n      return values.map(v => ({\n        value: v,\n        height: v / max * 100\n      }));\n    });\n\n    // 折线图点\n    const linePoints = computed(() => {\n      if (!props.field) return \"\";\n      let points = [];\n      if (Array.isArray(props.field)) {\n        points = props.field.filter(item => {\n          const value = item?.value || item?.raw;\n          return value !== undefined && value !== null;\n        }).map((item, index, arr) => {\n          const value = safeToNumber(item.value || item.raw);\n          return {\n            x: index / (arr.length - 1) * 100,\n            y: 50 - value / 100 * 50\n          };\n        });\n      } else if (typeof props.field === \"object\") {\n        const value = safeToNumber(props.field.value || props.field.raw);\n        points = [{\n          x: 0,\n          y: 50 - value / 100 * 50\n        }, {\n          x: 100,\n          y: 50 - value / 100 * 50\n        }];\n      } else {\n        const value = safeToNumber(props.field);\n        points = [{\n          x: 0,\n          y: 50 - value / 100 * 50\n        }, {\n          x: 100,\n          y: 50 - value / 100 * 50\n        }];\n      }\n      return points.map(p => `${p.x},${p.y}`).join(\" \");\n    });\n    const hasData = computed(() => {\n      if (!props.field) return false;\n      if (Array.isArray(props.field)) return props.field.length > 0;\n      if (typeof props.field === \"object\") return Object.keys(props.field).length > 0;\n      return String(props.field).trim().length > 0;\n    });\n    const __returned__ = {\n      props,\n      safeToNumber,\n      formatSimpleText,\n      primaryValue,\n      pieData,\n      pieStyle,\n      simpleBarData,\n      linePoints,\n      hasData,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","props","__props","safeToNumber","value","undefined","numStr","toString","replace","num","parseFloat","isNaN","formatSimpleText","Array","isArray","items","map","item","raw","length","slice","join","substring","primaryValue","field","firstItem","pieData","filter","index","Math","min","max","name","pieStyle","deg","background","simpleBarData","values","v","height","linePoints","points","arr","x","y","p","hasData","Object","keys","String","trim"],"sources":["D:/vue_frame/vue_frame/wikitable-vue/client/src/components/compoents_base/SimpleChart.vue"],"sourcesContent":["<template>\r\n\t<div class=\"simple-chart\">\r\n\t\t<!-- 文本显示 -->\r\n\t\t<template v-if=\"visualization === 'text-only'\">\r\n\t\t\t<div class=\"simple-text\">\r\n\t\t\t\t{{ formatSimpleText(field) }}\r\n\t\t\t</div>\r\n\t\t</template>\r\n\r\n\t\t<!-- 简化饼图 -->\r\n\t\t<template v-else-if=\"visualization === 'pie-chart'\">\r\n\t\t\t<div v-if=\"hasData\" class=\"simple-pie-container\">\r\n\t\t\t\t<div class=\"simple-pie\" :style=\"pieStyle\"></div>\r\n\t\t\t\t<div class=\"pie-value\">{{ primaryValue }}%</div>\r\n\t\t\t</div>\r\n\t\t\t<div v-else class=\"no-data\">-</div>\r\n\t\t</template>\r\n\r\n\t\t<!-- 简化柱状图 -->\r\n\t\t<template v-else-if=\"visualization === 'bar-chart'\">\r\n\t\t\t<div v-if=\"hasData\" class=\"simple-bars-container\">\r\n\t\t\t\t<div class=\"simple-bars\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tv-for=\"(item, index) in simpleBarData\"\r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\tclass=\"simple-bar\"\r\n\t\t\t\t\t\t:style=\"{ height: item.height + '%' }\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"bar-value\">{{ primaryValue }}</div>\r\n\t\t\t</div>\r\n\t\t\t<div v-else class=\"no-data\">-</div>\r\n\t\t</template>\r\n\r\n\t\t<!-- 简化折线图 -->\r\n\t\t<template v-else-if=\"visualization === 'line-chart'\">\r\n\t\t\t<div v-if=\"hasData\" class=\"simple-line-container\">\r\n\t\t\t\t<svg viewBox=\"0 0 100 50\" class=\"line-svg\">\r\n\t\t\t\t\t<polyline\r\n\t\t\t\t\t\t:points=\"linePoints\"\r\n\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\tstroke=\"#3498db\"\r\n\t\t\t\t\t\tstroke-width=\"2\" />\r\n\t\t\t\t</svg>\r\n\t\t\t\t<div class=\"line-value\">{{ primaryValue }}%</div>\r\n\t\t\t</div>\r\n\t\t\t<div v-else class=\"no-data\">-</div>\r\n\t\t</template>\r\n\r\n\t\t<!-- 默认显示 -->\r\n\t\t<template v-else>\r\n\t\t\t<div class=\"simple-text\">\r\n\t\t\t\t{{ formatSimpleText(field) }}\r\n\t\t\t</div>\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport { computed } from \"vue\";\r\n\r\n\tconst props = defineProps({\r\n\t\tfield: [Object, Array, String, Number],\r\n\t\ttype: String,\r\n\t\tvisualization: String\r\n\t});\r\n\r\n\t// 安全转换为数字\r\n\tconst safeToNumber = value => {\r\n\t\tif (value === null || value === undefined) return 0;\r\n\t\tif (typeof value === \"number\") return value;\r\n\t\tif (typeof value === \"string\") {\r\n\t\t\tconst numStr = value.toString().replace(/[^0-9.-]/g, \"\");\r\n\t\t\tconst num = parseFloat(numStr);\r\n\t\t\treturn isNaN(num) ? 0 : num;\r\n\t\t}\r\n\t\treturn 0;\r\n\t};\r\n\r\n\t// 格式化简单文本\r\n\tconst formatSimpleText = value => {\r\n\t\tif (!value) return \"-\";\r\n\t\tif (Array.isArray(value)) {\r\n\t\t\tconst items = value.map(item => item.raw || item.value || item);\r\n\t\t\treturn items.length > 2\r\n\t\t\t\t? items.slice(0, 2).join(\"; \") + \"...\"\r\n\t\t\t\t: items.join(\"; \");\r\n\t\t}\r\n\t\tif (typeof value === \"object\") {\r\n\t\t\treturn value.raw || value.value || \"-\";\r\n\t\t}\r\n\t\treturn value.toString().length > 50\r\n\t\t\t? value.toString().substring(0, 50) + \"...\"\r\n\t\t\t: value.toString();\r\n\t};\r\n\r\n\t// 获取主要值\r\n\tconst primaryValue = computed(() => {\r\n\t\tif (!props.field) return \"-\";\r\n\r\n\t\tif (Array.isArray(props.field)) {\r\n\t\t\tconst firstItem = props.field[0];\r\n\t\t\tif (!firstItem) return \"-\";\r\n\t\t\tconst value = firstItem.value || firstItem.raw;\r\n\t\t\treturn value ? safeToNumber(value) : \"-\";\r\n\t\t}\r\n\r\n\t\tif (typeof props.field === \"object\") {\r\n\t\t\tconst value = props.field.value || props.field.raw;\r\n\t\t\treturn value ? safeToNumber(value) : \"-\";\r\n\t\t}\r\n\r\n\t\treturn safeToNumber(props.field);\r\n\t});\r\n\r\n\t// 饼图数据\r\n\tconst pieData = computed(() => {\r\n\t\tif (!props.field) return [];\r\n\r\n\t\tif (Array.isArray(props.field)) {\r\n\t\t\treturn props.field\r\n\t\t\t\t.filter(item => {\r\n\t\t\t\t\tconst value = item?.value || item?.raw;\r\n\t\t\t\t\treturn value !== undefined && value !== null;\r\n\t\t\t\t})\r\n\t\t\t\t.map((item, index) => {\r\n\t\t\t\t\tlet value = safeToNumber(item.value || item.raw);\r\n\t\t\t\t\tvalue = Math.min(100, Math.max(0, value));\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\tname: item.raw\r\n\t\t\t\t\t\t\t? item.raw.replace(/:\\s*\\d+\\.?\\d*%?/g, \"\")\r\n\t\t\t\t\t\t\t: `项目${index + 1}`\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (typeof props.field === \"object\") {\r\n\t\t\tlet value = safeToNumber(props.field.value || props.field.raw);\r\n\t\t\tvalue = Math.min(100, Math.max(0, value));\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue,\r\n\t\t\t\t\tname: props.field.raw\r\n\t\t\t\t\t\t? props.field.raw.replace(/:\\s*\\d+\\.?\\d*%?/g, \"\")\r\n\t\t\t\t\t\t: \"项目\"\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t}\r\n\r\n\t\treturn [];\r\n\t});\r\n\r\n\t// 饼图样式\r\n\tconst pieStyle = computed(() => {\r\n\t\tif (pieData.value.length === 0) return {};\r\n\r\n\t\tconst value = pieData.value[0].value;\r\n\t\tconst deg = (value / 100) * 360;\r\n\r\n\t\treturn {\r\n\t\t\tbackground: `conic-gradient(#3498db 0% ${value}%, #f0f0f0 ${value}% 100%)`\r\n\t\t};\r\n\t});\r\n\r\n\t// 柱状图数据\r\n\tconst simpleBarData = computed(() => {\r\n\t\tif (!props.field) return [];\r\n\r\n\t\tlet values = [];\r\n\r\n\t\tif (Array.isArray(props.field)) {\r\n\t\t\tvalues = props.field\r\n\t\t\t\t.filter(item => {\r\n\t\t\t\t\tconst value = item?.value || item?.raw;\r\n\t\t\t\t\treturn value !== undefined && value !== null;\r\n\t\t\t\t})\r\n\t\t\t\t.map(item => safeToNumber(item.value || item.raw));\r\n\t\t} else if (typeof props.field === \"object\") {\r\n\t\t\tvalues = [safeToNumber(props.field.value || props.field.raw)];\r\n\t\t} else {\r\n\t\t\tvalues = [safeToNumber(props.field)];\r\n\t\t}\r\n\r\n\t\tif (values.length === 0) return [];\r\n\r\n\t\tconst max = Math.max(...values, 1);\r\n\t\treturn values.map(v => ({\r\n\t\t\tvalue: v,\r\n\t\t\theight: (v / max) * 100\r\n\t\t}));\r\n\t});\r\n\r\n\t// 折线图点\r\n\tconst linePoints = computed(() => {\r\n\t\tif (!props.field) return \"\";\r\n\r\n\t\tlet points = [];\r\n\r\n\t\tif (Array.isArray(props.field)) {\r\n\t\t\tpoints = props.field\r\n\t\t\t\t.filter(item => {\r\n\t\t\t\t\tconst value = item?.value || item?.raw;\r\n\t\t\t\t\treturn value !== undefined && value !== null;\r\n\t\t\t\t})\r\n\t\t\t\t.map((item, index, arr) => {\r\n\t\t\t\t\tconst value = safeToNumber(item.value || item.raw);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tx: (index / (arr.length - 1)) * 100,\r\n\t\t\t\t\t\ty: 50 - (value / 100) * 50\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t} else if (typeof props.field === \"object\") {\r\n\t\t\tconst value = safeToNumber(props.field.value || props.field.raw);\r\n\t\t\tpoints = [\r\n\t\t\t\t{ x: 0, y: 50 - (value / 100) * 50 },\r\n\t\t\t\t{ x: 100, y: 50 - (value / 100) * 50 }\r\n\t\t\t];\r\n\t\t} else {\r\n\t\t\tconst value = safeToNumber(props.field);\r\n\t\t\tpoints = [\r\n\t\t\t\t{ x: 0, y: 50 - (value / 100) * 50 },\r\n\t\t\t\t{ x: 100, y: 50 - (value / 100) * 50 }\r\n\t\t\t];\r\n\t\t}\r\n\r\n\t\treturn points.map(p => `${p.x},${p.y}`).join(\" \");\r\n\t});\r\n\r\n\tconst hasData = computed(() => {\r\n\t\tif (!props.field) return false;\r\n\t\tif (Array.isArray(props.field)) return props.field.length > 0;\r\n\t\tif (typeof props.field === \"object\")\r\n\t\t\treturn Object.keys(props.field).length > 0;\r\n\t\treturn String(props.field).trim().length > 0;\r\n\t});\r\n</script>\r\n\r\n<style scoped>\r\n\t.simple-chart {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.simple-text {\r\n\t\ttext-align: center;\r\n\t\tfont-size: 14px;\r\n\t\tword-break: break-word;\r\n\t\tpadding: 5px;\r\n\t}\r\n\r\n\t.simple-pie-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tgap: 5px;\r\n\t}\r\n\r\n\t.simple-pie {\r\n\t\twidth: 50px;\r\n\t\theight: 50px;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t.pie-value {\r\n\t\tfont-size: 12px;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #3498db;\r\n\t}\r\n\r\n\t.simple-bars-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tgap: 5px;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.simple-bars {\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-end;\r\n\t\theight: 50px;\r\n\t\tgap: 4px;\r\n\t\twidth: 100%;\r\n\t\tpadding: 0 10px;\r\n\t}\r\n\r\n\t.simple-bar {\r\n\t\tflex: 1;\r\n\t\tbackground-color: #3498db;\r\n\t\tmin-width: 5px;\r\n\t\ttransition: height 0.3s;\r\n\t\tborder-radius: 2px 2px 0 0;\r\n\t}\r\n\r\n\t.bar-value {\r\n\t\tfont-size: 12px;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #3498db;\r\n\t}\r\n\r\n\t.simple-line-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tgap: 5px;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.line-svg {\r\n\t\twidth: 100%;\r\n\t\theight: 50px;\r\n\t}\r\n\r\n\t.line-value {\r\n\t\tfont-size: 12px;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #3498db;\r\n\t}\r\n\r\n\t.no-data {\r\n\t\tcolor: #999;\r\n\t\tfont-style: italic;\r\n\t}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}