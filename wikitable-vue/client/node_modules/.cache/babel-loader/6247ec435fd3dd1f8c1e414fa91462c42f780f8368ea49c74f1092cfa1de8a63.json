{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted, onUnmounted, watch, nextTick } from \"vue\";\nimport { marked } from \"marked\"; // 引入marked库来解析Markdown\nimport bus from \"@/js/eventBus.js\";\nimport CompareTable from \"@/components/compoents_base/CompareTable.vue\";\nexport default {\n  __name: 'Div2',\n  setup(__props, _ref) {\n    let {\n      expose: __expose\n    } = _ref;\n    __expose();\n    const userQuestion = ref(\"\");\n    const chatHistory = ref([]);\n    const isLoading = ref(false);\n    const div1RawData = ref(null);\n    const div3RawData = ref(null);\n    const div1InfoboxData = ref(null);\n    const div3InfoboxData = ref(null);\n\n    // 加载聊天历史记录\n    const loadChatHistory = () => {\n      const saved = localStorage.getItem(\"chatHistory\");\n      if (saved) {\n        try {\n          chatHistory.value = JSON.parse(saved);\n        } catch (e) {\n          console.error(\"加载聊天记录失败:\", e);\n        }\n      }\n    };\n\n    // 监听chatHistory变化，存储到localStorage\n    watch(chatHistory, newVal => {\n      localStorage.setItem(\"chatHistory\", JSON.stringify(newVal));\n    }, {\n      deep: true\n    });\n\n    // 自动滚动到底部\n    const scrollToBottom = () => {\n      nextTick(() => {\n        const container = document.querySelector(\".chat-history\");\n        if (container) {\n          container.scrollTop = container.scrollHeight;\n        }\n      });\n    };\n\n    // 处理div1和div3的选中事件\n    const handleDiv1Event = data => {\n      handleSelection(data, \"div1\");\n    };\n    const handleDiv3Event = data => {\n      handleSelection(data, \"div3\");\n    };\n\n    // 处理选择的内容\n    function handleSelection(data, source) {\n      const container = document.createElement(\"div\");\n      container.innerHTML = data.content;\n      const textContent = container.innerText || container.textContent || \"\";\n      if (source === \"div1\") {\n        div1RawData.value = data.content;\n      } else if (source === \"div3\") {\n        div3RawData.value = data.content;\n      }\n    }\n\n    // 渲染markdown内容\n    const renderedHtml = markdownText => {\n      if (!markdownText) return \"\";\n      return marked.parse(markdownText);\n    };\n\n    // 提问处理\n    const askQuestion = async () => {\n      if (!userQuestion.value.trim()) return;\n      isLoading.value = true;\n      chatHistory.value.push({\n        role: \"user\",\n        content: userQuestion.value\n      });\n      try {\n        const response = await fetch(\"/ask_question\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            question: userQuestion.value,\n            div1_raw_data: div1RawData.value,\n            div3_raw_data: div3RawData.value,\n            div1_infobox_data: div1InfoboxData.value,\n            div3_infobox_data: div3InfoboxData.value\n          })\n        });\n        const data = await response.json();\n        if (response.ok) {\n          chatHistory.value.push({\n            role: \"assistant\",\n            content: data.answer,\n            followupKey: data.followup_key // 支持追问功能\n          });\n        } else {\n          chatHistory.value.push({\n            role: \"assistant\",\n            content: `出错了: ${data.error}`,\n            error: true\n          });\n        }\n      } catch (error) {\n        chatHistory.value.push({\n          role: \"assistant\",\n          content: `请求失败: ${error.message}`,\n          error: true\n        });\n      } finally {\n        userQuestion.value = \"\";\n        isLoading.value = false;\n        scrollToBottom();\n      }\n    };\n\n    // 处理字段对比分析请求\n    const handleAttributeComparison = async attributeName => {\n      if (!attributeName) return;\n      isLoading.value = true;\n      chatHistory.value.push({\n        role: \"user\",\n        content: `请基于${attributeName}属性对比分析`\n      });\n      try {\n        const response = await fetch(\"/compare_attribute\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            attribute: attributeName,\n            div1_raw_data: div1RawData.value,\n            div3_raw_data: div3RawData.value,\n            div1_infobox_data: div1InfoboxData.value,\n            div3_infobox_data: div3InfoboxData.value\n          })\n        });\n        const data = await response.json();\n        if (response.ok) {\n          chatHistory.value.push({\n            role: \"assistant\",\n            content: data.answer,\n            followupKey: data.followup_key // 支持追问\n          });\n        } else {\n          chatHistory.value.push({\n            role: \"assistant\",\n            content: `出错了: ${data.error}`,\n            error: true\n          });\n        }\n      } catch (error) {\n        chatHistory.value.push({\n          role: \"assistant\",\n          content: `请求失败: ${error.message}`,\n          error: true\n        });\n      } finally {\n        isLoading.value = false;\n        scrollToBottom();\n      }\n    };\n\n    // 处理追问\n    const handleFollowupQuestion = async followupKey => {\n      if (!followupKey) return;\n      isLoading.value = true;\n      chatHistory.value.push({\n        role: \"user\",\n        content: `请根据Key=${followupKey}进行追问分析`\n      });\n      try {\n        const response = await fetch(\"/followup_question\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            followup_key: followupKey\n          })\n        });\n        const data = await response.json();\n        if (response.ok) {\n          chatHistory.value.push({\n            role: \"assistant\",\n            content: data.answer\n          });\n        } else {\n          chatHistory.value.push({\n            role: \"assistant\",\n            content: `出错了: ${data.error}`,\n            error: true\n          });\n        }\n      } catch (error) {\n        chatHistory.value.push({\n          role: \"assistant\",\n          content: `请求失败: ${error.message}`,\n          error: true\n        });\n      } finally {\n        isLoading.value = false;\n        scrollToBottom();\n      }\n    };\n    onMounted(() => {\n      loadChatHistory();\n      bus.on(\"div1_Event\", handleDiv1Event);\n      bus.on(\"div3_Event\", handleDiv3Event);\n      bus.on(\"div1_InfoboxData\", data => {\n        div1InfoboxData.value = data;\n      });\n      bus.on(\"div3_InfoboxData\", data => {\n        div3InfoboxData.value = data;\n      });\n    });\n    onUnmounted(() => {\n      bus.off(\"div1_Event\", handleDiv1Event);\n      bus.off(\"div3_Event\", handleDiv3Event);\n    });\n    const __returned__ = {\n      userQuestion,\n      chatHistory,\n      isLoading,\n      div1RawData,\n      div3RawData,\n      div1InfoboxData,\n      div3InfoboxData,\n      loadChatHistory,\n      scrollToBottom,\n      handleDiv1Event,\n      handleDiv3Event,\n      handleSelection,\n      renderedHtml,\n      askQuestion,\n      handleAttributeComparison,\n      handleFollowupQuestion,\n      ref,\n      onMounted,\n      onUnmounted,\n      watch,\n      nextTick,\n      get marked() {\n        return marked;\n      },\n      get bus() {\n        return bus;\n      },\n      CompareTable\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onUnmounted","watch","nextTick","marked","bus","CompareTable","userQuestion","chatHistory","isLoading","div1RawData","div3RawData","div1InfoboxData","div3InfoboxData","loadChatHistory","saved","localStorage","getItem","value","JSON","parse","e","console","error","newVal","setItem","stringify","deep","scrollToBottom","container","document","querySelector","scrollTop","scrollHeight","handleDiv1Event","data","handleSelection","handleDiv3Event","source","createElement","innerHTML","content","textContent","innerText","renderedHtml","markdownText","askQuestion","trim","push","role","response","fetch","method","headers","body","question","div1_raw_data","div3_raw_data","div1_infobox_data","div3_infobox_data","json","ok","answer","followupKey","followup_key","message","handleAttributeComparison","attributeName","attribute","handleFollowupQuestion","on","off"],"sources":["D:/vue_frame/vue_frame/wikitable-vue/client/src/components/Div2.vue"],"sourcesContent":["<template>\r\n\t<div class=\"main-container\">\r\n\t\t<div class=\"chat-container\">\r\n\t\t\t<div class=\"chat-history\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tv-for=\"(message, index) in chatHistory\"\r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t:class=\"['message', message.role, { error: message.error }]\">\r\n\t\t\t\t\t<!-- 渲染 markdown 解析后的 HTML -->\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\"message-content\"\r\n\t\t\t\t\t\tv-html=\"renderedHtml(message.content)\"></div>\r\n\r\n\t\t\t\t\t<!-- 如果有追问 followupKey，显示按钮 -->\r\n\t\t\t\t\t<div v-if=\"message.followupKey\" class=\"followup-section\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"followup-btn\"\r\n\t\t\t\t\t\t\t@click=\"handleFollowupQuestion(message.followupKey)\">\r\n\t\t\t\t\t\t\t结合其他属性深入分析原因\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- 加载中状态 -->\r\n\t\t\t\t<div v-if=\"isLoading\" class=\"loading-indicator\">\r\n\t\t\t\t\t<div class=\"loading-spinner\"></div>\r\n\t\t\t\t\t正在处理中...\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- 右侧的对比表格组件 -->\r\n\t\t<div class=\"vis-container\">\r\n\t\t\t<CompareTable\r\n\t\t\t\tclass=\"compare-table\"\r\n\t\t\t\t:div1-raw-data=\"div1RawData\"\r\n\t\t\t\t:div3-raw-data=\"div3RawData\"\r\n\t\t\t\t@compareAttribute=\"handleAttributeComparison\" />\r\n\t\t</div>\r\n\r\n\t\t<!-- 输入框部分 -->\r\n\t\t<div class=\"input\">\r\n\t\t\t<div class=\"input-container\">\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tv-model=\"userQuestion\"\r\n\t\t\t\t\trows=\"2\"\r\n\t\t\t\t\tplaceholder=\"请输入你想问的问题...\"\r\n\t\t\t\t\t:disabled=\"isLoading\"></textarea>\r\n\t\t\t\t<div class=\"button-container\">\r\n\t\t\t\t\t<button @click=\"askQuestion\" :disabled=\"isLoading\">\r\n\t\t\t\t\t\t{{ isLoading ? \"处理中...\" : \"发送\" }}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport { ref, onMounted, onUnmounted, watch, nextTick } from \"vue\";\r\n\timport { marked } from \"marked\"; // 引入marked库来解析Markdown\r\n\timport bus from \"@/js/eventBus.js\";\r\n\timport CompareTable from \"@/components/compoents_base/CompareTable.vue\";\r\n\r\n\tconst userQuestion = ref(\"\");\r\n\tconst chatHistory = ref([]);\r\n\tconst isLoading = ref(false);\r\n\tconst div1RawData = ref(null);\r\n\tconst div3RawData = ref(null);\r\n\tconst div1InfoboxData = ref(null);\r\n\tconst div3InfoboxData = ref(null);\r\n\r\n\t// 加载聊天历史记录\r\n\tconst loadChatHistory = () => {\r\n\t\tconst saved = localStorage.getItem(\"chatHistory\");\r\n\t\tif (saved) {\r\n\t\t\ttry {\r\n\t\t\t\tchatHistory.value = JSON.parse(saved);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(\"加载聊天记录失败:\", e);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// 监听chatHistory变化，存储到localStorage\r\n\twatch(\r\n\t\tchatHistory,\r\n\t\tnewVal => {\r\n\t\t\tlocalStorage.setItem(\"chatHistory\", JSON.stringify(newVal));\r\n\t\t},\r\n\t\t{ deep: true }\r\n\t);\r\n\r\n\t// 自动滚动到底部\r\n\tconst scrollToBottom = () => {\r\n\t\tnextTick(() => {\r\n\t\t\tconst container = document.querySelector(\".chat-history\");\r\n\t\t\tif (container) {\r\n\t\t\t\tcontainer.scrollTop = container.scrollHeight;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t// 处理div1和div3的选中事件\r\n\tconst handleDiv1Event = data => {\r\n\t\thandleSelection(data, \"div1\");\r\n\t};\r\n\r\n\tconst handleDiv3Event = data => {\r\n\t\thandleSelection(data, \"div3\");\r\n\t};\r\n\r\n\t// 处理选择的内容\r\n\tfunction handleSelection(data, source) {\r\n\t\tconst container = document.createElement(\"div\");\r\n\t\tcontainer.innerHTML = data.content;\r\n\t\tconst textContent = container.innerText || container.textContent || \"\";\r\n\r\n\t\tif (source === \"div1\") {\r\n\t\t\tdiv1RawData.value = data.content;\r\n\t\t} else if (source === \"div3\") {\r\n\t\t\tdiv3RawData.value = data.content;\r\n\t\t}\r\n\t}\r\n\r\n\t// 渲染markdown内容\r\n\tconst renderedHtml = markdownText => {\r\n\t\tif (!markdownText) return \"\";\r\n\t\treturn marked.parse(markdownText);\r\n\t};\r\n\r\n\t// 提问处理\r\n\tconst askQuestion = async () => {\r\n\t\tif (!userQuestion.value.trim()) return;\r\n\t\tisLoading.value = true;\r\n\r\n\t\tchatHistory.value.push({ role: \"user\", content: userQuestion.value });\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(\"/ask_question\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tquestion: userQuestion.value,\r\n\t\t\t\t\tdiv1_raw_data: div1RawData.value,\r\n\t\t\t\t\tdiv3_raw_data: div3RawData.value,\r\n\t\t\t\t\tdiv1_infobox_data: div1InfoboxData.value,\r\n\t\t\t\t\tdiv3_infobox_data: div3InfoboxData.value\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tif (response.ok) {\r\n\t\t\t\tchatHistory.value.push({\r\n\t\t\t\t\trole: \"assistant\",\r\n\t\t\t\t\tcontent: data.answer,\r\n\t\t\t\t\tfollowupKey: data.followup_key // 支持追问功能\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tchatHistory.value.push({\r\n\t\t\t\t\trole: \"assistant\",\r\n\t\t\t\t\tcontent: `出错了: ${data.error}`,\r\n\t\t\t\t\terror: true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tchatHistory.value.push({\r\n\t\t\t\trole: \"assistant\",\r\n\t\t\t\tcontent: `请求失败: ${error.message}`,\r\n\t\t\t\terror: true\r\n\t\t\t});\r\n\t\t} finally {\r\n\t\t\tuserQuestion.value = \"\";\r\n\t\t\tisLoading.value = false;\r\n\t\t\tscrollToBottom();\r\n\t\t}\r\n\t};\r\n\r\n\t// 处理字段对比分析请求\r\n\tconst handleAttributeComparison = async attributeName => {\r\n\t\tif (!attributeName) return;\r\n\t\tisLoading.value = true;\r\n\r\n\t\tchatHistory.value.push({\r\n\t\t\trole: \"user\",\r\n\t\t\tcontent: `请基于${attributeName}属性对比分析`\r\n\t\t});\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(\"/compare_attribute\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tattribute: attributeName,\r\n\t\t\t\t\tdiv1_raw_data: div1RawData.value,\r\n\t\t\t\t\tdiv3_raw_data: div3RawData.value,\r\n\t\t\t\t\tdiv1_infobox_data: div1InfoboxData.value,\r\n\t\t\t\t\tdiv3_infobox_data: div3InfoboxData.value\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tif (response.ok) {\r\n\t\t\t\tchatHistory.value.push({\r\n\t\t\t\t\trole: \"assistant\",\r\n\t\t\t\t\tcontent: data.answer,\r\n\t\t\t\t\tfollowupKey: data.followup_key // 支持追问\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tchatHistory.value.push({\r\n\t\t\t\t\trole: \"assistant\",\r\n\t\t\t\t\tcontent: `出错了: ${data.error}`,\r\n\t\t\t\t\terror: true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tchatHistory.value.push({\r\n\t\t\t\trole: \"assistant\",\r\n\t\t\t\tcontent: `请求失败: ${error.message}`,\r\n\t\t\t\terror: true\r\n\t\t\t});\r\n\t\t} finally {\r\n\t\t\tisLoading.value = false;\r\n\t\t\tscrollToBottom();\r\n\t\t}\r\n\t};\r\n\r\n\t// 处理追问\r\n\tconst handleFollowupQuestion = async followupKey => {\r\n\t\tif (!followupKey) return;\r\n\t\tisLoading.value = true;\r\n\r\n\t\tchatHistory.value.push({\r\n\t\t\trole: \"user\",\r\n\t\t\tcontent: `请根据Key=${followupKey}进行追问分析`\r\n\t\t});\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(\"/followup_question\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\t\tbody: JSON.stringify({ followup_key: followupKey })\r\n\t\t\t});\r\n\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tif (response.ok) {\r\n\t\t\t\tchatHistory.value.push({\r\n\t\t\t\t\trole: \"assistant\",\r\n\t\t\t\t\tcontent: data.answer\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tchatHistory.value.push({\r\n\t\t\t\t\trole: \"assistant\",\r\n\t\t\t\t\tcontent: `出错了: ${data.error}`,\r\n\t\t\t\t\terror: true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tchatHistory.value.push({\r\n\t\t\t\trole: \"assistant\",\r\n\t\t\t\tcontent: `请求失败: ${error.message}`,\r\n\t\t\t\terror: true\r\n\t\t\t});\r\n\t\t} finally {\r\n\t\t\tisLoading.value = false;\r\n\t\t\tscrollToBottom();\r\n\t\t}\r\n\t};\r\n\r\n\tonMounted(() => {\r\n\t\tloadChatHistory();\r\n\t\tbus.on(\"div1_Event\", handleDiv1Event);\r\n\t\tbus.on(\"div3_Event\", handleDiv3Event);\r\n\t\tbus.on(\"div1_InfoboxData\", data => {\r\n\t\t\tdiv1InfoboxData.value = data;\r\n\t\t});\r\n\t\tbus.on(\"div3_InfoboxData\", data => {\r\n\t\t\tdiv3InfoboxData.value = data;\r\n\t\t});\r\n\t});\r\n\r\n\tonUnmounted(() => {\r\n\t\tbus.off(\"div1_Event\", handleDiv1Event);\r\n\t\tbus.off(\"div3_Event\", handleDiv3Event);\r\n\t});\r\n</script>\r\n\r\n<style scoped>\r\n\t.main-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\theight: 100vh;\r\n\t\tpadding: 5px;\r\n\t\tbackground: #f5f5f5;\r\n\t}\r\n\r\n\t.chat-container {\r\n\t\tflex: 0 0 25%;\r\n\t\tbackground: #fff;\r\n\t\tpadding: 20px;\r\n\t\tborder-radius: 12px;\r\n\t\tbox-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n\t\tmargin-bottom: 10px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.chat-history {\r\n\t\tflex: 1;\r\n\t\toverflow-y: auto;\r\n\t\tpadding: 10px;\r\n\t\tbackground: #fafafa;\r\n\t\tborder: 1px solid #e0e0e0;\r\n\t\tborder-radius: 8px;\r\n\t\tscroll-behavior: smooth;\r\n\t}\r\n\r\n\t.loading-indicator {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tgap: 8px;\r\n\t\tpadding: 10px;\r\n\t\tbackground: rgba(255, 255, 255, 0.8);\r\n\t\tposition: sticky;\r\n\t\tbottom: 0;\r\n\t}\r\n\r\n\t.loading-spinner {\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t\tborder: 2px solid #f3f3f3;\r\n\t\tborder-top: 2px solid #4caf50;\r\n\t\tborder-radius: 50%;\r\n\t\tanimation: spin 1s linear infinite;\r\n\t}\r\n\r\n\t@keyframes spin {\r\n\t\tto {\r\n\t\t\ttransform: rotate(360deg);\r\n\t\t}\r\n\t}\r\n\r\n\t/* 渲染的内容美化 */\r\n\t.message-content h3 {\r\n\t\tmargin: 0.5em 0;\r\n\t\tfont-size: 1.1em;\r\n\t}\r\n\r\n\t.message-content p {\r\n\t\tmargin: 0.75em 0;\r\n\t\tline-height: 1.6;\r\n\t}\r\n\r\n\t.message-content ul {\r\n\t\tmargin: 0.5em 0 0.5em 1.2em;\r\n\t}\r\n\r\n\t.message-content li {\r\n\t\tmargin-bottom: 0.3em;\r\n\t}\r\n\r\n\t/* 追问按钮样式 */\r\n\t.followup-section {\r\n\t\tmargin-top: 15px;\r\n\t\tborder-top: 1px dashed #ddd;\r\n\t\tpadding-top: 10px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.followup-btn {\r\n\t\tbackground: none;\r\n\t\tborder: 1px solid #2196f3;\r\n\t\tcolor: #2196f3;\r\n\t\tpadding: 5px 10px;\r\n\t\tborder-radius: 4px;\r\n\t\tcursor: pointer;\r\n\t\ttransition: all 0.3s;\r\n\t\tfont-size: 13px;\r\n\t}\r\n\r\n\t.followup-btn:hover {\r\n\t\tbackground: #e3f2fd;\r\n\t\ttransform: translateY(-1px);\r\n\t}\r\n\r\n\t/* 输入区 */\r\n\t.input {\r\n\t\tflex: 0 0 auto;\r\n\t}\r\n\r\n\t.input-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 10px;\r\n\t}\r\n\r\n\ttextarea {\r\n\t\twidth: 100%;\r\n\t\tresize: none;\r\n\t\tpadding: 12px;\r\n\t\tfont-size: 14px;\r\n\t\tborder: 1px solid #ddd;\r\n\t\tborder-radius: 8px;\r\n\t\tbackground: #fafafa;\r\n\t\ttransition: border-color 0.3s;\r\n\t}\r\n\r\n\ttextarea:focus {\r\n\t\toutline: none;\r\n\t\tborder-color: #4caf50;\r\n\t}\r\n\r\n\ttextarea:disabled {\r\n\t\tbackground: #eee;\r\n\t\tcursor: not-allowed;\r\n\t}\r\n\r\n\t.button-container {\r\n\t\tdisplay: flex;\r\n\t\tgap: 10px;\r\n\t}\r\n\r\n\tbutton {\r\n\t\tflex: 1;\r\n\t\tpadding: 10px;\r\n\t\tbackground: #4caf50;\r\n\t\tcolor: #fff;\r\n\t\tborder: none;\r\n\t\tborder-radius: 8px;\r\n\t\tcursor: pointer;\r\n\t\tfont-size: 14px;\r\n\t\ttransition: all 0.3s;\r\n\t}\r\n\r\n\tbutton:hover:not(:disabled) {\r\n\t\tbackground: #45a049;\r\n\t\ttransform: translateY(-1px);\r\n\t}\r\n\r\n\tbutton:disabled {\r\n\t\tbackground: #ccc;\r\n\t\tcursor: not-allowed;\r\n\t\ttransform: none;\r\n\t}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}