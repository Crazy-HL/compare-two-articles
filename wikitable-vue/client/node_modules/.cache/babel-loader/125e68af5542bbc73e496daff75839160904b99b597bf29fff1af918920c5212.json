{"ast":null,"code":"import { ref, onMounted, watch } from \"vue\";\nimport * as echarts from \"echarts\";\nexport default {\n  props: {\n    data: {\n      type: Object,\n      required: true\n    },\n    options: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  setup(props) {\n    const chartContainer = ref(null);\n    let chartInstance = null;\n    const initChart = () => {\n      if (!chartContainer.value) return;\n      chartInstance = echarts.init(chartContainer.value);\n      updateChart();\n    };\n    const updateChart = () => {\n      if (!chartInstance) return;\n      const baseOptions = {\n        tooltip: {\n          trigger: \"axis\"\n        },\n        xAxis: {\n          type: \"category\",\n          data: props.data.xAxis || []\n        },\n        yAxis: {\n          type: \"value\"\n        },\n        series: [{\n          data: props.data.series || [],\n          type: \"line\",\n          smooth: true,\n          areaStyle: {\n            opacity: 0.3\n          }\n        }],\n        grid: {\n          containLabel: true,\n          left: \"3%\",\n          right: \"3%\",\n          bottom: \"3%\"\n        }\n      };\n      chartInstance.setOption({\n        ...baseOptions,\n        ...props.options\n      });\n      chartInstance.resize();\n    };\n    onMounted(() => {\n      initChart();\n      window.addEventListener(\"resize\", () => {\n        if (chartInstance) chartInstance.resize();\n      });\n    });\n    watch(() => props.data, updateChart, {\n      deep: true\n    });\n    return {\n      chartContainer\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","watch","echarts","props","data","type","Object","required","options","default","setup","chartContainer","chartInstance","initChart","value","init","updateChart","baseOptions","tooltip","trigger","xAxis","yAxis","series","smooth","areaStyle","opacity","grid","containLabel","left","right","bottom","setOption","resize","window","addEventListener","deep"],"sources":["D:\\vue_frame\\vue_frame\\wikitable-vue\\client\\src\\components\\compoents_base\\LineChart.vue"],"sourcesContent":["<template>\r\n\t<div class=\"line-chart-container\" ref=\"chartContainer\"></div>\r\n</template>\r\n\r\n<script>\r\n\timport { ref, onMounted, watch } from \"vue\";\r\n\timport * as echarts from \"echarts\";\r\n\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tdata: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\trequired: true\r\n\t\t\t},\r\n\t\t\toptions: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => ({})\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsetup(props) {\r\n\t\t\tconst chartContainer = ref(null);\r\n\t\t\tlet chartInstance = null;\r\n\r\n\t\t\tconst initChart = () => {\r\n\t\t\t\tif (!chartContainer.value) return;\r\n\r\n\t\t\t\tchartInstance = echarts.init(chartContainer.value);\r\n\t\t\t\tupdateChart();\r\n\t\t\t};\r\n\r\n\t\t\tconst updateChart = () => {\r\n\t\t\t\tif (!chartInstance) return;\r\n\r\n\t\t\t\tconst baseOptions = {\r\n\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\ttrigger: \"axis\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\txAxis: {\r\n\t\t\t\t\t\ttype: \"category\",\r\n\t\t\t\t\t\tdata: props.data.xAxis || []\r\n\t\t\t\t\t},\r\n\t\t\t\t\tyAxis: {\r\n\t\t\t\t\t\ttype: \"value\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tseries: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdata: props.data.series || [],\r\n\t\t\t\t\t\t\ttype: \"line\",\r\n\t\t\t\t\t\t\tsmooth: true,\r\n\t\t\t\t\t\t\tareaStyle: {\r\n\t\t\t\t\t\t\t\topacity: 0.3\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tgrid: {\r\n\t\t\t\t\t\tcontainLabel: true,\r\n\t\t\t\t\t\tleft: \"3%\",\r\n\t\t\t\t\t\tright: \"3%\",\r\n\t\t\t\t\t\tbottom: \"3%\"\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tchartInstance.setOption({ ...baseOptions, ...props.options });\r\n\t\t\t\tchartInstance.resize();\r\n\t\t\t};\r\n\r\n\t\t\tonMounted(() => {\r\n\t\t\t\tinitChart();\r\n\t\t\t\twindow.addEventListener(\"resize\", () => {\r\n\t\t\t\t\tif (chartInstance) chartInstance.resize();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\twatch(() => props.data, updateChart, { deep: true });\r\n\r\n\t\t\treturn { chartContainer };\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.line-chart-container {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tmin-height: 200px;\r\n\t}\r\n</style>\r\n"],"mappings":"AAKC,SAASA,GAAG,EAAEC,SAAS,EAAEC,KAAI,QAAS,KAAK;AAC3C,OAAO,KAAKC,OAAM,MAAO,SAAS;AAElC,eAAe;EACdC,KAAK,EAAE;IACNC,IAAI,EAAE;MACLC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACX,CAAC;IACDC,OAAO,EAAE;MACRH,IAAI,EAAEC,MAAM;MACZG,OAAO,EAAEA,CAAA,MAAO,CAAC,CAAC;IACnB;EACD,CAAC;EAEDC,KAAKA,CAACP,KAAK,EAAE;IACZ,MAAMQ,cAAa,GAAIZ,GAAG,CAAC,IAAI,CAAC;IAChC,IAAIa,aAAY,GAAI,IAAI;IAExB,MAAMC,SAAQ,GAAIA,CAAA,KAAM;MACvB,IAAI,CAACF,cAAc,CAACG,KAAK,EAAE;MAE3BF,aAAY,GAAIV,OAAO,CAACa,IAAI,CAACJ,cAAc,CAACG,KAAK,CAAC;MAClDE,WAAW,CAAC,CAAC;IACd,CAAC;IAED,MAAMA,WAAU,GAAIA,CAAA,KAAM;MACzB,IAAI,CAACJ,aAAa,EAAE;MAEpB,MAAMK,WAAU,GAAI;QACnBC,OAAO,EAAE;UACRC,OAAO,EAAE;QACV,CAAC;QACDC,KAAK,EAAE;UACNf,IAAI,EAAE,UAAU;UAChBD,IAAI,EAAED,KAAK,CAACC,IAAI,CAACgB,KAAI,IAAK;QAC3B,CAAC;QACDC,KAAK,EAAE;UACNhB,IAAI,EAAE;QACP,CAAC;QACDiB,MAAM,EAAE,CACP;UACClB,IAAI,EAAED,KAAK,CAACC,IAAI,CAACkB,MAAK,IAAK,EAAE;UAC7BjB,IAAI,EAAE,MAAM;UACZkB,MAAM,EAAE,IAAI;UACZC,SAAS,EAAE;YACVC,OAAO,EAAE;UACV;QACD,EACA;QACDC,IAAI,EAAE;UACLC,YAAY,EAAE,IAAI;UAClBC,IAAI,EAAE,IAAI;UACVC,KAAK,EAAE,IAAI;UACXC,MAAM,EAAE;QACT;MACD,CAAC;MAEDlB,aAAa,CAACmB,SAAS,CAAC;QAAE,GAAGd,WAAW;QAAE,GAAGd,KAAK,CAACK;MAAQ,CAAC,CAAC;MAC7DI,aAAa,CAACoB,MAAM,CAAC,CAAC;IACvB,CAAC;IAEDhC,SAAS,CAAC,MAAM;MACfa,SAAS,CAAC,CAAC;MACXoB,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,MAAM;QACvC,IAAItB,aAAa,EAAEA,aAAa,CAACoB,MAAM,CAAC,CAAC;MAC1C,CAAC,CAAC;IACH,CAAC,CAAC;IAEF/B,KAAK,CAAC,MAAME,KAAK,CAACC,IAAI,EAAEY,WAAW,EAAE;MAAEmB,IAAI,EAAE;IAAK,CAAC,CAAC;IAEpD,OAAO;MAAExB;IAAe,CAAC;EAC1B;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}