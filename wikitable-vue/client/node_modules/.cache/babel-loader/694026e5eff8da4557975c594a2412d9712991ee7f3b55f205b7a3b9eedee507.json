{"ast":null,"code":"import \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport { ref, computed, watch, onMounted, onBeforeUnmount } from \"vue\";\nimport SparklineChart from \"./SparklineChart.vue\";\nimport FullChart from \"./FullChart.vue\";\nimport InfoboxField from \"./InfoboxField.vue\";\nimport { debounce } from \"lodash-es\";\nexport default {\n  __name: 'CompareTable',\n  props: {\n    div1RawData: String,\n    div3RawData: String,\n    div1InfoboxData: Object,\n    div3InfoboxData: Object\n  },\n  setup(__props, _ref) {\n    let {\n      expose: __expose\n    } = _ref;\n    __expose();\n    const props = __props;\n    const viewMode = ref(\"chart\");\n    const containerRef = ref(null);\n    const chartMaxWidth = ref(250);\n    const chartMaxHeight = ref(80);\n    const leftChartColor = ref(\"#4a90e2\");\n    const rightChartColor = ref(\"#ef4444\");\n    const processedTable1 = ref({\n      title: \"表格1\",\n      rows: [],\n      columns: [],\n      timeSeriesData: {}\n    });\n    const processedTable2 = ref({\n      title: \"表格2\",\n      rows: [],\n      columns: [],\n      timeSeriesData: {}\n    });\n    const leftInfobox = ref({\n      title: \"\",\n      data: {},\n      type: \"\"\n    });\n    const rightInfobox = ref({\n      title: \"\",\n      data: {},\n      type: \"\"\n    });\n    const showFullChartModal = ref(false);\n    const currentAttribute = ref(\"\");\n    const currentChartData = ref({\n      type: \"line\",\n      data: []\n    });\n    const currentSide = ref(\"left\");\n\n    // 新增方法：获取数据类型\n    const getDataType = fieldData => {\n      if (!fieldData) return \"\";\n      return fieldData.dataType || (fieldData.links?.length ? \"link\" : fieldData.image ? \"image\" : \"text\");\n    };\n    const updateChartSize = debounce(() => {\n      if (containerRef.value) {\n        const containerWidth = containerRef.value.clientWidth;\n        chartMaxWidth.value = Math.min(250, containerWidth * 0.3);\n        chartMaxHeight.value = 80;\n      }\n    }, 100);\n    onMounted(() => {\n      updateChartSize();\n      window.addEventListener(\"resize\", updateChartSize);\n    });\n    onBeforeUnmount(() => {\n      window.removeEventListener(\"resize\", updateChartSize);\n    });\n    const showFullChart = (attr, side) => {\n      currentAttribute.value = attr;\n      currentSide.value = side;\n      currentChartData.value = {\n        type: \"line\",\n        data: side === \"left\" ? processedTable1.value.timeSeriesData[attr] || [] : processedTable2.value.timeSeriesData[attr] || []\n      };\n      showFullChartModal.value = true;\n    };\n    const hideFullChart = () => {\n      showFullChartModal.value = false;\n    };\n    const hasData = computed(() => {\n      return props.div1RawData && props.div3RawData && processedTable1.value.columns.length > 0 && processedTable2.value.columns.length > 0;\n    });\n    const hasInfoboxData = computed(() => {\n      return (leftInfobox.value.data && Object.keys(leftInfobox.value.data)).length > 0 || (rightInfobox.value.data && Object.keys(rightInfobox.value.data)).length > 0;\n    });\n    const commonAttributes = computed(() => {\n      const attrs1 = processedTable1.value.rows || [];\n      const attrs2 = processedTable2.value.rows || [];\n      return attrs1.filter(attr => attrs2.includes(attr) && (hasDataForAttribute(processedTable1.value, attr) || hasDataForAttribute(processedTable2.value, attr)));\n    });\n    const commonInfoboxFields = computed(() => {\n      const fields1 = Object.keys(leftInfobox.value.data || {});\n      const fields2 = Object.keys(rightInfobox.value.data || {});\n      return [...new Set([...fields1, ...fields2])].sort();\n    });\n    function hasDataForAttribute(table, attr) {\n      return table.timeSeriesData[attr]?.length > 0;\n    }\n    function parseTableToStandardJSON(html) {\n      let defaultTitle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"未命名表格\";\n    } // ...原有表格解析逻辑保持不变...\n    watch(() => props.div1RawData, html => {\n      if (html) {\n        processedTable1.value = parseTableToStandardJSON(html, \"表格1\");\n        console.log(\"Processed table 1:\", processedTable1.value);\n      }\n    }, {\n      immediate: true\n    });\n    watch(() => props.div3RawData, html => {\n      if (html) {\n        processedTable2.value = parseTableToStandardJSON(html, \"表格2\");\n        console.log(\"Processed table 2:\", processedTable2.value);\n      }\n    }, {\n      immediate: true\n    });\n    watch(() => props.div1InfoboxData, data => {\n      if (data) {\n        leftInfobox.value = {\n          title: data.title || \"信息框1\",\n          type: data.type || \"通用\",\n          data: data.data || {}\n        };\n        console.log(\"Left infobox data:\", leftInfobox.value);\n      } else {\n        leftInfobox.value = {\n          title: \"\",\n          data: {},\n          type: \"\"\n        };\n      }\n    }, {\n      deep: true\n    });\n    watch(() => props.div3InfoboxData, data => {\n      if (data) {\n        rightInfobox.value = {\n          title: data.title || \"信息框2\",\n          type: data.type || \"通用\",\n          data: data.data || {}\n        };\n        console.log(\"Right infobox data:\", rightInfobox.value);\n      } else {\n        rightInfobox.value = {\n          title: \"\",\n          data: {},\n          type: \"\"\n        };\n      }\n    }, {\n      deep: true\n    });\n    const __returned__ = {\n      props,\n      viewMode,\n      containerRef,\n      chartMaxWidth,\n      chartMaxHeight,\n      leftChartColor,\n      rightChartColor,\n      processedTable1,\n      processedTable2,\n      leftInfobox,\n      rightInfobox,\n      showFullChartModal,\n      currentAttribute,\n      currentChartData,\n      currentSide,\n      getDataType,\n      updateChartSize,\n      showFullChart,\n      hideFullChart,\n      hasData,\n      hasInfoboxData,\n      commonAttributes,\n      commonInfoboxFields,\n      hasDataForAttribute,\n      parseTableToStandardJSON,\n      ref,\n      computed,\n      watch,\n      onMounted,\n      onBeforeUnmount,\n      SparklineChart,\n      FullChart,\n      InfoboxField,\n      get debounce() {\n        return debounce;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","watch","onMounted","onBeforeUnmount","SparklineChart","FullChart","InfoboxField","debounce","props","__props","viewMode","containerRef","chartMaxWidth","chartMaxHeight","leftChartColor","rightChartColor","processedTable1","title","rows","columns","timeSeriesData","processedTable2","leftInfobox","data","type","rightInfobox","showFullChartModal","currentAttribute","currentChartData","currentSide","getDataType","fieldData","dataType","links","length","image","updateChartSize","value","containerWidth","clientWidth","Math","min","window","addEventListener","removeEventListener","showFullChart","attr","side","hideFullChart","hasData","div1RawData","div3RawData","hasInfoboxData","Object","keys","commonAttributes","attrs1","attrs2","filter","includes","hasDataForAttribute","commonInfoboxFields","fields1","fields2","Set","sort","table","parseTableToStandardJSON","html","defaultTitle","arguments","undefined","console","log","immediate","div1InfoboxData","deep","div3InfoboxData"],"sources":["D:/vue_frame/vue_frame/wikitable-vue/client/src/components/compoents_base/CompareTable.vue"],"sourcesContent":["<template>\r\n\t<div class=\"compare-container\" ref=\"containerRef\">\r\n\t\t<div class=\"mode-toggle\">\r\n\t\t\t<button\r\n\t\t\t\t:class=\"{ active: viewMode === 'chart' }\"\r\n\t\t\t\t@click=\"viewMode = 'chart'\">\r\n\t\t\t\t图表对比模式\r\n\t\t\t</button>\r\n\t\t\t<button\r\n\t\t\t\t:class=\"{ active: viewMode === 'infobox' }\"\r\n\t\t\t\t@click=\"viewMode = 'infobox'\"\r\n\t\t\t\t:disabled=\"!hasInfoboxData\">\r\n\t\t\t\t信息框对比模式\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t\t<div v-if=\"viewMode === 'chart'\" class=\"table-grid\">\r\n\t\t\t<!-- 原有图表对比内容 -->\r\n\t\t\t<div class=\"header left-column\">\r\n\t\t\t\t{{ processedTable1.title || \"表格1\" }}\r\n\t\t\t</div>\r\n\t\t\t<div class=\"header middle-column\">对比属性</div>\r\n\t\t\t<div class=\"header right-column\">\r\n\t\t\t\t{{ processedTable2.title || \"表格2\" }}\r\n\t\t\t</div>\r\n\r\n\t\t\t<template v-if=\"hasData\">\r\n\t\t\t\t<template v-for=\"attr in commonAttributes\" :key=\"attr\">\r\n\t\t\t\t\t<div class=\"cell left-column\" @click=\"showFullChart(attr, 'left')\">\r\n\t\t\t\t\t\t<template v-if=\"hasDataForAttribute(processedTable1, attr)\">\r\n\t\t\t\t\t\t\t<div class=\"chart-wrapper\">\r\n\t\t\t\t\t\t\t\t<SparklineChart\r\n\t\t\t\t\t\t\t\t\t:data=\"processedTable1.timeSeriesData[attr]\"\r\n\t\t\t\t\t\t\t\t\t:compare-data=\"processedTable2.timeSeriesData[attr]\"\r\n\t\t\t\t\t\t\t\t\t:max-width=\"chartMaxWidth\"\r\n\t\t\t\t\t\t\t\t\t:max-height=\"chartMaxHeight\"\r\n\t\t\t\t\t\t\t\t\t:show-year-markers=\"true\"\r\n\t\t\t\t\t\t\t\t\t:line-color=\"leftChartColor\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<div v-else class=\"no-data\">无数据</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"cell middle-column\">\r\n\t\t\t\t\t\t<div class=\"attribute-name\">{{ attr }}</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"cell right-column\" @click=\"showFullChart(attr, 'right')\">\r\n\t\t\t\t\t\t<template v-if=\"hasDataForAttribute(processedTable2, attr)\">\r\n\t\t\t\t\t\t\t<div class=\"chart-wrapper\">\r\n\t\t\t\t\t\t\t\t<SparklineChart\r\n\t\t\t\t\t\t\t\t\t:data=\"processedTable2.timeSeriesData[attr]\"\r\n\t\t\t\t\t\t\t\t\t:compare-data=\"processedTable1.timeSeriesData[attr]\"\r\n\t\t\t\t\t\t\t\t\t:max-width=\"chartMaxWidth\"\r\n\t\t\t\t\t\t\t\t\t:max-height=\"chartMaxHeight\"\r\n\t\t\t\t\t\t\t\t\t:show-year-markers=\"true\"\r\n\t\t\t\t\t\t\t\t\t:line-color=\"rightChartColor\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<div v-else class=\"no-data\">无数据</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\t\t\t</template>\r\n\t\t</div>\r\n\r\n\t\t<div v-else class=\"infobox-grid\">\r\n\t\t\t<div class=\"header left-column\">\r\n\t\t\t\t{{ leftInfobox.title || \"信息框1\" }}\r\n\t\t\t</div>\r\n\t\t\t<div class=\"header middle-column\">属性</div>\r\n\t\t\t<div class=\"header right-column\">\r\n\t\t\t\t{{ rightInfobox.title || \"信息框2\" }}\r\n\t\t\t</div>\r\n\r\n\t\t\t<template v-if=\"hasInfoboxData\">\r\n\t\t\t\t<template v-for=\"field in commonInfoboxFields\" :key=\"field\">\r\n\t\t\t\t\t<div class=\"cell left-column\">\r\n\t\t\t\t\t\t<InfoboxField :value=\"leftInfobox.data[field]\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"cell middle-column\">\r\n\t\t\t\t\t\t<div class=\"attribute-name\">{{ field }}</div>\r\n\t\t\t\t\t\t<div class=\"data-type\">\r\n\t\t\t\t\t\t\t{{ getDataType(leftInfobox.data[field]) }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"cell right-column\">\r\n\t\t\t\t\t\t<InfoboxField :value=\"rightInfobox.data[field]\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\t\t\t</template>\r\n\t\t\t<div v-else class=\"no-infobox-data\">\r\n\t\t\t\t<div class=\"no-data-message\">未找到可对比的信息框数据</div>\r\n\t\t\t\t<div class=\"suggestion\">请尝试其他页面或切换到图表对比模式</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div\r\n\t\t\tv-if=\"showFullChartModal\"\r\n\t\t\tclass=\"full-chart-modal\"\r\n\t\t\t@click.self=\"hideFullChart\">\r\n\t\t\t<div class=\"modal-content\">\r\n\t\t\t\t<div class=\"modal-header\">\r\n\t\t\t\t\t<h3>{{ currentAttribute }}</h3>\r\n\t\t\t\t\t<button @click=\"hideFullChart\" class=\"close-button\">×</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<FullChart\r\n\t\t\t\t\t:data=\"currentChartData\"\r\n\t\t\t\t\t:title=\"currentAttribute\"\r\n\t\t\t\t\t:side=\"currentSide\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport { ref, computed, watch, onMounted, onBeforeUnmount } from \"vue\";\r\n\timport SparklineChart from \"./SparklineChart.vue\";\r\n\timport FullChart from \"./FullChart.vue\";\r\n\timport InfoboxField from \"./InfoboxField.vue\";\r\n\timport { debounce } from \"lodash-es\";\r\n\r\n\tconst props = defineProps({\r\n\t\tdiv1RawData: String,\r\n\t\tdiv3RawData: String,\r\n\t\tdiv1InfoboxData: Object,\r\n\t\tdiv3InfoboxData: Object\r\n\t});\r\n\r\n\tconst viewMode = ref(\"chart\");\r\n\tconst containerRef = ref(null);\r\n\tconst chartMaxWidth = ref(250);\r\n\tconst chartMaxHeight = ref(80);\r\n\tconst leftChartColor = ref(\"#4a90e2\");\r\n\tconst rightChartColor = ref(\"#ef4444\");\r\n\r\n\tconst processedTable1 = ref({\r\n\t\ttitle: \"表格1\",\r\n\t\trows: [],\r\n\t\tcolumns: [],\r\n\t\ttimeSeriesData: {}\r\n\t});\r\n\tconst processedTable2 = ref({\r\n\t\ttitle: \"表格2\",\r\n\t\trows: [],\r\n\t\tcolumns: [],\r\n\t\ttimeSeriesData: {}\r\n\t});\r\n\r\n\tconst leftInfobox = ref({\r\n\t\ttitle: \"\",\r\n\t\tdata: {},\r\n\t\ttype: \"\"\r\n\t});\r\n\tconst rightInfobox = ref({\r\n\t\ttitle: \"\",\r\n\t\tdata: {},\r\n\t\ttype: \"\"\r\n\t});\r\n\r\n\tconst showFullChartModal = ref(false);\r\n\tconst currentAttribute = ref(\"\");\r\n\tconst currentChartData = ref({ type: \"line\", data: [] });\r\n\tconst currentSide = ref(\"left\");\r\n\r\n\t// 新增方法：获取数据类型\r\n\tconst getDataType = fieldData => {\r\n\t\tif (!fieldData) return \"\";\r\n\t\treturn (\r\n\t\t\tfieldData.dataType ||\r\n\t\t\t(fieldData.links?.length ? \"link\" : fieldData.image ? \"image\" : \"text\")\r\n\t\t);\r\n\t};\r\n\r\n\tconst updateChartSize = debounce(() => {\r\n\t\tif (containerRef.value) {\r\n\t\t\tconst containerWidth = containerRef.value.clientWidth;\r\n\t\t\tchartMaxWidth.value = Math.min(250, containerWidth * 0.3);\r\n\t\t\tchartMaxHeight.value = 80;\r\n\t\t}\r\n\t}, 100);\r\n\r\n\tonMounted(() => {\r\n\t\tupdateChartSize();\r\n\t\twindow.addEventListener(\"resize\", updateChartSize);\r\n\t});\r\n\r\n\tonBeforeUnmount(() => {\r\n\t\twindow.removeEventListener(\"resize\", updateChartSize);\r\n\t});\r\n\r\n\tconst showFullChart = (attr, side) => {\r\n\t\tcurrentAttribute.value = attr;\r\n\t\tcurrentSide.value = side;\r\n\t\tcurrentChartData.value = {\r\n\t\t\ttype: \"line\",\r\n\t\t\tdata:\r\n\t\t\t\tside === \"left\"\r\n\t\t\t\t\t? processedTable1.value.timeSeriesData[attr] || []\r\n\t\t\t\t\t: processedTable2.value.timeSeriesData[attr] || []\r\n\t\t};\r\n\t\tshowFullChartModal.value = true;\r\n\t};\r\n\r\n\tconst hideFullChart = () => {\r\n\t\tshowFullChartModal.value = false;\r\n\t};\r\n\r\n\tconst hasData = computed(() => {\r\n\t\treturn (\r\n\t\t\tprops.div1RawData &&\r\n\t\t\tprops.div3RawData &&\r\n\t\t\tprocessedTable1.value.columns.length > 0 &&\r\n\t\t\tprocessedTable2.value.columns.length > 0\r\n\t\t);\r\n\t});\r\n\r\n\tconst hasInfoboxData = computed(() => {\r\n\t\treturn (\r\n\t\t\t(leftInfobox.value.data && Object.keys(leftInfobox.value.data)).length >\r\n\t\t\t\t0 ||\r\n\t\t\t(rightInfobox.value.data && Object.keys(rightInfobox.value.data)).length >\r\n\t\t\t\t0\r\n\t\t);\r\n\t});\r\n\r\n\tconst commonAttributes = computed(() => {\r\n\t\tconst attrs1 = processedTable1.value.rows || [];\r\n\t\tconst attrs2 = processedTable2.value.rows || [];\r\n\t\treturn attrs1.filter(\r\n\t\t\tattr =>\r\n\t\t\t\tattrs2.includes(attr) &&\r\n\t\t\t\t(hasDataForAttribute(processedTable1.value, attr) ||\r\n\t\t\t\t\thasDataForAttribute(processedTable2.value, attr))\r\n\t\t);\r\n\t});\r\n\r\n\tconst commonInfoboxFields = computed(() => {\r\n\t\tconst fields1 = Object.keys(leftInfobox.value.data || {});\r\n\t\tconst fields2 = Object.keys(rightInfobox.value.data || {});\r\n\t\treturn [...new Set([...fields1, ...fields2])].sort();\r\n\t});\r\n\r\n\tfunction hasDataForAttribute(table, attr) {\r\n\t\treturn table.timeSeriesData[attr]?.length > 0;\r\n\t}\r\n\r\n\tfunction parseTableToStandardJSON(html, defaultTitle = \"未命名表格\") {\r\n\t\t// ...原有表格解析逻辑保持不变...\r\n\t}\r\n\r\n\twatch(\r\n\t\t() => props.div1RawData,\r\n\t\thtml => {\r\n\t\t\tif (html) {\r\n\t\t\t\tprocessedTable1.value = parseTableToStandardJSON(html, \"表格1\");\r\n\t\t\t\tconsole.log(\"Processed table 1:\", processedTable1.value);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{ immediate: true }\r\n\t);\r\n\r\n\twatch(\r\n\t\t() => props.div3RawData,\r\n\t\thtml => {\r\n\t\t\tif (html) {\r\n\t\t\t\tprocessedTable2.value = parseTableToStandardJSON(html, \"表格2\");\r\n\t\t\t\tconsole.log(\"Processed table 2:\", processedTable2.value);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{ immediate: true }\r\n\t);\r\n\r\n\twatch(\r\n\t\t() => props.div1InfoboxData,\r\n\t\tdata => {\r\n\t\t\tif (data) {\r\n\t\t\t\tleftInfobox.value = {\r\n\t\t\t\t\ttitle: data.title || \"信息框1\",\r\n\t\t\t\t\ttype: data.type || \"通用\",\r\n\t\t\t\t\tdata: data.data || {}\r\n\t\t\t\t};\r\n\t\t\t\tconsole.log(\"Left infobox data:\", leftInfobox.value);\r\n\t\t\t} else {\r\n\t\t\t\tleftInfobox.value = { title: \"\", data: {}, type: \"\" };\r\n\t\t\t}\r\n\t\t},\r\n\t\t{ deep: true }\r\n\t);\r\n\r\n\twatch(\r\n\t\t() => props.div3InfoboxData,\r\n\t\tdata => {\r\n\t\t\tif (data) {\r\n\t\t\t\trightInfobox.value = {\r\n\t\t\t\t\ttitle: data.title || \"信息框2\",\r\n\t\t\t\t\ttype: data.type || \"通用\",\r\n\t\t\t\t\tdata: data.data || {}\r\n\t\t\t\t};\r\n\t\t\t\tconsole.log(\"Right infobox data:\", rightInfobox.value);\r\n\t\t\t} else {\r\n\t\t\t\trightInfobox.value = { title: \"\", data: {}, type: \"\" };\r\n\t\t\t}\r\n\t\t},\r\n\t\t{ deep: true }\r\n\t);\r\n</script>\r\n\r\n<style scoped>\r\n\t.compare-container {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tpadding: 10px;\r\n\t\tbox-sizing: border-box;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.mode-toggle {\r\n\t\tdisplay: flex;\r\n\t\tgap: 10px;\r\n\t\tmargin-bottom: 15px;\r\n\t}\r\n\r\n\t.mode-toggle button {\r\n\t\tpadding: 8px 16px;\r\n\t\tbackground: #f0f0f0;\r\n\t\tborder: 1px solid #ddd;\r\n\t\tborder-radius: 4px;\r\n\t\tcursor: pointer;\r\n\t\ttransition: all 0.2s;\r\n\t}\r\n\r\n\t.mode-toggle button.active {\r\n\t\tbackground: #4a90e2;\r\n\t\tcolor: white;\r\n\t\tborder-color: #4a90e2;\r\n\t}\r\n\r\n\t.mode-toggle button:disabled {\r\n\t\topacity: 0.5;\r\n\t\tcursor: not-allowed;\r\n\t}\r\n\r\n\t.table-grid,\r\n\t.infobox-grid {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: minmax(200px, 1fr) minmax(100px, 0.5fr) minmax(\r\n\t\t\t\t200px,\r\n\t\t\t\t1fr\r\n\t\t\t);\r\n\t\twidth: 98%;\r\n\t\tmax-width: 1200px;\r\n\t\tmin-width: 320px;\r\n\t\tmargin: 0 auto;\r\n\t\tbackground: white;\r\n\t\tflex: 1;\r\n\t\toverflow-x: auto;\r\n\t\toverflow-y: auto;\r\n\t\tborder-collapse: separate;\r\n\t\tborder-spacing: 0;\r\n\t\tbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n\t\tborder: 1px solid #e2e8f0;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\r\n\t.infobox-grid {\r\n\t\tgrid-auto-rows: minmax(100px, auto);\r\n\t}\r\n\r\n\t.header {\r\n\t\tpadding: 12px;\r\n\t\tbackground: #2c3e50;\r\n\t\tcolor: white;\r\n\t\tfont-weight: bold;\r\n\t\ttext-align: center;\r\n\t\tposition: sticky;\r\n\t\ttop: 0;\r\n\t\tz-index: 1;\r\n\t\tborder-right: 1px solid #475569;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tmin-height: 50px;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.cell {\r\n\t\tpadding: 12px;\r\n\t\tbackground: white;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: flex-start;\r\n\t\tjustify-content: center;\r\n\t\tmin-height: 100px;\r\n\t\tborder-bottom: 1px solid #f0f0f0;\r\n\t\tborder-right: 1px solid #f0f0f0;\r\n\t\tword-break: break-word;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.infobox-grid .cell {\r\n\t\tmin-height: 80px;\r\n\t}\r\n\r\n\t.middle-column {\r\n\t\tbackground-color: #f8fafc;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.attribute-name {\r\n\t\tfont-weight: 600;\r\n\t\tmargin-bottom: 4px;\r\n\t\tcolor: #2c3e50;\r\n\t\tfont-size: clamp(0.9em, 2vw, 1.1em);\r\n\t\ttext-align: center;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.data-type {\r\n\t\tfont-size: 0.8em;\r\n\t\tcolor: #666;\r\n\t\tfont-style: italic;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.no-infobox-data {\r\n\t\tgrid-column: 1 / -1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 40px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.no-data-message {\r\n\t\tfont-size: 1.2em;\r\n\t\tcolor: #666;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\r\n\t.suggestion {\r\n\t\tfont-size: 0.9em;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t/* 其余样式保持不变 */\r\n</style>\r\n"],"mappings":";;;;;;;AAmHC,SAASA,GAAG,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,SAAS,EAAEC,eAAe,QAAQ,KAAK;AACtE,OAAOC,cAAc,MAAM,sBAAsB;AACjD,OAAOC,SAAS,MAAM,iBAAiB;AACvC,OAAOC,YAAY,MAAM,oBAAoB;AAC7C,SAASC,QAAQ,QAAQ,WAAW;;;;;;;;;;;;;;IAEpC,MAAMC,KAAK,GAAGC,OAKZ;IAEF,MAAMC,QAAQ,GAAGX,GAAG,CAAC,OAAO,CAAC;IAC7B,MAAMY,YAAY,GAAGZ,GAAG,CAAC,IAAI,CAAC;IAC9B,MAAMa,aAAa,GAAGb,GAAG,CAAC,GAAG,CAAC;IAC9B,MAAMc,cAAc,GAAGd,GAAG,CAAC,EAAE,CAAC;IAC9B,MAAMe,cAAc,GAAGf,GAAG,CAAC,SAAS,CAAC;IACrC,MAAMgB,eAAe,GAAGhB,GAAG,CAAC,SAAS,CAAC;IAEtC,MAAMiB,eAAe,GAAGjB,GAAG,CAAC;MAC3BkB,KAAK,EAAE,KAAK;MACZC,IAAI,EAAE,EAAE;MACRC,OAAO,EAAE,EAAE;MACXC,cAAc,EAAE,CAAC;IAClB,CAAC,CAAC;IACF,MAAMC,eAAe,GAAGtB,GAAG,CAAC;MAC3BkB,KAAK,EAAE,KAAK;MACZC,IAAI,EAAE,EAAE;MACRC,OAAO,EAAE,EAAE;MACXC,cAAc,EAAE,CAAC;IAClB,CAAC,CAAC;IAEF,MAAME,WAAW,GAAGvB,GAAG,CAAC;MACvBkB,KAAK,EAAE,EAAE;MACTM,IAAI,EAAE,CAAC,CAAC;MACRC,IAAI,EAAE;IACP,CAAC,CAAC;IACF,MAAMC,YAAY,GAAG1B,GAAG,CAAC;MACxBkB,KAAK,EAAE,EAAE;MACTM,IAAI,EAAE,CAAC,CAAC;MACRC,IAAI,EAAE;IACP,CAAC,CAAC;IAEF,MAAME,kBAAkB,GAAG3B,GAAG,CAAC,KAAK,CAAC;IACrC,MAAM4B,gBAAgB,GAAG5B,GAAG,CAAC,EAAE,CAAC;IAChC,MAAM6B,gBAAgB,GAAG7B,GAAG,CAAC;MAAEyB,IAAI,EAAE,MAAM;MAAED,IAAI,EAAE;IAAG,CAAC,CAAC;IACxD,MAAMM,WAAW,GAAG9B,GAAG,CAAC,MAAM,CAAC;;IAE/B;IACA,MAAM+B,WAAW,GAAGC,SAAS,IAAI;MAChC,IAAI,CAACA,SAAS,EAAE,OAAO,EAAE;MACzB,OACCA,SAAS,CAACC,QAAQ,KACjBD,SAAS,CAACE,KAAK,EAAEC,MAAM,GAAG,MAAM,GAAGH,SAAS,CAACI,KAAK,GAAG,OAAO,GAAG,MAAM,CAAC;IAEzE,CAAC;IAED,MAAMC,eAAe,GAAG7B,QAAQ,CAAC,MAAM;MACtC,IAAII,YAAY,CAAC0B,KAAK,EAAE;QACvB,MAAMC,cAAc,GAAG3B,YAAY,CAAC0B,KAAK,CAACE,WAAW;QACrD3B,aAAa,CAACyB,KAAK,GAAGG,IAAI,CAACC,GAAG,CAAC,GAAG,EAAEH,cAAc,GAAG,GAAG,CAAC;QACzDzB,cAAc,CAACwB,KAAK,GAAG,EAAE;MAC1B;IACD,CAAC,EAAE,GAAG,CAAC;IAEPnC,SAAS,CAAC,MAAM;MACfkC,eAAe,CAAC,CAAC;MACjBM,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEP,eAAe,CAAC;IACnD,CAAC,CAAC;IAEFjC,eAAe,CAAC,MAAM;MACrBuC,MAAM,CAACE,mBAAmB,CAAC,QAAQ,EAAER,eAAe,CAAC;IACtD,CAAC,CAAC;IAEF,MAAMS,aAAa,GAAGA,CAACC,IAAI,EAAEC,IAAI,KAAK;MACrCpB,gBAAgB,CAACU,KAAK,GAAGS,IAAI;MAC7BjB,WAAW,CAACQ,KAAK,GAAGU,IAAI;MACxBnB,gBAAgB,CAACS,KAAK,GAAG;QACxBb,IAAI,EAAE,MAAM;QACZD,IAAI,EACHwB,IAAI,KAAK,MAAM,GACZ/B,eAAe,CAACqB,KAAK,CAACjB,cAAc,CAAC0B,IAAI,CAAC,IAAI,EAAE,GAChDzB,eAAe,CAACgB,KAAK,CAACjB,cAAc,CAAC0B,IAAI,CAAC,IAAI;MACnD,CAAC;MACDpB,kBAAkB,CAACW,KAAK,GAAG,IAAI;IAChC,CAAC;IAED,MAAMW,aAAa,GAAGA,CAAA,KAAM;MAC3BtB,kBAAkB,CAACW,KAAK,GAAG,KAAK;IACjC,CAAC;IAED,MAAMY,OAAO,GAAGjD,QAAQ,CAAC,MAAM;MAC9B,OACCQ,KAAK,CAAC0C,WAAW,IACjB1C,KAAK,CAAC2C,WAAW,IACjBnC,eAAe,CAACqB,KAAK,CAAClB,OAAO,CAACe,MAAM,GAAG,CAAC,IACxCb,eAAe,CAACgB,KAAK,CAAClB,OAAO,CAACe,MAAM,GAAG,CAAC;IAE1C,CAAC,CAAC;IAEF,MAAMkB,cAAc,GAAGpD,QAAQ,CAAC,MAAM;MACrC,OACC,CAACsB,WAAW,CAACe,KAAK,CAACd,IAAI,IAAI8B,MAAM,CAACC,IAAI,CAAChC,WAAW,CAACe,KAAK,CAACd,IAAI,CAAC,EAAEW,MAAM,GACrE,CAAC,IACF,CAACT,YAAY,CAACY,KAAK,CAACd,IAAI,IAAI8B,MAAM,CAACC,IAAI,CAAC7B,YAAY,CAACY,KAAK,CAACd,IAAI,CAAC,EAAEW,MAAM,GACvE,CAAC;IAEJ,CAAC,CAAC;IAEF,MAAMqB,gBAAgB,GAAGvD,QAAQ,CAAC,MAAM;MACvC,MAAMwD,MAAM,GAAGxC,eAAe,CAACqB,KAAK,CAACnB,IAAI,IAAI,EAAE;MAC/C,MAAMuC,MAAM,GAAGpC,eAAe,CAACgB,KAAK,CAACnB,IAAI,IAAI,EAAE;MAC/C,OAAOsC,MAAM,CAACE,MAAM,CACnBZ,IAAI,IACHW,MAAM,CAACE,QAAQ,CAACb,IAAI,CAAC,KACpBc,mBAAmB,CAAC5C,eAAe,CAACqB,KAAK,EAAES,IAAI,CAAC,IAChDc,mBAAmB,CAACvC,eAAe,CAACgB,KAAK,EAAES,IAAI,CAAC,CACnD,CAAC;IACF,CAAC,CAAC;IAEF,MAAMe,mBAAmB,GAAG7D,QAAQ,CAAC,MAAM;MAC1C,MAAM8D,OAAO,GAAGT,MAAM,CAACC,IAAI,CAAChC,WAAW,CAACe,KAAK,CAACd,IAAI,IAAI,CAAC,CAAC,CAAC;MACzD,MAAMwC,OAAO,GAAGV,MAAM,CAACC,IAAI,CAAC7B,YAAY,CAACY,KAAK,CAACd,IAAI,IAAI,CAAC,CAAC,CAAC;MAC1D,OAAO,CAAC,GAAG,IAAIyC,GAAG,CAAC,CAAC,GAAGF,OAAO,EAAE,GAAGC,OAAO,CAAC,CAAC,CAAC,CAACE,IAAI,CAAC,CAAC;IACrD,CAAC,CAAC;IAEF,SAASL,mBAAmBA,CAACM,KAAK,EAAEpB,IAAI,EAAE;MACzC,OAAOoB,KAAK,CAAC9C,cAAc,CAAC0B,IAAI,CAAC,EAAEZ,MAAM,GAAG,CAAC;IAC9C;IAEA,SAASiC,wBAAwBA,CAACC,IAAI,EAA0B;MAAA,IAAxBC,YAAY,GAAAC,SAAA,CAAApC,MAAA,QAAAoC,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,OAAO;IAE9D,CAAC,CADA;IAGDrE,KAAK,CACJ,MAAMO,KAAK,CAAC0C,WAAW,EACvBkB,IAAI,IAAI;MACP,IAAIA,IAAI,EAAE;QACTpD,eAAe,CAACqB,KAAK,GAAG8B,wBAAwB,CAACC,IAAI,EAAE,KAAK,CAAC;QAC7DI,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEzD,eAAe,CAACqB,KAAK,CAAC;MACzD;IACD,CAAC,EACD;MAAEqC,SAAS,EAAE;IAAK,CACnB,CAAC;IAEDzE,KAAK,CACJ,MAAMO,KAAK,CAAC2C,WAAW,EACvBiB,IAAI,IAAI;MACP,IAAIA,IAAI,EAAE;QACT/C,eAAe,CAACgB,KAAK,GAAG8B,wBAAwB,CAACC,IAAI,EAAE,KAAK,CAAC;QAC7DI,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEpD,eAAe,CAACgB,KAAK,CAAC;MACzD;IACD,CAAC,EACD;MAAEqC,SAAS,EAAE;IAAK,CACnB,CAAC;IAEDzE,KAAK,CACJ,MAAMO,KAAK,CAACmE,eAAe,EAC3BpD,IAAI,IAAI;MACP,IAAIA,IAAI,EAAE;QACTD,WAAW,CAACe,KAAK,GAAG;UACnBpB,KAAK,EAAEM,IAAI,CAACN,KAAK,IAAI,MAAM;UAC3BO,IAAI,EAAED,IAAI,CAACC,IAAI,IAAI,IAAI;UACvBD,IAAI,EAAEA,IAAI,CAACA,IAAI,IAAI,CAAC;QACrB,CAAC;QACDiD,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEnD,WAAW,CAACe,KAAK,CAAC;MACrD,CAAC,MAAM;QACNf,WAAW,CAACe,KAAK,GAAG;UAAEpB,KAAK,EAAE,EAAE;UAAEM,IAAI,EAAE,CAAC,CAAC;UAAEC,IAAI,EAAE;QAAG,CAAC;MACtD;IACD,CAAC,EACD;MAAEoD,IAAI,EAAE;IAAK,CACd,CAAC;IAED3E,KAAK,CACJ,MAAMO,KAAK,CAACqE,eAAe,EAC3BtD,IAAI,IAAI;MACP,IAAIA,IAAI,EAAE;QACTE,YAAY,CAACY,KAAK,GAAG;UACpBpB,KAAK,EAAEM,IAAI,CAACN,KAAK,IAAI,MAAM;UAC3BO,IAAI,EAAED,IAAI,CAACC,IAAI,IAAI,IAAI;UACvBD,IAAI,EAAEA,IAAI,CAACA,IAAI,IAAI,CAAC;QACrB,CAAC;QACDiD,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEhD,YAAY,CAACY,KAAK,CAAC;MACvD,CAAC,MAAM;QACNZ,YAAY,CAACY,KAAK,GAAG;UAAEpB,KAAK,EAAE,EAAE;UAAEM,IAAI,EAAE,CAAC,CAAC;UAAEC,IAAI,EAAE;QAAG,CAAC;MACvD;IACD,CAAC,EACD;MAAEoD,IAAI,EAAE;IAAK,CACd,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}