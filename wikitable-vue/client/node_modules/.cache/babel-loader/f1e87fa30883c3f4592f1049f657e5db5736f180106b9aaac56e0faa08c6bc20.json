{"ast":null,"code":"import { computed, ref } from \"vue\";\nexport default {\n  __name: 'SimpleChart',\n  props: {\n    field: [Object, Array, String, Number],\n    type: String,\n    visualization: String,\n    fieldKey: String\n  },\n  emits: [\"chartClick\"],\n  setup(__props, _ref) {\n    let {\n      expose: __expose,\n      emit: __emit\n    } = _ref;\n    __expose();\n    const props = __props;\n    const emit = __emit;\n    const hoveredIndex = ref(null);\n    const activeIndex = ref(null);\n    const isLineHovered = ref(false);\n    const isTextHovered = ref(false);\n\n    // 颜色定义\n    const pieColors = [\"#3498db\", \"#e74c3c\", \"#2ecc71\", \"#f39c12\", \"#9b59b6\"];\n    const barColors = [\"#3498db\", \"#e74c3c\", \"#2ecc71\", \"#f39c12\", \"#9b59b6\"];\n\n    // 柱状图宽度计算\n    const barWidth = computed(() => {\n      const count = simpleBarData.value.length;\n      if (count <= 1) return 30;\n      return Math.min(30, 100 / count);\n    });\n\n    // 判断是否是边缘点\n    const isEdgePoint = index => {\n      return index === 0 || index === linePointsArray.value.length - 1;\n    };\n\n    // 交互处理函数\n    const handlePieHover = index => {\n      hoveredIndex.value = index;\n    };\n    const handleBarHover = index => {\n      hoveredIndex.value = index;\n    };\n    const handlePointHover = index => {\n      hoveredIndex.value = index;\n    };\n    const handleLineHover = () => {\n      isLineHovered.value = true;\n    };\n    const handleTextHover = () => {\n      isTextHovered.value = true;\n    };\n    const resetHover = () => {\n      hoveredIndex.value = null;\n      isLineHovered.value = false;\n      isTextHovered.value = false;\n    };\n    const handlePieClick = index => {\n      activeIndex.value = index;\n      emit(\"chartClick\", {\n        type: \"pie\",\n        index,\n        data: pieData.value[index],\n        value: pieData.value[index].value\n      });\n    };\n    const handleBarClick = index => {\n      activeIndex.value = index;\n      emit(\"chartClick\", {\n        type: \"bar\",\n        index,\n        data: simpleBarData.value[index],\n        value: simpleBarData.value[index].value\n      });\n    };\n    const handlePointClick = index => {\n      activeIndex.value = index;\n      emit(\"chartClick\", {\n        type: \"line\",\n        index,\n        data: lineData.value[index],\n        value: lineData.value[index].y\n      });\n    };\n    const handleTextClick = () => {\n      emit(\"chartClick\", {\n        type: \"text\",\n        data: props.field,\n        value: props.field\n      });\n    };\n\n    // 单位转换因子\n    const getUnitFactor = fieldKey => {\n      switch (fieldKey) {\n        case \"GDP\":\n          return 1e12;\n        case \"Population\":\n          return 1e8;\n        default:\n          return 1;\n      }\n    };\n\n    // 检查是否是时间格式\n    const isTimeFormat = value => {\n      return typeof value === \"string\" && /^\\d{1,2}:\\d{2}(:\\d{2})?$/.test(value);\n    };\n\n    // 检查是否是年份条目\n    const isYearEntry = value => {\n      if (typeof value !== \"string\") return false;\n      const trimmedValue = value.trim();\n      return /^(\\()?\\d{4}(\\))?\\s*:?/.test(trimmedValue) || /^\\(?FY\\s*\\d{4}\\)?\\s*:?/i.test(trimmedValue) || /^(\\()?\\d{4}\\s*[-–]\\s*\\d{2,4}(\\))?\\s*:?/.test(trimmedValue) || /^(Year|Yr|Annual)\\s*\\d{4}/i.test(trimmedValue);\n    };\n\n    // 安全转换为数字\n    const safeToNumber = (value, fieldKey) => {\n      if (value === null || value === undefined) return 0;\n      if (isTimeFormat(value)) return null;\n      if (isYearEntry(value)) return null;\n      if (typeof value === \"number\") return value / getUnitFactor(fieldKey);\n      if (typeof value === \"string\") {\n        const percentMatch = value.match(/(\\d+\\.?\\d*)%/);\n        if (percentMatch) return parseFloat(percentMatch[1]);\n        const numStr = value.toString().replace(/[^0-9.-]/g, \"\");\n        const num = parseFloat(numStr);\n        return isNaN(num) ? 0 : num / getUnitFactor(fieldKey);\n      }\n      return 0;\n    };\n\n    // 格式化数值\n    const formatNumber = (value, fieldKey) => {\n      const num = Number(value);\n      if (isNaN(num)) return \"0\";\n      if (props.type === \"percentage\") {\n        return num.toFixed(1) + \"%\";\n      }\n      if (fieldKey === \"GDP\") {\n        return num.toFixed(2) + \"T\";\n      }\n      if (fieldKey === \"Population\") {\n        return num.toFixed(2) + \"亿\";\n      }\n      return num.toFixed(2);\n    };\n\n    // 格式化文本\n    const formatSimpleText = value => {\n      if (!value) return \"-\";\n      if (Array.isArray(value)) {\n        const items = value.map(item => item.raw || item.value || item);\n        return items.length > 2 ? items.slice(0, 2).join(\"; \") + \"...\" : items.join(\"; \");\n      }\n      if (typeof value === \"object\") {\n        return value.raw || value.value || \"-\";\n      }\n      return value.toString().length > 50 ? value.toString().substring(0, 50) + \"...\" : value.toString();\n    };\n\n    // 检查是否是有效饼图数据\n    const isValidPieData = computed(() => {\n      if (!pieData.value.length) return false;\n      return pieData.value.every(item => !isYearEntry(item.name) && !isYearEntry(item.value));\n    });\n\n    // 饼图数据处理\n    const pieData = computed(() => {\n      if (!props.field) return [];\n      const processItem = item => {\n        const rawValue = item?.value || item?.raw || item;\n        if (isYearEntry(rawValue)) return null;\n        const value = safeToNumber(rawValue, props.fieldKey);\n        if (value === null) return null;\n        let name = typeof item === \"object\" ? (item.raw || \"\").replace(/:\\s*\\d+\\.?\\d*%?/g, \"\") : \"项目\";\n        if (isYearEntry(name)) return null;\n        return {\n          value: Math.min(100, Math.max(0, value)),\n          name: name.trim() || \"项目\"\n        };\n      };\n      if (Array.isArray(props.field)) {\n        return props.field.map(processItem).filter(item => item !== null && !isYearEntry(item.name));\n      }\n      if (typeof props.field === \"object\") {\n        const result = processItem(props.field);\n        return result ? [result] : [];\n      }\n      if (isYearEntry(props.field)) return [];\n      const numValue = safeToNumber(props.field, props.fieldKey);\n      return numValue !== null && !isYearEntry(props.field) ? [{\n        value: Math.min(100, Math.max(0, numValue)),\n        name: \"数值\"\n      }] : [];\n    });\n\n    // 单个数值的扇形计算\n    const singleValueClipPath = computed(() => {\n      if (pieData.value.length !== 1) return \"\";\n      const value = Math.min(100, Math.max(0, pieData.value[0].value));\n      const degrees = value / 100 * 360;\n      if (degrees >= 360) return \"circle(50% at 50% 50%)\";\n      const center = 50;\n      const radius = 50;\n      const startAngle = -90;\n      const endAngle = startAngle + degrees;\n      const startRad = startAngle * Math.PI / 180;\n      const endRad = endAngle * Math.PI / 180;\n      const x1 = center + radius * Math.cos(startRad);\n      const y1 = center + radius * Math.sin(startRad);\n      const x2 = center + radius * Math.cos(endRad);\n      const y2 = center + radius * Math.sin(endRad);\n      const largeArcFlag = degrees <= 180 ? 0 : 1;\n      return `path(\"M ${center} ${center} L ${x1} ${y1} A ${radius} ${radius} 0 ${largeArcFlag} 1 ${x2} ${y2} Z\")`;\n    });\n\n    // 饼图切片计算\n    const pieSlices = computed(() => {\n      if (pieData.value.length <= 1) return [];\n      const total = pieData.value.reduce((sum, item) => sum + item.value, 0);\n      if (total <= 0) return [];\n      const center = 50;\n      const radius = 50;\n      let accumulated = 0;\n      return pieData.value.map((item, index) => {\n        const startAngle = accumulated / total * 360 - 90;\n        accumulated += item.value;\n        let endAngle = accumulated / total * 360 - 90;\n        endAngle = Math.max(startAngle + 0.1, endAngle);\n        const startRad = startAngle * Math.PI / 180;\n        const endRad = endAngle * Math.PI / 180;\n        const x1 = center + radius * Math.cos(startRad);\n        const y1 = center + radius * Math.sin(startRad);\n        const x2 = center + radius * Math.cos(endRad);\n        const y2 = center + radius * Math.sin(endRad);\n        const largeArcFlag = endAngle - startAngle <= 180 ? 0 : 1;\n        return {\n          style: {\n            backgroundColor: pieColors[index % pieColors.length],\n            clipPath: `path(\"M ${center} ${center} L ${x1} ${y1} A ${radius} ${radius} 0 ${largeArcFlag} 1 ${x2} ${y2} Z\")`\n          }\n        };\n      });\n    });\n\n    // 柱状图数据\n    const simpleBarData = computed(() => {\n      if (!props.field) return [];\n      let values = [];\n      if (Array.isArray(props.field)) {\n        values = props.field.filter(item => {\n          const value = item?.value || item?.raw;\n          return value !== undefined && value !== null && !isYearEntry(value);\n        }).map(item => safeToNumber(item.value || item.raw, props.fieldKey));\n      } else if (typeof props.field === \"object\") {\n        values = [safeToNumber(props.field.value || props.field.raw, props.fieldKey)].filter(v => v !== null);\n      } else {\n        values = [safeToNumber(props.field, props.fieldKey)].filter(v => v !== null);\n      }\n      if (values.length === 0) return [];\n      const max = Math.max(...values, 1);\n      return values.map((v, index) => ({\n        value: v,\n        height: v / max * 100,\n        color: barColors[index % barColors.length]\n      }));\n    });\n\n    // 折线图数据\n    const lineData = computed(() => {\n      if (!props.field) return [];\n      if (Array.isArray(props.field)) {\n        return props.field.filter(item => {\n          const value = item?.value || item?.raw;\n          return value !== undefined && value !== null && !isYearEntry(value);\n        }).map((item, index) => {\n          const value = safeToNumber(item.value || item.raw, props.fieldKey);\n          return {\n            x: index,\n            y: value,\n            raw: item.raw || item.value\n          };\n        });\n      }\n      if (typeof props.field === \"object\") {\n        const value = safeToNumber(props.field.value || props.field.raw, props.fieldKey);\n        return value !== null ? [{\n          x: 0,\n          y: value,\n          raw: props.field.raw || props.field.value\n        }] : [];\n      }\n      const value = safeToNumber(props.field, props.fieldKey);\n      return value !== null ? [{\n        x: 0,\n        y: value,\n        raw: props.field\n      }] : [];\n    });\n\n    // 折线图点\n    const linePointsArray = computed(() => {\n      if (lineData.value.length === 0) return [];\n      const maxY = Math.max(...lineData.value.map(p => p.y), 1);\n      const minY = Math.min(...lineData.value.map(p => p.y), 0);\n      const rangeY = maxY - minY;\n      const horizontalPadding = 10;\n      const availableWidth = 100 - 2 * horizontalPadding;\n      const verticalPadding = 10;\n      const availableHeight = 50 - 2 * verticalPadding;\n      return lineData.value.map((point, index) => {\n        const x = horizontalPadding + point.x / (lineData.value.length - 1) * availableWidth;\n        const y = rangeY > 0 ? verticalPadding + availableHeight - (point.y - minY) / rangeY * availableHeight : 25;\n        return {\n          x,\n          y\n        };\n      });\n    });\n    const linePoints = computed(() => {\n      return linePointsArray.value.map(p => `${p.x},${p.y}`).join(\" \");\n    });\n    const hasData = computed(() => {\n      if (!props.field) return false;\n      if (Array.isArray(props.field)) return props.field.length > 0;\n      if (typeof props.field === \"object\") return Object.keys(props.field).length > 0;\n      return String(props.field).trim().length > 0;\n    });\n    const __returned__ = {\n      props,\n      emit,\n      hoveredIndex,\n      activeIndex,\n      isLineHovered,\n      isTextHovered,\n      pieColors,\n      barColors,\n      barWidth,\n      isEdgePoint,\n      handlePieHover,\n      handleBarHover,\n      handlePointHover,\n      handleLineHover,\n      handleTextHover,\n      resetHover,\n      handlePieClick,\n      handleBarClick,\n      handlePointClick,\n      handleTextClick,\n      getUnitFactor,\n      isTimeFormat,\n      isYearEntry,\n      safeToNumber,\n      formatNumber,\n      formatSimpleText,\n      isValidPieData,\n      pieData,\n      singleValueClipPath,\n      pieSlices,\n      simpleBarData,\n      lineData,\n      linePointsArray,\n      linePoints,\n      hasData,\n      computed,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","ref","props","__props","emit","__emit","hoveredIndex","activeIndex","isLineHovered","isTextHovered","pieColors","barColors","barWidth","count","simpleBarData","value","length","Math","min","isEdgePoint","index","linePointsArray","handlePieHover","handleBarHover","handlePointHover","handleLineHover","handleTextHover","resetHover","handlePieClick","type","data","pieData","handleBarClick","handlePointClick","lineData","y","handleTextClick","field","getUnitFactor","fieldKey","isTimeFormat","test","isYearEntry","trimmedValue","trim","safeToNumber","undefined","percentMatch","match","parseFloat","numStr","toString","replace","num","isNaN","formatNumber","Number","toFixed","formatSimpleText","Array","isArray","items","map","item","raw","slice","join","substring","isValidPieData","every","name","processItem","rawValue","max","filter","result","numValue","singleValueClipPath","degrees","center","radius","startAngle","endAngle","startRad","PI","endRad","x1","cos","y1","sin","x2","y2","largeArcFlag","pieSlices","total","reduce","sum","accumulated","style","backgroundColor","clipPath","values","v","height","color","x","maxY","p","minY","rangeY","horizontalPadding","availableWidth","verticalPadding","availableHeight","point","linePoints","hasData","Object","keys","String"],"sources":["D:/vue_frame/vue_frame/wikitable-vue/client/src/components/compoents_base/SimpleChart.vue"],"sourcesContent":["<template>\r\n\t<div class=\"simple-chart\">\r\n\t\t<!-- 文本显示 -->\r\n\t\t<template v-if=\"visualization === 'text-only'\">\r\n\t\t\t<div\r\n\t\t\t\tclass=\"simple-text\"\r\n\t\t\t\t@click=\"handleTextClick\"\r\n\t\t\t\t@mouseenter=\"handleTextHover\"\r\n\t\t\t\t@mouseleave=\"resetHover\">\r\n\t\t\t\t{{ formatSimpleText(field) }}\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"isTextHovered\" class=\"text-tooltip\">点击查看详情</div>\r\n\t\t</template>\r\n\r\n\t\t<!-- 饼图 -->\r\n\t\t<template v-else-if=\"visualization === 'pie-chart'\">\r\n\t\t\t<div v-if=\"hasData && isValidPieData\" class=\"simple-pie-container\">\r\n\t\t\t\t<div class=\"pie-chart-wrapper\">\r\n\t\t\t\t\t<div class=\"simple-pie\" @mouseleave=\"resetHover\">\r\n\t\t\t\t\t\t<div class=\"pie-slice-bg\"></div>\r\n\t\t\t\t\t\t<template v-if=\"pieData.length === 1\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"pie-slice\"\r\n\t\t\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\t\t\t'pie-slice-hover': hoveredIndex === 0,\r\n\t\t\t\t\t\t\t\t\t'pie-slice-active': activeIndex === 0\r\n\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t@mouseenter=\"handlePieHover(0)\"\r\n\t\t\t\t\t\t\t\t@click=\"handlePieClick(0)\"\r\n\t\t\t\t\t\t\t\t:style=\"{\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: pieColors[0],\r\n\t\t\t\t\t\t\t\t\tclipPath: singleValueClipPath\r\n\t\t\t\t\t\t\t\t}\"></div>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tv-for=\"(slice, index) in pieSlices\"\r\n\t\t\t\t\t\t\t\t:key=\"'slice-' + index\"\r\n\t\t\t\t\t\t\t\tclass=\"pie-slice\"\r\n\t\t\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\t\t\t'pie-slice-hover': hoveredIndex === index,\r\n\t\t\t\t\t\t\t\t\t'pie-slice-active': activeIndex === index\r\n\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t@mouseenter=\"handlePieHover(index)\"\r\n\t\t\t\t\t\t\t\t@click=\"handlePieClick(index)\"\r\n\t\t\t\t\t\t\t\t:style=\"slice.style\"></div>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"hoveredIndex !== null\" class=\"pie-tooltip\">\r\n\t\t\t\t\t{{ pieData[hoveredIndex].name }}:\r\n\t\t\t\t\t{{ pieData[hoveredIndex].value.toFixed(1)\r\n\t\t\t\t\t}}{{ type === \"percentage\" ? \"%\" : \"\" }}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div v-else class=\"no-data\">-</div>\r\n\t\t</template>\r\n\r\n\t\t<!-- 柱状图 -->\r\n\t\t<template v-else-if=\"visualization === 'bar-chart'\">\r\n\t\t\t<div v-if=\"hasData\" class=\"simple-bars-container\">\r\n\t\t\t\t<div class=\"simple-bars\" @mouseleave=\"resetHover\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tv-for=\"(item, index) in simpleBarData\"\r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\tclass=\"simple-bar\"\r\n\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\t'bar-hover': hoveredIndex === index,\r\n\t\t\t\t\t\t\t'bar-active': activeIndex === index\r\n\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t@mouseenter=\"handleBarHover(index)\"\r\n\t\t\t\t\t\t@click=\"handleBarClick(index)\"\r\n\t\t\t\t\t\t:style=\"{\r\n\t\t\t\t\t\t\theight: item.height + '%',\r\n\t\t\t\t\t\t\tbackgroundColor: barColors[index],\r\n\t\t\t\t\t\t\twidth: barWidth + '%'\r\n\t\t\t\t\t\t}\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"hoveredIndex !== null\" class=\"bar-tooltip\">\r\n\t\t\t\t\t{{ formatNumber(simpleBarData[hoveredIndex].value, fieldKey) }}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div v-else class=\"no-data\">-</div>\r\n\t\t</template>\r\n\r\n\t\t<!-- 折线图 -->\r\n\t\t<template v-else-if=\"visualization === 'line-chart'\">\r\n\t\t\t<div v-if=\"hasData\" class=\"simple-line-container\">\r\n\t\t\t\t<svg viewBox=\"0 0 100 50\" class=\"line-svg\" @mouseleave=\"resetHover\">\r\n\t\t\t\t\t<polyline\r\n\t\t\t\t\t\t:points=\"linePoints\"\r\n\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\tstroke=\"#3498db\"\r\n\t\t\t\t\t\t:stroke-width=\"isLineHovered ? 3 : 2\"\r\n\t\t\t\t\t\tclass=\"line-path\"\r\n\t\t\t\t\t\t@mouseenter=\"handleLineHover\" />\r\n\t\t\t\t\t<circle\r\n\t\t\t\t\t\tv-for=\"(point, index) in linePointsArray\"\r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t:cx=\"point.x\"\r\n\t\t\t\t\t\t:cy=\"point.y\"\r\n\t\t\t\t\t\t:r=\"hoveredIndex === index ? 4 : 2\"\r\n\t\t\t\t\t\tfill=\"#3498db\"\r\n\t\t\t\t\t\t:stroke=\"hoveredIndex === index ? 'white' : 'none'\"\r\n\t\t\t\t\t\tstroke-width=\"1\"\r\n\t\t\t\t\t\tclass=\"line-point\"\r\n\t\t\t\t\t\t:style=\"{\r\n\t\t\t\t\t\t\t'pointer-events': isEdgePoint(index) ? 'none' : 'all'\r\n\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t@mouseenter=\"handlePointHover(index)\"\r\n\t\t\t\t\t\t@click=\"handlePointClick(index)\" />\r\n\t\t\t\t</svg>\r\n\t\t\t\t<div v-if=\"hoveredIndex !== null\" class=\"line-tooltip\">\r\n\t\t\t\t\t{{\r\n\t\t\t\t\t\tlineData[hoveredIndex].raw ||\r\n\t\t\t\t\t\tformatNumber(lineData[hoveredIndex].y, fieldKey)\r\n\t\t\t\t\t}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div v-else class=\"no-data\">-</div>\r\n\t\t</template>\r\n\r\n\t\t<!-- 默认显示 -->\r\n\t\t<template v-else>\r\n\t\t\t<div\r\n\t\t\t\tclass=\"simple-text\"\r\n\t\t\t\t@click=\"handleTextClick\"\r\n\t\t\t\t@mouseenter=\"handleTextHover\"\r\n\t\t\t\t@mouseleave=\"resetHover\">\r\n\t\t\t\t{{ formatSimpleText(field) }}\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"isTextHovered\" class=\"text-tooltip\">点击查看详情</div>\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport { computed, ref } from \"vue\";\r\n\r\n\tconst props = defineProps({\r\n\t\tfield: [Object, Array, String, Number],\r\n\t\ttype: String,\r\n\t\tvisualization: String,\r\n\t\tfieldKey: String\r\n\t});\r\n\r\n\tconst emit = defineEmits([\"chartClick\"]);\r\n\r\n\tconst hoveredIndex = ref(null);\r\n\tconst activeIndex = ref(null);\r\n\tconst isLineHovered = ref(false);\r\n\tconst isTextHovered = ref(false);\r\n\r\n\t// 颜色定义\r\n\tconst pieColors = [\"#3498db\", \"#e74c3c\", \"#2ecc71\", \"#f39c12\", \"#9b59b6\"];\r\n\tconst barColors = [\"#3498db\", \"#e74c3c\", \"#2ecc71\", \"#f39c12\", \"#9b59b6\"];\r\n\r\n\t// 柱状图宽度计算\r\n\tconst barWidth = computed(() => {\r\n\t\tconst count = simpleBarData.value.length;\r\n\t\tif (count <= 1) return 30;\r\n\t\treturn Math.min(30, 100 / count);\r\n\t});\r\n\r\n\t// 判断是否是边缘点\r\n\tconst isEdgePoint = index => {\r\n\t\treturn index === 0 || index === linePointsArray.value.length - 1;\r\n\t};\r\n\r\n\t// 交互处理函数\r\n\tconst handlePieHover = index => {\r\n\t\thoveredIndex.value = index;\r\n\t};\r\n\r\n\tconst handleBarHover = index => {\r\n\t\thoveredIndex.value = index;\r\n\t};\r\n\r\n\tconst handlePointHover = index => {\r\n\t\thoveredIndex.value = index;\r\n\t};\r\n\r\n\tconst handleLineHover = () => {\r\n\t\tisLineHovered.value = true;\r\n\t};\r\n\r\n\tconst handleTextHover = () => {\r\n\t\tisTextHovered.value = true;\r\n\t};\r\n\r\n\tconst resetHover = () => {\r\n\t\thoveredIndex.value = null;\r\n\t\tisLineHovered.value = false;\r\n\t\tisTextHovered.value = false;\r\n\t};\r\n\r\n\tconst handlePieClick = index => {\r\n\t\tactiveIndex.value = index;\r\n\t\temit(\"chartClick\", {\r\n\t\t\ttype: \"pie\",\r\n\t\t\tindex,\r\n\t\t\tdata: pieData.value[index],\r\n\t\t\tvalue: pieData.value[index].value\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleBarClick = index => {\r\n\t\tactiveIndex.value = index;\r\n\t\temit(\"chartClick\", {\r\n\t\t\ttype: \"bar\",\r\n\t\t\tindex,\r\n\t\t\tdata: simpleBarData.value[index],\r\n\t\t\tvalue: simpleBarData.value[index].value\r\n\t\t});\r\n\t};\r\n\r\n\tconst handlePointClick = index => {\r\n\t\tactiveIndex.value = index;\r\n\t\temit(\"chartClick\", {\r\n\t\t\ttype: \"line\",\r\n\t\t\tindex,\r\n\t\t\tdata: lineData.value[index],\r\n\t\t\tvalue: lineData.value[index].y\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleTextClick = () => {\r\n\t\temit(\"chartClick\", {\r\n\t\t\ttype: \"text\",\r\n\t\t\tdata: props.field,\r\n\t\t\tvalue: props.field\r\n\t\t});\r\n\t};\r\n\r\n\t// 单位转换因子\r\n\tconst getUnitFactor = fieldKey => {\r\n\t\tswitch (fieldKey) {\r\n\t\t\tcase \"GDP\":\r\n\t\t\t\treturn 1e12;\r\n\t\t\tcase \"Population\":\r\n\t\t\t\treturn 1e8;\r\n\t\t\tdefault:\r\n\t\t\t\treturn 1;\r\n\t\t}\r\n\t};\r\n\r\n\t// 检查是否是时间格式\r\n\tconst isTimeFormat = value => {\r\n\t\treturn typeof value === \"string\" && /^\\d{1,2}:\\d{2}(:\\d{2})?$/.test(value);\r\n\t};\r\n\r\n\t// 检查是否是年份条目\r\n\tconst isYearEntry = value => {\r\n\t\tif (typeof value !== \"string\") return false;\r\n\t\tconst trimmedValue = value.trim();\r\n\t\treturn (\r\n\t\t\t/^(\\()?\\d{4}(\\))?\\s*:?/.test(trimmedValue) ||\r\n\t\t\t/^\\(?FY\\s*\\d{4}\\)?\\s*:?/i.test(trimmedValue) ||\r\n\t\t\t/^(\\()?\\d{4}\\s*[-–]\\s*\\d{2,4}(\\))?\\s*:?/.test(trimmedValue) ||\r\n\t\t\t/^(Year|Yr|Annual)\\s*\\d{4}/i.test(trimmedValue)\r\n\t\t);\r\n\t};\r\n\r\n\t// 安全转换为数字\r\n\tconst safeToNumber = (value, fieldKey) => {\r\n\t\tif (value === null || value === undefined) return 0;\r\n\t\tif (isTimeFormat(value)) return null;\r\n\t\tif (isYearEntry(value)) return null;\r\n\t\tif (typeof value === \"number\") return value / getUnitFactor(fieldKey);\r\n\t\tif (typeof value === \"string\") {\r\n\t\t\tconst percentMatch = value.match(/(\\d+\\.?\\d*)%/);\r\n\t\t\tif (percentMatch) return parseFloat(percentMatch[1]);\r\n\t\t\tconst numStr = value.toString().replace(/[^0-9.-]/g, \"\");\r\n\t\t\tconst num = parseFloat(numStr);\r\n\t\t\treturn isNaN(num) ? 0 : num / getUnitFactor(fieldKey);\r\n\t\t}\r\n\t\treturn 0;\r\n\t};\r\n\r\n\t// 格式化数值\r\n\tconst formatNumber = (value, fieldKey) => {\r\n\t\tconst num = Number(value);\r\n\t\tif (isNaN(num)) return \"0\";\r\n\r\n\t\tif (props.type === \"percentage\") {\r\n\t\t\treturn num.toFixed(1) + \"%\";\r\n\t\t}\r\n\t\tif (fieldKey === \"GDP\") {\r\n\t\t\treturn num.toFixed(2) + \"T\";\r\n\t\t}\r\n\t\tif (fieldKey === \"Population\") {\r\n\t\t\treturn num.toFixed(2) + \"亿\";\r\n\t\t}\r\n\t\treturn num.toFixed(2);\r\n\t};\r\n\r\n\t// 格式化文本\r\n\tconst formatSimpleText = value => {\r\n\t\tif (!value) return \"-\";\r\n\t\tif (Array.isArray(value)) {\r\n\t\t\tconst items = value.map(item => item.raw || item.value || item);\r\n\t\t\treturn items.length > 2\r\n\t\t\t\t? items.slice(0, 2).join(\"; \") + \"...\"\r\n\t\t\t\t: items.join(\"; \");\r\n\t\t}\r\n\t\tif (typeof value === \"object\") {\r\n\t\t\treturn value.raw || value.value || \"-\";\r\n\t\t}\r\n\t\treturn value.toString().length > 50\r\n\t\t\t? value.toString().substring(0, 50) + \"...\"\r\n\t\t\t: value.toString();\r\n\t};\r\n\r\n\t// 检查是否是有效饼图数据\r\n\tconst isValidPieData = computed(() => {\r\n\t\tif (!pieData.value.length) return false;\r\n\t\treturn pieData.value.every(\r\n\t\t\titem => !isYearEntry(item.name) && !isYearEntry(item.value)\r\n\t\t);\r\n\t});\r\n\r\n\t// 饼图数据处理\r\n\tconst pieData = computed(() => {\r\n\t\tif (!props.field) return [];\r\n\r\n\t\tconst processItem = item => {\r\n\t\t\tconst rawValue = item?.value || item?.raw || item;\r\n\t\t\tif (isYearEntry(rawValue)) return null;\r\n\r\n\t\t\tconst value = safeToNumber(rawValue, props.fieldKey);\r\n\t\t\tif (value === null) return null;\r\n\r\n\t\t\tlet name =\r\n\t\t\t\ttypeof item === \"object\"\r\n\t\t\t\t\t? (item.raw || \"\").replace(/:\\s*\\d+\\.?\\d*%?/g, \"\")\r\n\t\t\t\t\t: \"项目\";\r\n\r\n\t\t\tif (isYearEntry(name)) return null;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tvalue: Math.min(100, Math.max(0, value)),\r\n\t\t\t\tname: name.trim() || \"项目\"\r\n\t\t\t};\r\n\t\t};\r\n\r\n\t\tif (Array.isArray(props.field)) {\r\n\t\t\treturn props.field\r\n\t\t\t\t.map(processItem)\r\n\t\t\t\t.filter(item => item !== null && !isYearEntry(item.name));\r\n\t\t}\r\n\r\n\t\tif (typeof props.field === \"object\") {\r\n\t\t\tconst result = processItem(props.field);\r\n\t\t\treturn result ? [result] : [];\r\n\t\t}\r\n\r\n\t\tif (isYearEntry(props.field)) return [];\r\n\t\tconst numValue = safeToNumber(props.field, props.fieldKey);\r\n\t\treturn numValue !== null && !isYearEntry(props.field)\r\n\t\t\t? [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: Math.min(100, Math.max(0, numValue)),\r\n\t\t\t\t\t\tname: \"数值\"\r\n\t\t\t\t\t}\r\n\t\t\t  ]\r\n\t\t\t: [];\r\n\t});\r\n\r\n\t// 单个数值的扇形计算\r\n\tconst singleValueClipPath = computed(() => {\r\n\t\tif (pieData.value.length !== 1) return \"\";\r\n\t\tconst value = Math.min(100, Math.max(0, pieData.value[0].value));\r\n\t\tconst degrees = (value / 100) * 360;\r\n\r\n\t\tif (degrees >= 360) return \"circle(50% at 50% 50%)\";\r\n\r\n\t\tconst center = 50;\r\n\t\tconst radius = 50;\r\n\t\tconst startAngle = -90;\r\n\t\tconst endAngle = startAngle + degrees;\r\n\r\n\t\tconst startRad = (startAngle * Math.PI) / 180;\r\n\t\tconst endRad = (endAngle * Math.PI) / 180;\r\n\r\n\t\tconst x1 = center + radius * Math.cos(startRad);\r\n\t\tconst y1 = center + radius * Math.sin(startRad);\r\n\t\tconst x2 = center + radius * Math.cos(endRad);\r\n\t\tconst y2 = center + radius * Math.sin(endRad);\r\n\r\n\t\tconst largeArcFlag = degrees <= 180 ? 0 : 1;\r\n\r\n\t\treturn `path(\"M ${center} ${center} L ${x1} ${y1} A ${radius} ${radius} 0 ${largeArcFlag} 1 ${x2} ${y2} Z\")`;\r\n\t});\r\n\r\n\t// 饼图切片计算\r\n\tconst pieSlices = computed(() => {\r\n\t\tif (pieData.value.length <= 1) return [];\r\n\r\n\t\tconst total = pieData.value.reduce((sum, item) => sum + item.value, 0);\r\n\t\tif (total <= 0) return [];\r\n\r\n\t\tconst center = 50;\r\n\t\tconst radius = 50;\r\n\t\tlet accumulated = 0;\r\n\r\n\t\treturn pieData.value.map((item, index) => {\r\n\t\t\tconst startAngle = (accumulated / total) * 360 - 90;\r\n\t\t\taccumulated += item.value;\r\n\t\t\tlet endAngle = (accumulated / total) * 360 - 90;\r\n\r\n\t\t\tendAngle = Math.max(startAngle + 0.1, endAngle);\r\n\r\n\t\t\tconst startRad = (startAngle * Math.PI) / 180;\r\n\t\t\tconst endRad = (endAngle * Math.PI) / 180;\r\n\r\n\t\t\tconst x1 = center + radius * Math.cos(startRad);\r\n\t\t\tconst y1 = center + radius * Math.sin(startRad);\r\n\t\t\tconst x2 = center + radius * Math.cos(endRad);\r\n\t\t\tconst y2 = center + radius * Math.sin(endRad);\r\n\r\n\t\t\tconst largeArcFlag = endAngle - startAngle <= 180 ? 0 : 1;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tbackgroundColor: pieColors[index % pieColors.length],\r\n\t\t\t\t\tclipPath: `path(\"M ${center} ${center} L ${x1} ${y1} A ${radius} ${radius} 0 ${largeArcFlag} 1 ${x2} ${y2} Z\")`\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t});\r\n\t});\r\n\r\n\t// 柱状图数据\r\n\tconst simpleBarData = computed(() => {\r\n\t\tif (!props.field) return [];\r\n\r\n\t\tlet values = [];\r\n\r\n\t\tif (Array.isArray(props.field)) {\r\n\t\t\tvalues = props.field\r\n\t\t\t\t.filter(item => {\r\n\t\t\t\t\tconst value = item?.value || item?.raw;\r\n\t\t\t\t\treturn value !== undefined && value !== null && !isYearEntry(value);\r\n\t\t\t\t})\r\n\t\t\t\t.map(item => safeToNumber(item.value || item.raw, props.fieldKey));\r\n\t\t} else if (typeof props.field === \"object\") {\r\n\t\t\tvalues = [\r\n\t\t\t\tsafeToNumber(props.field.value || props.field.raw, props.fieldKey)\r\n\t\t\t].filter(v => v !== null);\r\n\t\t} else {\r\n\t\t\tvalues = [safeToNumber(props.field, props.fieldKey)].filter(\r\n\t\t\t\tv => v !== null\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (values.length === 0) return [];\r\n\r\n\t\tconst max = Math.max(...values, 1);\r\n\t\treturn values.map((v, index) => ({\r\n\t\t\tvalue: v,\r\n\t\t\theight: (v / max) * 100,\r\n\t\t\tcolor: barColors[index % barColors.length]\r\n\t\t}));\r\n\t});\r\n\r\n\t// 折线图数据\r\n\tconst lineData = computed(() => {\r\n\t\tif (!props.field) return [];\r\n\r\n\t\tif (Array.isArray(props.field)) {\r\n\t\t\treturn props.field\r\n\t\t\t\t.filter(item => {\r\n\t\t\t\t\tconst value = item?.value || item?.raw;\r\n\t\t\t\t\treturn value !== undefined && value !== null && !isYearEntry(value);\r\n\t\t\t\t})\r\n\t\t\t\t.map((item, index) => {\r\n\t\t\t\t\tconst value = safeToNumber(item.value || item.raw, props.fieldKey);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tx: index,\r\n\t\t\t\t\t\ty: value,\r\n\t\t\t\t\t\traw: item.raw || item.value\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (typeof props.field === \"object\") {\r\n\t\t\tconst value = safeToNumber(\r\n\t\t\t\tprops.field.value || props.field.raw,\r\n\t\t\t\tprops.fieldKey\r\n\t\t\t);\r\n\t\t\treturn value !== null\r\n\t\t\t\t? [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\ty: value,\r\n\t\t\t\t\t\t\traw: props.field.raw || props.field.value\r\n\t\t\t\t\t\t}\r\n\t\t\t\t  ]\r\n\t\t\t\t: [];\r\n\t\t}\r\n\r\n\t\tconst value = safeToNumber(props.field, props.fieldKey);\r\n\t\treturn value !== null\r\n\t\t\t? [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\ty: value,\r\n\t\t\t\t\t\traw: props.field\r\n\t\t\t\t\t}\r\n\t\t\t  ]\r\n\t\t\t: [];\r\n\t});\r\n\r\n\t// 折线图点\r\n\tconst linePointsArray = computed(() => {\r\n\t\tif (lineData.value.length === 0) return [];\r\n\r\n\t\tconst maxY = Math.max(...lineData.value.map(p => p.y), 1);\r\n\t\tconst minY = Math.min(...lineData.value.map(p => p.y), 0);\r\n\t\tconst rangeY = maxY - minY;\r\n\r\n\t\tconst horizontalPadding = 10;\r\n\t\tconst availableWidth = 100 - 2 * horizontalPadding;\r\n\r\n\t\tconst verticalPadding = 10;\r\n\t\tconst availableHeight = 50 - 2 * verticalPadding;\r\n\r\n\t\treturn lineData.value.map((point, index) => {\r\n\t\t\tconst x =\r\n\t\t\t\thorizontalPadding +\r\n\t\t\t\t(point.x / (lineData.value.length - 1)) * availableWidth;\r\n\t\t\tconst y =\r\n\t\t\t\trangeY > 0\r\n\t\t\t\t\t? verticalPadding +\r\n\t\t\t\t\t  availableHeight -\r\n\t\t\t\t\t  ((point.y - minY) / rangeY) * availableHeight\r\n\t\t\t\t\t: 25;\r\n\t\t\treturn { x, y };\r\n\t\t});\r\n\t});\r\n\r\n\tconst linePoints = computed(() => {\r\n\t\treturn linePointsArray.value.map(p => `${p.x},${p.y}`).join(\" \");\r\n\t});\r\n\r\n\tconst hasData = computed(() => {\r\n\t\tif (!props.field) return false;\r\n\t\tif (Array.isArray(props.field)) return props.field.length > 0;\r\n\t\tif (typeof props.field === \"object\")\r\n\t\t\treturn Object.keys(props.field).length > 0;\r\n\t\treturn String(props.field).trim().length > 0;\r\n\t});\r\n</script>\r\n\r\n<style scoped>\r\n\t.simple-chart {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tposition: relative;\r\n\t\tfont-family: Arial, sans-serif;\r\n\t}\r\n\r\n\t/* 文本样式 */\r\n\t.simple-text {\r\n\t\ttext-align: center;\r\n\t\tfont-size: 14px;\r\n\t\tword-break: break-word;\r\n\t\tpadding: 8px;\r\n\t\tcursor: pointer;\r\n\t\ttransition: all 0.2s ease;\r\n\t\tborder-radius: 4px;\r\n\t\tbackground-color: #f8f9fa;\r\n\t\tmax-width: 100%;\r\n\t}\r\n\r\n\t.simple-text:hover {\r\n\t\tbackground-color: #e9ecef;\r\n\t\ttransform: translateY(-2px);\r\n\t\tbox-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n\t}\r\n\r\n\t.text-tooltip {\r\n\t\tposition: absolute;\r\n\t\ttop: -25px;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\tbackground-color: rgba(0, 0, 0, 0.8);\r\n\t\tcolor: white;\r\n\t\tpadding: 4px 8px;\r\n\t\tborder-radius: 4px;\r\n\t\tfont-size: 12px;\r\n\t\tpointer-events: none;\r\n\t\twhite-space: nowrap;\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\t/* 饼图样式 */\r\n\t.simple-pie-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tgap: 8px;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.pie-chart-wrapper {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 10px;\r\n\t}\r\n\r\n\t.simple-pie {\r\n\t\twidth: 80px;\r\n\t\theight: 80px;\r\n\t\tborder-radius: 50%;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\tcursor: pointer;\r\n\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n\t\ttransition: transform 0.3s ease;\r\n\t\t-webkit-backface-visibility: hidden;\r\n\t\tbackface-visibility: hidden;\r\n\t\ttransform: translateZ(0);\r\n\t\taspect-ratio: 1/1;\r\n\t}\r\n\r\n\t.simple-pie:hover {\r\n\t\ttransform: scale(1.05);\r\n\t}\r\n\r\n\t.pie-slice-bg {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tz-index: 0;\r\n\t\taspect-ratio: 1/1;\r\n\t}\r\n\r\n\t.pie-slice {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\ttransform-origin: center;\r\n\t\tz-index: 1;\r\n\t\ttransition: all 0.3s ease;\r\n\t\taspect-ratio: 1/1;\r\n\t\t-webkit-backface-visibility: hidden;\r\n\t\tbackface-visibility: hidden;\r\n\t\ttransform: translateZ(0);\r\n\t}\r\n\r\n\t.pie-slice-hover {\r\n\t\ttransform: scale(1.1);\r\n\t\topacity: 0.9;\r\n\t\tz-index: 2;\r\n\t\tfilter: brightness(1.1);\r\n\t}\r\n\r\n\t.pie-slice-active {\r\n\t\tfilter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.3));\r\n\t}\r\n\r\n\t.pie-tooltip {\r\n\t\tposition: absolute;\r\n\t\ttop: -30px;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\tbackground-color: rgba(0, 0, 0, 0.8);\r\n\t\tcolor: white;\r\n\t\tpadding: 6px 12px;\r\n\t\tborder-radius: 4px;\r\n\t\tfont-size: 12px;\r\n\t\tpointer-events: none;\r\n\t\tz-index: 10;\r\n\t\twhite-space: nowrap;\r\n\t\tbox-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\r\n\t}\r\n\r\n\t/* 柱状图样式 */\r\n\t.simple-bars-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tgap: 8px;\r\n\t\twidth: 100%;\r\n\t\tposition: relative;\r\n\t\tpadding: 10px 0;\r\n\t}\r\n\r\n\t.simple-bars {\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-end;\r\n\t\theight: 80px;\r\n\t\tgap: 6px;\r\n\t\twidth: 100%;\r\n\t\tpadding: 0 15px;\r\n\t\tcursor: pointer;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.simple-bar {\r\n\t\tmin-width: 8px;\r\n\t\ttransition: all 0.3s ease;\r\n\t\tborder-radius: 4px 4px 0 0;\r\n\t\tposition: relative;\r\n\t\tmargin: 0 2px;\r\n\t}\r\n\r\n\t.bar-hover {\r\n\t\ttransform: translateY(-5px);\r\n\t\topacity: 0.9;\r\n\t\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n\t\tfilter: brightness(1.1);\r\n\t}\r\n\r\n\t.bar-active {\r\n\t\tfilter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.3));\r\n\t}\r\n\r\n\t.bar-tooltip {\r\n\t\tposition: absolute;\r\n\t\ttop: -30px;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\tbackground-color: rgba(0, 0, 0, 0.8);\r\n\t\tcolor: white;\r\n\t\tpadding: 6px 12px;\r\n\t\tborder-radius: 4px;\r\n\t\tfont-size: 12px;\r\n\t\tpointer-events: none;\r\n\t\tz-index: 10;\r\n\t\twhite-space: nowrap;\r\n\t\tbox-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\r\n\t}\r\n\r\n\t/* 折线图样式 */\r\n\t.simple-line-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tgap: 8px;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: relative;\r\n\t\tpadding: 10px;\r\n\t}\r\n\r\n\t.line-svg {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tmax-height: 80px;\r\n\t\tcursor: pointer;\r\n\t\toverflow: visible;\r\n\t}\r\n\r\n\t.line-path {\r\n\t\ttransition: all 0.3s ease;\r\n\t\tstroke-linecap: round;\r\n\t\tstroke-linejoin: round;\r\n\t\tvector-effect: non-scaling-stroke;\r\n\t}\r\n\r\n\t.line-point {\r\n\t\ttransition: all 0.3s ease;\r\n\t\tcursor: pointer;\r\n\t\tpointer-events: auto;\r\n\t}\r\n\r\n\t.line-point:first-child,\r\n\t.line-point:last-child {\r\n\t\tpointer-events: none;\r\n\t\topacity: 0.7;\r\n\t}\r\n\r\n\t.line-tooltip {\r\n\t\tposition: absolute;\r\n\t\ttop: -30px;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\tbackground-color: rgba(0, 0, 0, 0.8);\r\n\t\tcolor: white;\r\n\t\tpadding: 6px 12px;\r\n\t\tborder-radius: 4px;\r\n\t\tfont-size: 12px;\r\n\t\tpointer-events: none;\r\n\t\tz-index: 10;\r\n\t\twhite-space: nowrap;\r\n\t\tbox-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\r\n\t}\r\n\r\n\t/* 无数据样式 */\r\n\t.no-data {\r\n\t\tcolor: #999;\r\n\t\tfont-style: italic;\r\n\t\tpadding: 10px;\r\n\t}\r\n\r\n\t/* 动画效果 */\r\n\t@keyframes pulse {\r\n\t\t0% {\r\n\t\t\ttransform: scale(1);\r\n\t\t}\r\n\t\t50% {\r\n\t\t\ttransform: scale(1.05);\r\n\t\t}\r\n\t\t100% {\r\n\t\t\ttransform: scale(1);\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes bounce {\r\n\t\t0%,\r\n\t\t100% {\r\n\t\t\ttransform: translateY(0);\r\n\t\t}\r\n\t\t50% {\r\n\t\t\ttransform: translateY(-5px);\r\n\t\t}\r\n\t}\r\n\r\n\t.pie-slice-hover,\r\n\t.bar-hover {\r\n\t\tanimation: pulse 1.5s infinite;\r\n\t}\r\n\r\n\t.line-point:hover {\r\n\t\tanimation: bounce 0.5s ease infinite;\r\n\t}\r\n\r\n\t/* 响应式调整 */\r\n\t@media (max-width: 768px) {\r\n\t\t.simple-pie {\r\n\t\t\twidth: 60px;\r\n\t\t\theight: 60px;\r\n\t\t}\r\n\r\n\t\t.simple-bars {\r\n\t\t\theight: 60px;\r\n\t\t}\r\n\r\n\t\t.line-svg {\r\n\t\t\theight: 60px;\r\n\t\t}\r\n\t}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}